/*!
*  filename: ej2-base.min.js
*  version : 4.2.52
*  Copyright ï¿½ 2001 - 2022 Syncfusion Inc. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
this.ej=this.ej||{},this.ej.base=function(e){"use strict";function t(){Je=!1}function r(e,t){var r=t;return r.unshift(void 0),new(Function.prototype.bind.apply(e,r))}function n(e){var t,r=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(r);var n="ej2"+C(r),i=function(r){r.source===window&&"string"==typeof r.data&&r.data.length<=32&&r.data===n&&(e(),t())};return window.addEventListener("message",i,!1),window.postMessage(n,"*"),t=function(){window.removeEventListener("message",i),e=i=n=void 0}}function i(e,t){for(var r=t,n=e.replace(/\[/g,".").replace(/\]/g,"").split("."),i=0;i<n.length&&!h(r);i++)r=r[n[i]];return r}function o(e,t,r){var n,i,o=e.replace(/\[/g,".").replace(/\]/g,"").split("."),a=r||{},s=a,l=o.length;for(n=0;n<l;n++)i=o[n],n+1===l?s[i]=void 0===t?{}:t:p(s[i])&&(s[i]={}),s=s[i];return a}function a(e,t){delete e[t]}function s(e){var t={};return!p(e)&&e.constructor===t.constructor}function l(e,t){return e[t]}function c(e,t){if(!p(t))for(var r=e,n=t,i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];p(r.deepMerge)||-1===r.deepMerge.indexOf(a)||!s(n[a])&&!Array.isArray(n[a])?r[a]=n[a]:u(r[a],r[a],n[a],!0)}}function u(e,t,r,n){var i=e&&"object"==typeof e?e:{},o=arguments.length;n&&(o-=1);for(var a=arguments,l=1;l<o;l++)!function(e){if(!a[e])return"continue";var t=a[e];Object.keys(t).forEach(function(e){var r,o=i[e],a=t[e],l=!E()||!(o instanceof Event);n&&l&&(s(a)||Array.isArray(a))?s(a)?(r=o||{},Array.isArray(r)&&r.hasOwnProperty("isComplexArray")?u(r,{},a,n):i[e]=u(r,{},a,n)):(r=o||[],i[e]=u([],r,a,n)):i[e]=a})}(l);return i}function p(e){return void 0===e||null===e}function h(e){return void 0===e}function d(e){return e+"_"+Ue++}function m(e,t){var r;return function(){var n=this,i=arguments,o=function(){return r=null,e.apply(n,i)};clearTimeout(r),r=setTimeout(o,t)}}function f(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t.push(encodeURIComponent(i)+"="+encodeURIComponent(""+e[i]))}return t.join("&")}function g(e){var t=Object.prototype.toString;return"[object Array]"===t.call(e)&&"[object Object]"===t.call(e[0])}function v(e,t){var r=e;return r===t||!(r===document||!r)&&v(r.parentNode,t)}function y(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}}function b(e,t){var r=document.createElement("div"),n=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),i="";p(t)&&(t=window.open("","print","height=452,width=1024,tabbar=no")),r.appendChild(e.cloneNode(!0));for(var o=0,a=n.length;o<a;o++)i+=n[o].outerHTML;t.document.write("<!DOCTYPE html> <html><head>"+i+"</head><body>"+r.innerHTML+"<script> (function() { window.ready = true; })(); <\/script></body></html>"),t.document.close(),t.focus();var s=setInterval(function(){t.ready&&(t.print(),t.close(),clearInterval(s))},500);return t}function M(e){var t=e+"";return"auto"===t||-1!==t.indexOf("%")||-1!==t.indexOf("px")?t:t+"px"}function w(){Je=!0}function E(){return Je}function D(e){return e instanceof Node||!E()||p(e.xPath)?e:document.evaluate(e.xPath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function P(e,t){var r="string"==typeof e?document.querySelector(e):e;if(r[We])for(var n=0,i=r[We];n<i.length;n++){var o=i[n];if(o instanceof t)return o}return null}function O(e,t){var r="string"==typeof e?document.querySelector(e):e;r[We]?r[We].push(t):r[We]=[t]}function S(){if("undefined"!=typeof window){var e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}}function C(e){for(var t="",r=0;r<5;r++)t+=(r?",":"")+e[r];return t}function j(t){e.defaultCulture=t,dt.notify("notifyExternalChange",{locale:e.defaultCulture})}function x(t){e.defaultCurrencyCode=t,dt.notify("notifyExternalChange",{currencyCode:e.defaultCurrencyCode})}function T(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var i=n[r];u(mt,i,{},!0)}}function N(t){void 0===t&&(t=!0),e.rightToLeft=t,dt.notify("notifyExternalChange",{enableRtl:e.rightToLeft})}function F(t,r){var n=e.IntlBase.getDependables(mt,t,"",!0)[ft[0]],o=e.IntlBase.getDependables(mt,t,"")[ft[1]],a=i("defaultNumberingSystem",n),s=i("symbols-numberSystem-"+a,n),l=e.IntlBase.getSymbolPattern(r||"decimal",a,n,!1);return u(s,e.IntlBase.getFormatData(l,!0,"",!0),{dateSeparator:e.IntlBase.getDateSeparator(o)})}function A(t,r){var n=e.IntlBase.getDependables(mt,t,"",!0);return e.IntlBase.getCurrencySymbol(n.numericObject,r)}function I(t){return e.IntlBase.getDependables(mt,"",t,!1)[ft[1]]}function R(e,t){var r=Et.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return void 0===t?r:(r.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(r.className=t.className),void 0!==t.id&&(r.id=t.id),void 0!==t.styles&&r.setAttribute("style",t.styles),void 0!==t.attrs&&V(r,t.attrs),r)}function H(e,t){for(var r=L(t),n=0,i=e;n<i.length;n++)for(var o=i[n],a=0,s=r;a<s.length;a++){var l=s[a];o.classList.contains(l)||o.classList.add(l)}return e}function k(e,t){for(var r=L(t),n=0,i=e;n<i.length;n++){var o=i[n];if(""!==o.className)for(var a=0,s=r;a<s.length;a++){var l=s[a];o.classList.remove(l)}}return e}function L(e){var t=[];return"string"==typeof e?t.push(e):t=e,t}function B(e){var t=e;return""===t.style.visibility&&t.offsetWidth>0}function G(e,t,r){for(var n=document.createDocumentFragment(),i=0,o=e;i<o.length;i++){var a=o[i];n.appendChild(a)}return t.insertBefore(n,t.firstElementChild),r&&z(t),e}function _(e,t,r){for(var n=document.createDocumentFragment(),i=0,o=e;i<o.length;i++){var a=o[i];n.appendChild(a)}return t.appendChild(n),r&&z(t),e}function z(e){e.querySelectorAll("script").forEach(function(e){var t=document.createElement("script");t.text=e.innerHTML,document.head.appendChild(t),Y(t)})}function Y(e){return e.parentNode.removeChild(e)}function X(e){var t=e.parentNode;wt.clearEvents(e),t.removeChild(e)}function V(e,t){for(var r=e,n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];r.setAttribute(o,t[o])}return r}function q(e,t){return void 0===t&&(t=document),t.querySelector(e)}function W(e,t){return void 0===t&&(t=document),t.querySelectorAll(e)}function U(e,t){var r=e;if("function"==typeof r.closest)return r.closest(t);for(;r&&1===r.nodeType;){if(Q(r,t))return r;r=r.parentNode}return null}function J(e){for(var t=[],r=0,n=Array.prototype.slice.call(e.parentNode.childNodes);r<n.length;r++){var i=n[r];i.nodeType===Node.ELEMENT_NODE&&e!==i&&t.push(i)}return t}function Z(e,t,r){var n=e.getAttribute(t);return p(n)&&(e.setAttribute(t,r.toString()),n=r),n}function $(e,t){void 0!==t&&Object.keys(t).forEach(function(r){e.style[r]=t[r]})}function K(e,t,r){H([e],t),k([e],r)}function Q(e,t){var r=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return r?r.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}function ee(e,t){var r,n,i="string"==typeof e?document.getElementById(e):e;for(n=0;n<i.ej2_instances.length;n++)if(r=i.ej2_instances[n],"string"==typeof t){if(t===r.getModuleName())return r}else if(r instanceof t)return r}function te(e){for(var t=[].slice.call(e.getElementsByClassName("e-control")),r=0;r<t.length;r++){var n=t[r].classList[1].split("e-")[1],i=ee(t[r],n);h(i)||i.destroy()}}function re(e,t,n,i){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof i||(e.properties[t]=r(i,[e,t,n])),e.properties[t]}function ne(e,t,n,i,o,a){for(var s=[],l=n?n.length:0,c=0;c<l;c++){var u=i;if(a&&(u=i(n[c],e)),o){var p=r(u,[e,t,{},!0]);p.setProperties(n[c],!0),s.push(p)}else s.push(r(u,[e,t,n[c],!1]))}return s}function ie(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=e),this.properties[t]}}function oe(e,t){return function(r){if(this.properties[t]!==r){var n=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,r,n),this.properties[t]=r}}}function ae(e,t,r){return function(){return re(this,t,e,r)}}function se(e,t,r){return function(n){re(this,t,e,r).setProperties(n)}}function le(e,t,r){return function(){var n=r({});return this.properties.hasOwnProperty(t)?this.properties[t]:re(this,t,e,n)}}function ce(e,t,r){return function(n){var i=r(n,this);re(this,t,e,i).setProperties(n)}}function ue(e,t,r){return function(){var n=this;if(!this.properties.hasOwnProperty(t)){var i=ne(this,t,e,r,!1);this.properties[t]=i}var o=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return this.properties[t].hasOwnProperty("push")||o||["push","pop"].forEach(function(e){var i={value:me(e,t,r,n.properties[t]).bind(n),configurable:!0};Object.defineProperty(n.properties[t],e,i)}),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[t],"isComplexArray",{value:!0}),this.properties[t]}}function pe(e,t,r){return function(n){this.isComplexArraySetter=!0;var i=ne(this,t,e,r,!1),o=ne(this,t,n,r,!0);this.isComplexArraySetter=!1,this.saveChanges(t,o,i),this.properties[t]=o}}function he(e,t,r){return function(n){var i=this.properties.hasOwnProperty(t)?this.properties[t]:e,o=ne(this,t,n,r,!0,!0);this.saveChanges(t,o,i),this.properties[t]=o}}function de(e,t,r){return function(){var n=r({});if(!this.properties.hasOwnProperty(t)){var i=ne(this,t,e,n,!1);this.properties[t]=i}return this.properties[t]}}function me(e,t,r,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(e){case"push":for(var a=0;a<r.length;a++){Array.prototype[e].apply(n,[r[a]]);var s=fe(o+(n.length-1),r[a],!this.controlParent,e);this.serverDataBind(s,r[a],!1,e)}break;case"pop":Array.prototype[e].apply(n);var l=fe(o+n.length,null,!this.controlParent,e);this.serverDataBind(l,{ejsAction:"pop"},!1,e)}return n}}function fe(e,t,r,n){var i=e;if(r&&(i={},i[e]=t,t&&"object"==typeof t)){i[e].ejsAction=n}return i}function ge(e){return function(t,r){var n={set:oe(e,r),get:ie(e,r),enumerable:!0,configurable:!0};Object.defineProperty(t,r,n),De(t,r,"prop",e)}}function ve(e,t){return function(r,n){var i={set:se(e,n,t),get:ae(e,n,t),enumerable:!0,configurable:!0};Object.defineProperty(r,n,i),De(r,n,"complexProp",e,t)}}function ye(e){return function(t,r){var n={set:ce({},r,e),get:le({},r,e),enumerable:!0,configurable:!0};Object.defineProperty(t,r,n),De(t,r,"complexProp",{},e)}}function be(e,t){return function(r,n){var i={set:pe(e,n,t),get:ue(e,n,t),enumerable:!0,configurable:!0};Object.defineProperty(r,n,i),De(r,n,"colProp",e,t)}}function Me(e){return function(t,r){var n={set:he([],r,e),get:de([],r,e),enumerable:!0,configurable:!0};Object.defineProperty(t,r,n),De(t,r,"colProp",{},e)}}function we(){return function(e,t){var r={set:function(e){var r=this.properties[t];if(r!==e){var n=Se(this,t);!1===h(r)&&n.context.removeEventListener(n.prefix,r),n.context.addEventListener(n.prefix,e),this.properties[t]=e}},get:ie(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,r),De(e,t,"event")}}function Ee(e){}function De(e,t,r,n,i){h(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[r+"s"].push({propertyName:t,defaultValue:n,type:i}),e.propList[r+"Names"].push(t)}function Pe(e){if(h(e.prototype.builderObject)){e.prototype.builderObject={properties:{},propCollections:[],add:function(){this.isPropertyArray=!0,this.propCollections.push(u({},this.properties,{}))}};for(var t=/complex/,r=0,n=Object.keys(e.prototype.propList);r<n.length;r++)for(var i=n[r],o=0,a=e.prototype.propList[i];o<a.length;o++)!function(r){t.test(i)?e.prototype.builderObject[r.propertyName]=function(e){var t={};c(t,Pe(r.type)),e(t);var n;return n=t.isPropertyArray?t.propCollections:u({},t.properties,{}),this.properties[r.propertyName]=n,t.properties={},t.propCollections=[],t.isPropertyArray=!1,this}:e.prototype.builderObject[r.propertyName]=function(e){return this.properties[r.propertyName]=e,this}}(a[o])}return e.prototype.builderObject}function Oe(e){var t=function(e){return this.element=e,this};return function(r){return t.prototype.hasOwnProperty("create")||((t.prototype=Pe(e)).create=function(){var t=u({},{},this.properties);return this.properties={},new e(t,this.element)}),new t(r)}}function Se(e,t){if(!1===e.hasOwnProperty("parentObj"))return{context:e,prefix:t};var r=i("propName",e);return r&&(t=r+"-"+t),Se(i("parentObj",e),t)}function Ce(t,r,n){var i=je(r);return!1===i.rippleFlag||void 0===i.rippleFlag&&!e.isRippleEnabled?Function:(t.setAttribute("data-ripple","true"),wt.add(t,"mousedown",xe,{parent:t,rippleOptions:i}),wt.add(t,"mouseup",Te,{parent:t,rippleOptions:i,done:n}),wt.add(t,"mouseleave",Ne,{parent:t,rippleOptions:i}),St.isPointer&&wt.add(t,"transitionend",Ne,{parent:t,rippleOptions:i}),function(){t.removeAttribute("data-ripple"),wt.remove(t,"mousedown",xe),wt.remove(t,"mouseup",Te),wt.remove(t,"mouseleave",Ne),wt.remove(t,"transitionend",Ne)})}function je(e){return{selector:e&&e.selector?e.selector:null,ignore:e&&e.ignore?e.ignore:null,rippleFlag:e&&e.rippleFlag,isCenterRipple:e&&e.isCenterRipple,duration:e&&e.duration?e.duration:350}}function xe(e){var t=e.target,r=this.rippleOptions.selector,n=r?U(t,r):t;if(!(!n||this.rippleOptions&&U(t,this.rippleOptions.ignore))){var i=n.getBoundingClientRect(),o=e.pageX-document.body.scrollLeft,a=e.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),s=Math.max(Math.abs(o-i.left),Math.abs(o-i.right)),l=Math.max(Math.abs(a-i.top),Math.abs(a-i.bottom)),c=Math.sqrt(s*s+l*l),u=2*c+"px",p=o-i.left-c,h=a-i.top-c;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(p=0,h=0,u="100%"),n.classList.add("e-ripple");var d=R("div",{className:"e-ripple-element",styles:"width: "+u+";height: "+u+";left: "+p+"px;top: "+h+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});n.appendChild(d),window.getComputedStyle(d).getPropertyValue("opacity"),d.style.transform="scale(1)",n!==this.parent&&wt.add(n,"mouseleave",Ne,{parent:this.parent,rippleOptions:this.rippleOptions})}}function Te(e){Fe(e,this)}function Ne(e){Fe(e,this)}function Fe(e,t){var r=t.rippleOptions.duration,n=e.target,i=t.rippleOptions.selector,o=i?U(n,i):n;if(o&&(!o||-1!==o.className.indexOf("e-ripple"))){var a=W(".e-ripple-element",o),s=a[a.length-1];s&&(s.style.opacity="0.5"),t.parent!==o&&wt.remove(o,"mouseleave",Ne),setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s),o.getElementsByClassName("e-ripple-element").length||o.classList.remove("e-ripple"),t.done&&t.done(e)},r)}}function Ae(t){return e.isRippleEnabled=t,e.isRippleEnabled}function Ie(e,t){var r='var str="'+Re(e,"data",t)+'"; return str;';return new Function("data",r).bind(t)}function Re(e,t,r){var n=0,i=[],o=e.match(/class="([^\"]+|)\s{2}/g),a="";return o&&o.forEach(function(t){a=t.replace(/\s\s+/g," "),e=e.replace(t,a)}),e.replace(nr,"").replace(dr,"'$1'").replace(fr,function(e,o,a,s){var l=/\@|\#|\$/gm,c=o.match(ur);if(c){var u=c[1];if(ar.test(o))o='";} '+o.replace(c[1],u.replace(hr,function(e){return e=e.trim(),He(e,!ir.test(e)&&-1===i.indexOf(e),t,i)}))+'{ \n str = str + "';else if(or.test(o))o='"; '+o.replace(c[1],u.replace(mr,function(e){return Ge(e,t,i)}))+'{ \n str = str + "';else if(lr.test(o)){var p=c[1].split(" of ");o='"; '+o.replace(c[1],function(e){return i.push(p[0]),i.push(p[0]+"Index"),"var i"+(n+=1)+"=0; i"+n+" < "+He(p[1],!0,t,i)+".length; i"+n+"++"})+"{ \n "+p[0]+"= "+He(p[1],!0,t,i)+"[i"+n+"]; \n var "+p[0]+"Index=i"+n+'; \n str = str + "'}else{var h=o.split("("),d=r&&r.hasOwnProperty(h[0])?"this.":"global";d=/\./.test(h[0])?"":d;var m=c[1].split(",");0===c[1].length||/data/.test(m[0])||/window./.test(m[0])||(c[1]="global"===d?t+"."+c[1]:c[1]);var f=/\@|\$|\#/gm,g=/\]\./gm;Mr.test(o)&&g.test(o)||f.test(o)?/\@|\$|\#|\]\./gm.test(o)&&(o='"+ '+("global"===d?"":d)+o.replace(c[1],u.replace(br,function(e){return Ge(e,t,i)}))+'+ "'):o='" + '+("global"===d?"":d)+o.replace(u,He(c[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==d,t,i))+'+"'}}else sr.test(o)?o='"; '+o.replace(sr,'} else { \n str = str + "'):o.match(cr)?o=o.replace(cr,'"; \n } \n str = str + "'):l.test(o)?(o.match(vr)&&(o=Be(o)),o='"+'+Le(o,-1===i.indexOf(o),t,i)+'"]+"'):o=o.match(vr)?'"+'+Le(o=Be(o),-1===i.indexOf(o),t,i)+'"]+"':'"+'+He(o.replace(/\,/gi,"+"+t+"."),-1===i.indexOf(o),t,i)+'+"';return o})}function He(e,t,r,n){return t&&!pr.test(e)&&-1===n.indexOf(e.split(".")[0])?r+"."+e:e}function ke(e,t,r,n){var i=/^\..*/gm;return!t||pr.test(e)||-1!==n.indexOf(e.split(".")[0])||i.test(e)?e:r+"."+e}function Le(e,t,r,n){return t&&!pr.test(e)&&-1===n.indexOf(e.split(".")[0])?r+'["'+e:e}function Be(e){return e=e.match(yr)?e:e.replace(vr,"\\\\")}function Ge(e,t,r){if(e=e.trim(),/\window\./gm.test(e))return e;var n=/'|"/gm;return/\@|\$|\#/gm.test(e)&&(e=Le(e,-1===r.indexOf(e),t,r)+'"]'),gr.test(e)?ke(e,!n.test(e)&&-1===r.indexOf(e),t,r):He(e,!n.test(e)&&-1===r.indexOf(e),t,r)}function _e(){return"-"+Math.random().toString(36).substr(2,5)}function ze(e,t){var r=Pr.compile(e,t);return function(e,t,n,i,o,a){var s=r(e,t,n);if(E()&&!o){var l=i+_e();if(Dr[i]||(Dr[i]=[]),p(a))e.BlazorTemplateId=l,Dr[i].push(e);else for(var c=0,u=Object.keys(Dr[i][a]);c<u.length;c++){var h=u[c];"BlazorTemplateId"!==h&&e[h]&&(Dr[i][a][h]=e[h]),"BlazorTemplateId"===h&&(l=Dr[i][a][h])}return"rowTemplate"===n?[R("tr",{id:l,className:"e-blazor-template"})]:[R("div",{id:l,className:"e-blazor-template"})]}if("string"==typeof s){if(Er.test(s))return(d=R("svg",{innerHTML:s})).childNodes;var d=R(wr.test(s)?"table":"div",{innerHTML:s});return d.childNodes}return s}}function Ye(e,t,r,n,i){if(E()){window.ejsInterop.updateTemplate(t,Dr[e],e,r,i),!1!==n&&(Dr[e]=[])}}function Xe(e,t,r){var n=document.getElementById(e);if(n)for(var i=n.getElementsByClassName("blazor-inner-template"),o=0;o<i.length;o++){var a=" ";a=p(r)?i[o].getAttribute("data-templateId"):i[r].getAttribute("data-templateId");var s=document.getElementById(a);if(s)for(var l=s.childNodes.length,c=0;c<l;c++)p(r)?i[o].appendChild(s.childNodes[0]):(i[r].appendChild(s.childNodes[0]),o=i.length)}}function Ve(e){Pr.compile=e.compile}function qe(){return Pr.compile}var We="ej2_instances",Ue=0,Je=!1,Ze={latn:{_digits:"0123456789",_type:"numeric"}},$e={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"â",nan:"NaN",exponential:"E"},Ke=[0,1,2,3,4,5,6,7,8,9],Qe=function(){function e(){}return e.getMainObject=function(e,t){return i("main."+t,e)},e.getNumberingSystem=function(e){return i("supplemental.numberingSystems",e)||this.numberingSystems},e.reverseObject=function(e,t){for(var r={},n=0,i=t||Object.keys(e);n<i.length;n++){var o=i[n];r.hasOwnProperty(e[o])||(r[e[o]]=o)}return r},e.getSymbolRegex=function(e){var t=e.map(function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join("|");return new RegExp(t,"g")},e.getSymbolMatch=function(e){for(var t={},r=0,n=Object.keys($e);r<n.length;r++){var i=n[r];t[e[i]]=$e[i]}return t},e.constructRegex=function(e){for(var t=e.length,r="",n=0;n<t;n++)r+=n!==t-1?e[n]+"|":e[n];return r},e.convertValueParts=function(e,t,r){return e.replace(t,function(e){return r[e]})},e.getDefaultNumberingSystem=function(e){var t={};return t.obj=i("numbers",e),t.nSystem=i("defaultNumberingSystem",t.obj),t},e.getCurrentNumericOptions=function(e,t,r){var n={},o=this.getDefaultNumberingSystem(e);if(!h(o.nSystem)){var a=i(o.nSystem+"._digits",t);h(a)||(n.numericPair=this.reverseObject(a,Ke),n.numberParseRegex=new RegExp(this.constructRegex(a),"g"),n.numericRegex="["+a[0]+"-"+a[9]+"]",r&&(n.numericRegex=a[0]+"-"+a[9],n.symbolNumberSystem=i("symbols-numberSystem-"+o.nSystem,o.obj),n.symbolMatch=this.getSymbolMatch(n.symbolNumberSystem),n.numberSystem=o.nSystem))}return n},e.getNumberMapper=function(e,t,r){var n={mapper:{}},o=this.getDefaultNumberingSystem(e);if(!h(o.nSystem)){n.numberSystem=o.nSystem,n.numberSymbols=i("symbols-numberSystem-"+o.nSystem,o.obj),n.timeSeparator=i("timeSeparator",n.numberSymbols);var a=i(o.nSystem+"._digits",t);if(!h(a))for(var s=0,l=Ke;s<l.length;s++){var c=l[s];n.mapper[c]=a[c]}}return n},e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=Ze,e}();!function(e){function t(e){var t=e.getDate(),r=e.getMonth(),i=e.getFullYear(),o=r+1,a=i;o<3&&(a-=1,o+=12);var s=Math.floor(a/100),l=s-Math.floor(s/4)-2,c=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(o+1))+t-l-1524,u=c+(l=(s=Math.floor((c-1867216.25)/36524.25))-Math.floor(s/4)+1)+1524,p=Math.floor((u-122.1)/365.25),h=Math.floor(365.25*p),d=Math.floor((u-h)/30.6001);t=u-h-Math.floor(30.6001*d),(r=Math.floor((u-h)/20.6001))>13&&(p+=1,r-=12),r-=1,i=p-4716;var m=c-24e5,f=c-1948084,g=Math.floor(f/10631);f-=10631*g;var v=Math.floor((f-.1335)/(10631/30)),y=30*g+v;f-=Math.floor(v*(10631/30)+.1335);var b=Math.floor((f+28.5001)/29.5);13===b&&(b=12);for(var M=f-Math.floor(29.5001*b-29),w=0;w<n.length&&!(n[w]>m);w++);var E=w+16260,D=Math.floor((E-1)/12),P=D+1,O=E-12*D,S=m-n[w-1]+1;return(S+"").length>2&&(S=M,O=b,P=y),{year:P,month:O,date:S}}function r(e,t,r){var i=r+n[12*(e-1)+1+(t-1)-16260-1]-1+24e5,o=Math.floor(i+.5),a=Math.floor((o-1867216.25)/36524.25),s=(a=o+1+a-Math.floor(a/4))+1524,l=Math.floor((s-122.1)/365.25),c=Math.floor(365.25*l),u=Math.floor((s-c)/30.6001),p=s-c-Math.floor(30.6001*u),h=u-(u>13.5?13:1),d=l-(h>2.5?4716:4715);return d<=0&&h--,new Date(d+"/"+h+"/"+p)}var n=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=t,e.toGregorian=r}(e.HijriParser||(e.HijriParser={}));var et=["sun","mon","tue","wed","thu","fri","sat"],tt={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},rt={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},nt=function(){function t(){}return t.dateFormat=function(t,r,n){var o=this,a=e.IntlBase.getDependables(n,t,r.calendar),s={isIslamic:e.IntlBase.islamicRegex.test(r.calendar)};E()&&r.isServerRendered&&(r=e.IntlBase.compareBlazorDateFormats(r,t));var l=r.format||e.IntlBase.getResultantPattern(r.skeleton,a.dateObject,r.type);if(s.dateSeperator=e.IntlBase.getDateSeparator(a.dateObject),h(l))y("Format options or type given must be invalid");else{s.pattern=l,s.numMapper=Qe.getNumberMapper(a.parserObject,Qe.getNumberingSystem(n));for(var c=0,u=l.match(/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|cccc|ccc|G+|z+/gi)||[];c<u.length;c++){var p=u[c],d=p.length,m=p[0];switch("K"===m&&(m="h"),m){case"E":case"c":s.weekday=a.dateObject[e.IntlBase.days]["stand-alone"][e.IntlBase.monthIndex[d]];break;case"M":case"L":s.month=a.dateObject[e.IntlBase.month]["stand-alone"][e.IntlBase.monthIndex[d]];break;case"a":s.designator=i("dayPeriods.format.wide",a.dateObject);break;case"G":var f=d<=3?"eraAbbr":4===d?"eraNames":"eraNarrow";s.era=i("eras."+f,a.dateObject);break;case"z":s.timeZone=i("dates.timeZoneNames",a.parserObject)}}}return function(e){return isNaN(e.getDate())?null:o.intDateFormatter(e,s)}},t.intDateFormatter=function(t,r){for(var n="",i=r.pattern.match(e.IntlBase.dateParseRegex),o=this.getCurrentDateValue(t,r.isIslamic),a=0,s=i;a<s.length;a++){var l=s[a],c=l.length,u=l[0];"K"===u&&(u="h");var h=void 0,d="",m=void 0,f=void 0,g="";switch(u){case"M":case"L":h=o.month,c>2?n+=r.month[h]:m=!0;break;case"E":case"c":n+=r.weekday[et[t.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(m=!0,"d"===u)h=o.date;else if("f"===u){m=!1,f=!0;var v=(d=(d=t[tt[u]]().toString()).substring(0,c)).length;if(c!==v){if(c>3)continue;for(var y=0;y<c-v;y++)d="0"+d.toString()}g+=d}else h=t[tt[u]]();"h"===u&&(h=h%12||12);break;case"y":f=!0,g+=o.year,2===c&&(g=g.substr(g.length-2));break;case"a":var b=t.getHours()<12?"am":"pm";n+=r.designator[b];break;case"G":var M=t.getFullYear()<0?0:1,w=r.era[M];p(w)&&(w=r.era[M?0:1]),n+=w||"";break;case"'":n+="''"===l?"'":l.replace(/\'/g,"");break;case"z":var E=t.getTimezoneOffset(),D=c<4?"+H;-H":r.timeZone.hourFormat;D=D.replace(/:/g,r.numMapper.timeSeparator),0===E?n+=r.timeZone.gmtZeroFormat:(f=!0,g=this.getTimeZoneValue(E,D)),g=r.timeZone.gmtFormat.replace(/\{0\}/,g);break;case":":n+=r.numMapper.numberSymbols.timeSeparator;break;case"/":n+=r.dateSeperator;break;default:n+=l}m&&(f=!0,g=this.checkTwodigitNumber(h,c)),f&&(n+=Qe.convertValueParts(g,e.IntlBase.latnParseRegex,r.numMapper.mapper))}return n},t.getCurrentDateValue=function(t,r){return r?e.HijriParser.getHijriDate(t):{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()}},t.checkTwodigitNumber=function(e,t){var r=e+"";return 2===t&&2!==r.length?"0"+r:r},t.getTimeZoneValue=function(e,t){var r=this,n=t.split(";")[e>0?1:0],i=Math.abs(e);return n=n.replace(/HH?|mm/g,function(e){var t=e.length,n=-1!==e.indexOf("H");return r.checkTwodigitNumber(Math.floor(n?i/60:i%60),t)})},t}(),it={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},ot=["infinity","nan","group","decimal","exponential"],at=function(){function t(){}return t.numberFormatter=function(t,r,n){var i,o=this,a=u({},r),s={},l={},c=e.IntlBase.getDependables(n,t,"",!0);l.numberMapper=Qe.getNumberMapper(c.parserObject,Qe.getNumberingSystem(n),!0),l.currencySymbol=e.IntlBase.getCurrencySymbol(c.numericObject,a.currency||e.defaultCurrencyCode,r.altSymbol),l.percentSymbol=l.numberMapper.numberSymbols.percentSign,l.minusSymbol=l.numberMapper.numberSymbols.minusSign;var p=l.numberMapper.numberSymbols;if(r.format&&!e.IntlBase.formatRegex.test(r.format))s=e.IntlBase.customFormat(r.format,l,c.numericObject);else{u(a,e.IntlBase.getProperNumericSkeleton(r.format||"N")),a.isCurrency="currency"===a.type,a.isPercent="percent"===a.type,i=e.IntlBase.getSymbolPattern(a.type,l.numberMapper.numberSystem,c.numericObject,a.isAccount),a.groupOne=this.checkValueRange(a.maximumSignificantDigits,a.minimumSignificantDigits,!0),this.checkValueRange(a.maximumFractionDigits,a.minimumFractionDigits,!1,!0),h(a.fractionDigits)||(a.minimumFractionDigits=a.maximumFractionDigits=a.fractionDigits),h(a.useGrouping)&&(a.useGrouping=!0),a.isCurrency&&(i=i.replace(/\u00A4/g,e.IntlBase.defaultCurrency));var d=i.split(";");if(s.nData=e.IntlBase.getFormatData(d[1]||"-"+d[0],!0,l.currencySymbol),s.pData=e.IntlBase.getFormatData(d[0],!1,l.currencySymbol),a.useGrouping&&(a.groupSeparator=p[ot[2]],a.groupData=this.getGroupingDetails(d[0])),h(a.minimumFractionDigits)&&(a.minimumFractionDigits=s.nData.minimumFraction),h(a.maximumFractionDigits)){var m=s.nData.maximumFraction;a.maximumFractionDigits=h(m)&&a.isPercent?0:m}var f=a.minimumFractionDigits,g=a.maximumFractionDigits;h(f)||h(g)||f>g&&(a.maximumFractionDigits=f)}return u(s.nData,a),u(s.pData,a),function(e){return isNaN(e)?p[ot[1]]:isFinite(e)?o.intNumberFormatter(e,s,l):p[ot[0]]}},t.getGroupingDetails=function(t){var r={},n=t.match(e.IntlBase.negativeDataRegex);if(n&&n[4]){var i=n[4],o=i.lastIndexOf(",");if(-1!==o){var a=i.split(".")[0];r.primary=a.length-o-1;var s=i.lastIndexOf(",",o-1);-1!==s&&(r.secondary=o-1-s)}}return r},t.checkValueRange=function(e,t,r,n){var i=n?"f":"s",o=0,a=it["l"+i],s=it["m"+i];if(h(e)||(this.checkRange(e,a,n),o++),h(t)||(this.checkRange(t,s,n),o++),2===o){if(!(e<t))return!0;y(s+"specified must be less than the"+a)}else r&&1===o&&y("Both"+s+"and"+s+"must be present");return!1},t.checkRange=function(e,t,r){var n=r?[0,20]:[1,21];(e<n[0]||e>n[1])&&y(t+"value must be within the range"+n[0]+"to"+n[1])},t.intNumberFormatter=function(t,r,n){var i;if(!h(r.nData.type)){t<0?(t*=-1,i=r.nData):i=0===t?r.zeroData||r.pData:r.pData;var o="";return i.isPercent&&(t*=100),i.groupOne?o=this.processSignificantDigits(t,i.minimumSignificantDigits,i.maximumSignificantDigits):(o=this.processFraction(t,i.minimumFractionDigits,i.maximumFractionDigits),i.minimumIntegerDigits&&(o=this.processMinimumIntegers(o,i.minimumIntegerDigits))),"scientific"===i.type&&(o=(o=t.toExponential(i.maximumFractionDigits)).replace("e",n.numberMapper.numberSymbols[ot[4]])),o=o.replace(".",n.numberMapper.numberSymbols[ot[3]]),i.useGrouping&&(o=this.groupNumbers(o,i.groupData.primary,i.groupSeparator||",",n.numberMapper.numberSymbols[ot[3]]||".",i.groupData.secondary)),o=Qe.convertValueParts(o,e.IntlBase.latnParseRegex,n.numberMapper.mapper),"N/A"===i.nlead?i.nlead:i.nlead+o+i.nend}},t.processSignificantDigits=function(e,t,r){var n=e+"";return n.length<t?e.toPrecision(t):(n=e.toPrecision(r),+n+"")},t.groupNumbers=function(e,t,r,n,i){for(var o=!p(i)&&0!==i,a=e.split(n),s=a[0],l=s.length,c="";l>t;)c=s.slice(l-t,l)+(c.length?r+c:""),l-=t,o&&(t=i,o=!1);return a[0]=s.slice(0,l)+(c.length?r:"")+c,a.join(n)},t.processFraction=function(e,t,r){var n=(e+"").split(".")[1],i=n?n.length:0;if(t&&i<t){var o="";if(0!==i){o+=e;for(var a=0;a<t-i;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}return!p(r)&&(i>r||0===r)?e.toFixed(r):e+""},t.processMinimumIntegers=function(e,t){var r=e.split("."),n=r[0],i=n.length;if(i<t){for(var o=0;o<t-i;o++)n="0"+n;r[0]=n}return r.join(".")},t}(),st=/^[0-9]*$/,lt={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},ct=function(){function t(){}return t.dateParser=function(t,r,n){var o=this,a=e.IntlBase.getDependables(n,t,r.calendar),s=Qe.getCurrentNumericOptions(a.parserObject,Qe.getNumberingSystem(n)),l={};E()&&r.isServerRendered&&(r=e.IntlBase.compareBlazorDateFormats(r,t));var c,u=r.format||e.IntlBase.getResultantPattern(r.skeleton,a.dateObject,r.type),d="";if(h(u))y("Format options or type given must be invalid");else{l={isIslamic:e.IntlBase.islamicRegex.test(r.calendar),pattern:u,evalposition:{}};for(var m=u.match(e.IntlBase.dateParseRegex)||[],f=m.length,g=0,v=0,b=!1,M=s.numericRegex,w=Qe.getNumberMapper(a.parserObject,Qe.getNumberingSystem(n)),D=0;D<f;D++){var P=m[D],O=P.length,S="K"===P[0]?"h":P[0],C=void 0,j=void 0,x=rt[S],T=2===O?"":"?";switch(b&&(g=v,b=!1),S){case"E":case"c":var N=Qe.reverseObject(a.dateObject[e.IntlBase.days]["stand-alone"][e.IntlBase.monthIndex[O]]);d+="("+Object.keys(N).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(j=!0,("M"===S||"L"===S)&&O>2)l[x]=Qe.reverseObject(a.dateObject.months["stand-alone"][e.IntlBase.monthIndex[O]]),d+="("+Object.keys(l[x]).join("|")+")";else if("f"===S){if(O>3)continue;C=!0,d+="("+M+M+"?"+M+"?)"}else C=!0,d+="("+M+M+T+")";"h"===S&&(l.hour12=!0);break;case"y":j=C=!0,d+=2===O?"("+M+M+")":"("+M+"{"+O+",})";break;case"a":j=!0,l[x]=Qe.reverseObject(i("dayPeriods.format.wide",a.dateObject)),d+="("+Object.keys(l[x]).join("|")+")";break;case"G":j=!0;var F=O<=3?"eraAbbr":4===O?"eraNames":"eraNarrow";l[x]=Qe.reverseObject(i("eras."+F,a.dateObject)),d+="("+Object.keys(l[x]).join("|")+"?)";break;case"z":j=0!==(new Date).getTimezoneOffset(),l[x]=i("dates.timeZoneNames",a.parserObject);var A=l[x],I=(c=O<4)?"+H;-H":A.hourFormat;I=I.replace(/:/g,w.timeSeparator),d+="("+this.parseTimeZoneRegx(I,A,M)+")?",b=!0,v=c?6:12;break;case"'":d+="("+P.replace(/\'/g,"")+")?";break;default:d+="([\\D])"}j&&(l.evalposition[x]={isNumber:C,pos:D+1+g,hourOnly:c}),D!==f-1||p(d)||(l.parserRegex=new RegExp("^"+d+"$","i"))}}return function(t){var r=o.internalDateParse(t,l,s);if(p(r)||!Object.keys(r).length)return null;if(l.isIslamic){var n={},i=r.year,a=r.day,c=r.month,u=i?i+"":"",h=2===u.length;i&&c&&a&&!h||(n=e.HijriParser.getHijriDate(new Date)),h&&(i=parseInt((n.year+"").slice(0,2)+u,10));var d=e.HijriParser.toGregorian(i||n.year,c||n.month,a||n.date);r.year=d.getFullYear(),r.month=d.getMonth()+1,r.day=d.getDate()}return o.getDateObject(r)}},t.getDateObject=function(e,t){var r=t||new Date;r.setMilliseconds(0);var n=["hour","minute","second","milliseconds","month","day"],i=e.year,o=e.designator,a=e.timeZone;h(i)||((i+"").length<=2&&(i+=100*Math.floor(r.getFullYear()/100)),r.setFullYear(i));for(var s=0,l=n;s<l.length;s++){var c=l[s],u=e[c];if(h(u)&&"day"===c&&r.setDate(1),!h(u))if("month"===c){if((u-=1)<0||u>11)return new Date("invalid");var p=r.getDate();r.setDate(1),r[lt[c]](u);var d=new Date(r.getFullYear(),u+1,0).getDate();r.setDate(p<d?p:d)}else{if("day"===c){var m=new Date(r.getFullYear(),r.getMonth()+1,0).getDate();if(u<1||u>m)return null}r[lt[c]](u)}}if(!h(o)){var f=r.getHours();"pm"===o?r.setHours(f+(12===f?0:12)):12===f&&r.setHours(0)}if(!h(a)){var g=a-r.getTimezoneOffset();0!==g&&r.setMinutes(r.getMinutes()+g)}return r},t.internalDateParse=function(e,t,r){var n=e.match(t.parserRegex),i={hour:0,minute:0,second:0};r.numericRegex;if(p(n))return null;for(var o=0,a=Object.keys(t.evalposition);o<a.length;o++){var s=a[o],l=t.evalposition[s],c=n[l.pos];if(l.isNumber)i[s]=this.internalNumberParser(c,r);else if("timeZone"!==s||h(c))i[s]=t[s][c];else{var u=l.pos,d=void 0,m=n[u+1],f=!h(m);l.hourOnly?d=60*this.getZoneValue(f,m,n[u+4],r):(d=60*this.getZoneValue(f,m,n[u+7],r),d+=this.getZoneValue(f,n[u+4],n[u+10],r)),p(d)||(i[s]=d)}}return t.hour12&&(i.hour12=!0),i},t.internalNumberParser=function(e,t){return e=Qe.convertValueParts(e,t.numberParseRegex,t.numericPair),st.test(e)?+e:null},t.parseTimeZoneRegx=function(e,t,r){var n,i,o=t.gmtFormat,a="("+r+")("+r+")";return n=e.replace("+","\\+"),n=-1!==e.indexOf("HH")?n.replace(/HH|mm/g,"("+a+")"):n.replace(/H|m/g,"("+a+"?)"),i=n.split(";").map(function(e){return o.replace("{0}",e)}),n=i.join("|")+"|"+t.gmtZeroFormat},t.getZoneValue=function(e,t,r,n){var i=e?t:r;if(!i)return 0;var o=this.internalNumberParser(i,n);return e?-o:o},t}(),ut=["minusSign","infinity"],pt=function(){function t(){}return t.numberParser=function(t,r,n){var i,o=this,a=e.IntlBase.getDependables(n,t,"",!0),s={custom:!0};e.IntlBase.formatRegex.test(r.format)||!r.format?(u(s,e.IntlBase.getProperNumericSkeleton(r.format||"N")),s.custom=!1):u(s,e.IntlBase.customFormat(r.format,null,null)),i=Qe.getCurrentNumericOptions(a.parserObject,Qe.getNumberingSystem(n),!0),s.symbolRegex=Qe.getSymbolRegex(Object.keys(i.symbolMatch)),s.infinity=i.symbolNumberSystem[ut[1]];var l=e.IntlBase.getSymbolPattern(s.type,i.numberSystem,a.numericObject,s.isAccount);if(l){var c=(l=l.replace(/\u00A4/g,e.IntlBase.defaultCurrency)).split(";");s.nData=e.IntlBase.getFormatData(c[1]||"-"+c[0],!0,""),s.pData=e.IntlBase.getFormatData(c[0],!0,"")}return function(e){return o.getParsedNumber(e,s,i)}},t.getParsedNumber=function(e,t,r){var n,i,o,a,s,l;if(-1!==e.indexOf(t.infinity))return 1/0;e=Qe.convertValueParts(e,t.symbolRegex,r.symbolMatch),0===(e=Qe.convertValueParts(e,r.numberParseRegex,r.numericPair)).indexOf(".")&&(e="0"+e);var c=e.match(/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/);if(p(c))return NaN;a=c[1],o=c[2];var u=c[5];return s=c[6],n=t.custom?a===t.nData.nlead&&s===t.nData.nend:-1!==a.indexOf(t.nData.nlead)&&-1!==s.indexOf(t.nData.nend),i=n?t.nData.isPercent:t.pData.isPercent,o=o.replace(/,/g,""),u&&(o+=u),l=+o,("percent"===t.type||i)&&(l/=100),(t.custom||t.fractionDigits)&&(l=parseFloat(l.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),n&&(l*=-1),l},t}(),ht=function(){function e(e){this.ranArray=[],this.boundedEvents={},p(e)||(this.context=e)}return e.prototype.on=function(e,t,r,n){if(!p(t)){var i=r||this.context;if(this.notExist(e))return void(this.boundedEvents[e]=[{handler:t,context:i}]);p(n)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:i}):-1===this.ranArray.indexOf(n)&&(this.ranArray.push(n),this.boundedEvents[e].push({handler:t,context:i,id:n}))}},e.prototype.off=function(e,t,r){if(!this.notExist(e)){var n=i(e,this.boundedEvents);if(t){for(var o=0;o<n.length;o++)if(r){if(n[o].id===r){n.splice(o,1);var a=this.ranArray.indexOf(r);-1!==a&&this.ranArray.splice(a,1);break}}else if(t===n[o].handler){n.splice(o,1);break}}else delete this.boundedEvents[e]}},e.prototype.notify=function(e,t,r,n){if(this.notExist(e))return void(r&&r.call(this,t));t&&(t.name=e);var o=i(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(o,t,r,n,0);for(var a=0,s=o;a<s.length;a++){var l=s[a];l.handler.call(l.context,t)}r&&r.call(this,t)},e.prototype.blazorCallback=function(e,t,r,n,i){var o=this,a=i===e.length-1;if(i<e.length){var s=e[i],l=s.handler.call(s.context,t);if(l&&"function"==typeof l.then){if(!r)return l;l.then(function(l){if(l="string"==typeof l&&o.isJson(l)?JSON.parse(l):l,u(t,t,l,!0),!r||!a)return o.blazorCallback(e,t,r,n,i+1);r.call(s.context,t)}).catch(function(e){n&&n.call(s.context,"string"==typeof e&&o.isJson(e)?JSON.parse(e):e)})}else{if(!r||!a)return this.blazorCallback(e,t,r,n,i+1);r.call(s.context,t)}}},e.prototype.isJson=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},e.prototype.destroy=function(){this.boundedEvents=this.context=void 0},e.prototype.notExist=function(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0},e.prototype.isHandlerPresent=function(e,t){for(var r=0,n=e;r<n.length;r++)if(n[r].handler===t)return!0;return!1},e}(),dt=new ht;e.rightToLeft=!1;var mt={};e.defaultCulture="en-US",e.defaultCurrencyCode="USD";var ft=["numericObject","dateObject"],gt=function(){function t(e){e&&(this.culture=e)}return t.prototype.getDateFormat=function(e){return nt.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},mt)},t.prototype.getNumberFormat=function(t){return t&&!t.currency&&(t.currency=e.defaultCurrencyCode),at.numberFormatter(this.getCulture(),t||{},mt)},t.prototype.getDateParser=function(e){return ct.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},mt)},t.prototype.getNumberParser=function(e){return pt.numberParser(this.getCulture(),e||{format:"N"},mt)},t.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},t.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},t.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},t.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},t.prototype.getDatePattern=function(t,r){return e.IntlBase.getActualDateTimeFormat(this.getCulture(),t,mt,r)},t.prototype.getNumberPattern=function(t){return e.IntlBase.getActualNumberFormat(this.getCulture(),t,mt)},t.prototype.getFirstDayOfWeek=function(){return e.IntlBase.getWeekData(this.getCulture(),mt)},t.prototype.getCulture=function(){return this.culture||e.defaultCulture},t}(),vt={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",t:"h:mm a",T:"h:m:s a"}};!function(t){function r(e,r,n,o){var a,s=n||"date";if(-1!==t.basicPatterns.indexOf(e)){if(a=i(s+"Formats."+e,r),"dateTime"===s){var l=i("dateFormats."+e,r),c=i("timeFormats."+e,r);a=a.replace("{1}",l).replace("{0}",c)}}else a=i("dateTimeFormats.availableFormats."+e,r);return h(a)&&"yMd"===e&&(a="M/d/y"),a}function n(e,r,n,o){var a={},s=n||"gregorian";return a.parserObject=Qe.getMainObject(e,r)||t.defaultObject,o?a.numericObject=i("numbers",a.parserObject):a.dateObject=i("dates.calendars."+s,a.parserObject),a}function o(e,t,r,n){return i(e+"Formats-numberSystem-"+t+(n?".accounting":".standard"),r)||(n?i(e+"Formats-numberSystem-"+t+".standard",r):"")}function a(e,t){var r=e.format||e.skeleton,n=i((t||"en-US")+"."+r,vt);return n||(n=i("en-US."+r,vt)),n&&(e.format=n.replace(/tt/,"a")),e}function s(e){var r=e.match(t.formatRegex),n={},i=r[1].toUpperCase();return n.isAccount="A"===i,n.type=t.patternMatcher[i],e.length>1&&(n.fractionDigits=parseInt(r[2],10)),n}function l(e,r,n,i){var o=i?{}:{nlead:"",nend:""},a=e.match(t.customRegex);if(a){i||(o.nlead=c(a[1],n),o.nend=c(a[10],n),o.groupPattern=a[4]);var s=a[7];if(s&&r){var l=s.match(O);p(l)?o.minimumFraction=0:o.minimumFraction=l.length,o.maximumFraction=s.length-1}}return o}function c(e,r){return e?e.replace(t.defaultCurrency,r):""}function d(e,t,r){return i("currencies."+t+(r?"."+r:".symbol"),e)||i("currencies."+t+".symbol-alt-narrow",e)||"$"}function m(e,t,r){for(var n={},i=e.split(";"),o=["pData","nData","zeroData"],a=0;a<i.length;a++)n[o[a]]=f(i[a],t,r);return p(n.nData)&&(n.nData=u({},n.pData),n.nData.nlead=p(t)?"-"+n.nData.nlead:t.minusSymbol+n.nData.nlead),n}function f(e,r,n){var i={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},a=e.match(t.customRegex);(p(a)||""===a[5]&&"N/A"!==e)&&(i.type=void 0),i.nlead=a[1],i.nend=a[10];var s=a[6];i.useGrouping=-1!==s.indexOf(","),s=s.replace(/,/g,"");var l=a[7];if(-1!==s.indexOf("0")&&(i.minimumIntegerDigits=s.length-s.indexOf("0")),p(l)||(i.minimumFractionDigits=l.lastIndexOf("0"),i.maximumFractionDigits=l.lastIndexOf("#"),-1===i.minimumFractionDigits&&(i.minimumFractionDigits=0),(-1===i.maximumFractionDigits||i.maximumFractionDigits<i.minimumFractionDigits)&&(i.maximumFractionDigits=i.minimumFractionDigits)),p(r)?u(i,g([i.nlead,i.nend],"%","%")):(u(i,g([i.nlead,i.nend],"$",r.currencySymbol)),i.isCurrency||u(i,g([i.nlead,i.nend],"%",r.percentSymbol))),!p(n)){var c=o(i.type,r.numberMapper.numberSystem,n,!1);i.useGrouping&&(i.groupSeparator=r.numberMapper.numberSymbols[S[2]],i.groupData=at.getGroupingDetails(c.split(";")[0])),i.nlead=i.nlead.replace(/\'/g,""),i.nend=i.nend.replace(/\'/g,"")}return i}function g(e,t,r){for(var n={nlead:e[0],nend:e[1]},i=0;i<2;i++){var o=e[i],a=o.indexOf(t);if(-1!==a&&(a<o.indexOf("'")||a>o.lastIndexOf("'"))){n[N[i]]=o.substr(0,a)+r+o.substr(a+1),n[N[t]]=!0,n.type=n.isCurrency?"currency":"percent";break}}return n}function v(e){var t=(i("dateFormats.short",e)||"").match(/[dâMâ]([^dâM])[dâMâ]/i);return t?t[1]:"/"}function y(e,t,o,s){var l=n(o,e,t.calendar);E()&&(t=a(t,e));var c=t.format||r(t.skeleton,l.dateObject,t.type);if(s){if(-1!==(c=c.replace(C,function(e){return j[e]})).indexOf("z")){var u=c.match(/z/g).length,p=void 0,h={timeZone:{}};h.numMapper=Qe.getNumberMapper(l.parserObject,Qe.getNumberingSystem(o)),h.timeZone=i("dates.timeZoneNames",l.parserObject);var d=(new Date).getTimezoneOffset(),m=u<4?"+H;-H":h.timeZone.hourFormat;m=m.replace(/:/g,h.numMapper.timeSeparator),0===d?p=h.timeZone.gmtZeroFormat:(p=nt.getTimeZoneValue(d,m),p=h.timeZone.gmtFormat.replace(/\{0\}/,p)),c=c.replace(/[z]+/,'"'+p+'"')}c=c.replace(/ $/,"")}return c}function b(r,i,a){var c,p=n(a,r,"",!0),h={custom:!0},m={},f=(i.format||"").match(t.currencyFormatRegex);if(f){var g={};g.numberMapper=Qe.getNumberMapper(p.parserObject,Qe.getNumberingSystem(a),!0);var v=d(p.numericObject,i.currency||e.defaultCurrencyCode,i.altSymbol),y=o("currency",g.numberMapper.numberSystem,p.numericObject,/a/i.test(i.format)),b=(y=y.replace(/\u00A4/g,v)).split(";");m.hasNegativePattern=b.length>1,m.nData=l(b[1]||"-"+b[0],!0,v),m.pData=l(b[0],!1,v),f[2]||i.minimumFractionDigits||i.maximumFractionDigits||(c=l(y.split(";")[0],!0,"",!0).minimumFraction)}var E;if(t.formatRegex.test(i.format)||!i.format){if(u(h,s(i.format||"N")),h.custom=!1,E="###0",h.fractionDigits||i.minimumFractionDigits||i.maximumFractionDigits||c){h.fractionDigits&&(i.minimumFractionDigits=i.maximumFractionDigits=h.fractionDigits),E=M(E,c||h.fractionDigits||i.minimumFractionDigits||0,i.maximumFractionDigits||0)}if(i.minimumIntegerDigits&&(E=w(E,i.minimumIntegerDigits)),i.useGrouping&&(E=D(E)),"currency"===h.type){var P=E;E=m.pData.nlead+P+m.pData.nend,m.hasNegativePattern&&(E+=";"+m.nData.nlead+P+m.nData.nend)}"percent"===h.type&&(E+=" %")}else E=i.format.replace(/\'/g,'"');return E}function M(e,t,r){e+=".";for(var n=0;n<t;n++)e+="0";if(t<r)for(var i=r-t,o=0;o<i;o++)e+="#";return e}function w(e,t){for(var r=e.split("."),n="",i=0;i<t;i++)n+="0";return r[1]?n+"."+r[1]:n}function D(e){var t=e.split("."),r=t[0],n=3-r.length%3;e="";for(var i=(r=(n&&1===n?"#":2===n?"##":"")+r).length-1;i>0;i-=3)e=","+r[i-2]+r[i-1]+r[i]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}function P(e,t){var r=x,n=i("supplemental.weekData.firstDay",t),o=e;return/en-/.test(o)&&(o=o.slice(3)),o=o.slice(0,2).toUpperCase()+o.substr(2),n&&(r=n[o]||x),T[r]}t.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,t.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,t.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var O=/[0-9]/g;t.defaultCurrency="$";var S=["infinity","nan","group","decimal"],C=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,j={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"},x="sun";t.islamicRegex=/^islamic/;var T={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};t.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,t.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,t.curWithoutNumberRegex=/(c|a)$/gi;var N={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};t.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,t.basicPatterns=["short","medium","long","full"],t.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"DhuÊ»l-Q.",12:"DhuÊ»l-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"RabiÊ» I",4:"RabiÊ» II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"ShaÊ»ban",9:"Ramadan",10:"Shawwal",11:"DhuÊ»l-QiÊ»dah",12:"DhuÊ»l-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"â¬","symbol-alt-narrow":"â¬"},GBP:{displayName:"British Pound","symbol-alt-narrow":"Â£"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"Ã",perMille:"â°",infinity:"â",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"Â¤#,##0.00",accounting:"Â¤#,##0.00;(Â¤#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},t.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},t.month="months",t.days="days",t.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},t.getResultantPattern=r,t.getDependables=n,t.getSymbolPattern=o,t.compareBlazorDateFormats=a,t.getProperNumericSkeleton=s,t.getFormatData=l,t.getCurrencySymbol=d,t.customFormat=m,t.isCurrencyPercent=g,t.getDateSeparator=v,t.getActualDateTimeFormat=y,t.getActualNumberFormat=b,t.getWeekData=P}(e.IntlBase||(e.IntlBase={}));var yt=/^(.*?):[ \t]*([^\r\n]*)$/gm,bt="GET",Mt=function(){function e(e,t,r,n){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof e?(this.url=e,this.type=t?t.toUpperCase():bt,this.mode=!!p(r)||r):"object"==typeof e&&(this.options=e,c(this,this.options)),this.type=this.type?this.type.toUpperCase():bt,this.contentType=void 0!==this.contentType?this.contentType:n}return e.prototype.send=function(e){var t=this;this.data=p(e)?this.data:e;var r={cancel:!1,httpRequest:null};return new Promise(function(e,n){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,n)},p(t.onLoad)||(t.httpRequest.onload=t.onLoad),p(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),p(t.onAbort)||(t.httpRequest.onabort=t.onAbort),p(t.onError)||(t.httpRequest.onerror=t.onError),p(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),p(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(r.httpRequest=t.httpRequest,t.beforeSend(r)),r.cancel||t.httpRequest.send(p(t.data)?null:t.data)})},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},e.prototype.stateChange=function(e,t){var r=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===r)r=void 0;else try{r=JSON.parse(r)}catch(e){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(r)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},e.prototype.getResponseHeader=function(e){var t,r;t={};for(var n=yt.exec(this.httpRequest.getAllResponseHeaders());n;)t[n[1].toLowerCase()]=n[2],n=yt.exec(this.httpRequest.getAllResponseHeaders());return r=t[e.toLowerCase()],p(r)?null:r},e}(),wt=function(){function e(){}return e.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},e.add=function(t,r,n,i,o){var a,s=e.addOrGetEventData(t);a=o?m(n,o):n,i&&(a=a.bind(i));for(var l=r.split(" "),c=0;c<l.length;c++)s.push({name:l[c],listener:n,debounce:a}),t.addEventListener(l[c],a);return a},e.remove=function(t,r,n){for(var i=e.addOrGetEventData(t),o=r.split(" "),a=0;a<o.length;a++)!function(e){var r,a=-1;i&&0!==i.length&&i.some(function(t,i){return t.name===o[e]&&t.listener===n&&(a=i,r=t.debounce,!0)}),-1!==a&&i.splice(a,1),r&&t.removeEventListener(o[e],r)}(a)},e.clearEvents=function(t){var r,n;n=u([],n,r=e.addOrGetEventData(t));for(var i=0;i<n.length;i++)t.removeEventListener(n[i].name,n[i].debounce),r.shift()},e.trigger=function(t,r,n){for(var i=0,o=e.addOrGetEventData(t);i<o.length;i++){var a=o[i];a.name===r&&a.debounce.call(this,n)}},e}(),Et=/^svg|^path|^g/,Dt=new RegExp("]"),Pt=function(){function e(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new ht(this),h(t)||(this.element="string"==typeof t?document.querySelector(t):t,p(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),h(e)||this.setProperties(e,!0),this.isDestroyed=!1}return e.prototype.setProperties=function(e,t){var r=this.isProtectedOnChange;this.isProtectedOnChange=!!t,c(this,e),!0!==t?(c(this.changedProperties,e),this.dataBind()):E()&&this.isRendered&&this.serverDataBind(e),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=r},e.callChildDataBind=function(e,t){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t[i]instanceof Array)for(var o=0,a=t[i];o<a.length;o++){var s=a[o];void 0!==s.dataBind&&s.dataBind()}else t[i].dataBind()}},e.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},e.prototype.dataBind=function(){if(e.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,r=this.changedProperties,n=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(r,n),this.isProtectedOnChange=t}},e.prototype.serverDataBind=function(e){if(E()&&(e=e||{},u(this.bulkChanges,{},e,!0),this.allowServerDataBinding)){window.ejsInterop.updateModel(this),this.bulkChanges={}}},e.prototype.saveChanges=function(e,t,r){if(E()){var i={};i[e]=t,this.serverDataBind(i)}this.isProtectedOnChange||(this.oldProperties[e]=r,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=n(this.dataBind.bind(this)))},e.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},e.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},e.prototype.trigger=function(e,t,r,n){var o=this;if(!0!==this.isDestroyed){var a=this.isProtectedOnChange;this.isProtectedOnChange=!1;var s=this.modelObserver.notify(e,t,r,n);if(Dt.test(e)){var l=i(e,this);if(l){if(window.Blazor){var c=l.call(this,t);c&&"function"==typeof c.then?r?c.then(function(e){r&&(e="string"==typeof e&&o.modelObserver.isJson(e)?JSON.parse(e):e,r.call(o,e))}).catch(function(e){n&&(e="string"==typeof e&&o.modelObserver.isJson(e)?JSON.parse(e):e,n.call(o,e))}):s=c:r&&r.call(this,t)}else l.call(this,t),r&&r.call(this,t)}else r&&r.call(this,t)}return this.isProtectedOnChange=a,s}},e.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();H([this.element],["e-lib",e]),p(this.element.ej2_instances)?o("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},e.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances.filter(function(t){return t!==e}),k([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&k([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},e}(),Ot={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});var St=function(){function e(){}return e.extractBrowserDetail=function(){for(var t={culture:{}},r=[],n=0,i=Object.keys(Ot);n<i.length;n++){var o=i[n];if(r=e.userAgent.match(Ot[o])){if(t.name="opr"===r[1].toLowerCase()?"opera":r[1].toLowerCase(),t.name="crios"===r[1].toLowerCase()?"chrome":t.name,t.version=r[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(/Trident\/7\./)){t.name="msie";break}var a=e.userAgent.match(/(version)[ \/]([\w.]+)/i);"safari"===t.name&&a&&(t.version=a[2]);break}}return t},e.getEvent=function(t){var r={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?r[t].isPointer:e.isTouch?r[t].isTouch+(e.isDevice?"":" "+r[t].isDevice):r[t].isDevice},e.getTouchStartEvent=function(){return e.getEvent("start")},e.getTouchEndEvent=function(){return e.getEvent("end")},e.getTouchMoveEvent=function(){return e.getEvent("move")},e.getTouchCancelEvent=function(){return e.getEvent("cancel")},e.getValue=function(t,r){var n=window.browserDetails;return void 0===n[t]?n[t]=r.test(e.userAgent):n[t]},Object.defineProperty(e,"userAgent",{get:function(){return e.uA},set:function(t){e.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"info",{get:function(){return h(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIE",{get:function(){return e.getValue("isIE",/msie|trident/i)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isTouch",{get:function(){return h(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isPointer",{get:function(){return h(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isMSPointer",{get:function(){return h(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isDevice",{get:function(){return e.getValue("isDevice",/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos",{get:function(){return e.getValue("isIos",/(ipad|iphone|ipod touch)/i)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos7",{get:function(){return e.getValue("isIos7",/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return e.getValue("isAndroid",/android/i)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebView",{get:function(){return h(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(h(window.cordova)&&h(window.PhoneGap)&&h(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWindows",{get:function(){return e.getValue("isWindows",/trident|windows phone|edge/i)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchStartEvent",{get:function(){return h(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchMoveEvent",{get:function(){return h(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchEndEvent",{get:function(){return h(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchCancelEvent",{get:function(){return h(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),e.uA="undefined"!=typeof navigator?navigator.userAgent:"",e}(),Ct=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jt=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},xt=function(e){function t(t){var r=e.call(this,t,void 0)||this;return r.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},r}Ct(t,e),r=t,t.prototype.animate=function(e,t){t=t||{};var n=this.getModel(t);if("string"==typeof e)for(var i=0,o=Array.prototype.slice.call(W(e,document));i<o.length;i++){var a=o[i];n.element=a,r.delayAnimation(n)}else n.element=e,r.delayAnimation(n)},t.stop=function(e,t){e.style.animation="",e.removeAttribute("e-animate");var r=e.getAttribute("e-animation-id");if(r){var n=parseInt(r,10);cancelAnimationFrame(n),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(e){e.delay?setTimeout(function(){r.applyAnimation(e)},e.delay):r.applyAnimation(e)},t.applyAnimation=function(e){var t=this;e.timeStamp=0;var r=0,n=0,i=0,o=0,a=e.duration;e.element.setAttribute("e-animate","true");var s=function(l){try{if(l){o=0===o?l:o,e.timeStamp=l+e.timeStamp-o,o=l,!r&&e.begin&&e.begin.call(t,e),r+=1;var c=e.timeStamp/r;e.timeStamp<a&&e.timeStamp+c<a&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(t,e),requestAnimationFrame(s)):(cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(t,e))}else i=performance.now(),n=requestAnimationFrame(s),e.element.setAttribute("e-animation-id",n.toString())}catch(r){cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(t,r)}};s()},t.prototype.getModel=function(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){};var r;return jt([ge("FadeIn")],t.prototype,"name",void 0),jt([ge(400)],t.prototype,"duration",void 0),jt([ge("ease")],t.prototype,"timingFunction",void 0),jt([ge(0)],t.prototype,"delay",void 0),jt([we()],t.prototype,"progress",void 0),jt([we()],t.prototype,"begin",void 0),jt([we()],t.prototype,"end",void 0),jt([we()],t.prototype,"fail",void 0),t=r=jt([Ee],t)}(Pt);e.isRippleEnabled=!1;var Tt,Nt=function(){function e(e){this.loadedModules=[],this.parent=e}return e.prototype.inject=function(e,t){var n=e.length;if(0===n)return void this.clean();this.loadedModules.length&&this.clearUnusedModule(e);for(var i=0;i<n;i++)for(var a=e[i],s=0,l=t;s<l.length;s++){var c=l[s],u=a.member;if(c.prototype.getModuleName()===a.member&&!this.isModuleLoaded(u)){var p=r(c,a.args),h=this.getMemberName(u);a.isProperty?o(h,c,this.parent):o(h,p,this.parent);var d=a;d.member=h,this.loadedModules.push(d)}}},e.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var r=t[e];r.isProperty||i(r.member,this.parent).destroy()}this.loadedModules=[]},e.prototype.clearUnusedModule=function(e){for(var t=this,r=e.map(function(e){return t.getMemberName(e.member)}),n=0,o=this.loadedModules.filter(function(e){return-1===r.indexOf(e.member)});n<o.length;n++){var s=o[n];s.isProperty||i(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),a(this.parent,s.member)}},e.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+"Module"},e.prototype.isModuleLoaded=function(e){for(var t=0,r=this.loadedModules;t<r.length;t++)if(r[t].member===this.getMemberName(e))return!0;return!1},e}(),Ft=function(){function e(e,t,r,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=i("callChildDataBind",Pt),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=n,this.setProperties(r,!0)}return e.prototype.updateChange=function(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},e.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj)),t=function(){clearTimeout(e)};this.finalUpdate=t}},e.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},e.prototype.setProperties=function(e,t){!0===t?(c(this,e),this.updateChange(!1,this.propName),this.clearChanges()):c(this,e)},e.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(o(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),o(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},e.prototype.saveChanges=function(e,t,r,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(e,t,!0),this.oldProperties[e]=r,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},e.prototype.serverDataBind=function(e,t,r,n){if(E()&&!this.parentObj.isComplexArraySetter){var i,o={},a=r?this.getParentKey(!0)+"."+e:e;if(-1!==a.indexOf(".")){var s=a.split(".");i=o;for(var l=0;l<s.length;l++){var c=l===s.length-1;i[s[l]]=c?t:{},i=c?i:i[s[l]]}}else o[a]={},i=o[a],o[a][e]=t;if(this.isParentArray){i.ejsAction=n||"none"}this.controlParent.serverDataBind(o)}},e.prototype.getParentKey=function(e){var t="",r=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=e?n:n>0?n-1:0,r+=t=-1!==t?"-"+t:"-"+n}return this.controlParent!==this.parentObj&&(r=this.parentObj.getParentKey()+"."+this.propName+t),r},e}(),At=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),It=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},Rt=0,Ht=0,kt=function(t){function r(r,n){var i=t.call(this,r,n)||this;return i.randomId=S(),i.isStringTemplate=!1,i.needsID=!1,i.createElement=R,p(i.enableRtl)&&i.setProperties({enableRtl:e.rightToLeft},!0),p(i.locale)&&i.setProperties({locale:e.defaultCulture},!0),i.moduleLoader=new Nt(i),i.localObserver=new ht(i),dt.on("notifyExternalChange",i.detectFunction,i,i.randomId),h(n)||i.appendTo(),i}return At(r,t),r.prototype.requiredModules=function(){return[]},r.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(k([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),t.prototype.destroy.call(this),this.moduleLoader.clean(),dt.off("notifyExternalChange",this.detectFunction,this.randomId)))},r.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new ht(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},r.prototype.appendTo=function(e){if(p(e)||"string"!=typeof e?p(e)||(this.element=e):this.element=document.querySelector(e),!p(this.element)){var r="e-"+this.getModuleName().toLowerCase();H([this.element],["e-control",r]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var n=i("ej2_instances",this.element);n&&-1!==n.indexOf(this)||t.prototype.addInstance.call(this),this.preRender(),this.injectModules(),this.render(),this.trigger("created")}},r.prototype.renderComplete=function(e){if(E()){window.ejsInterop.renderComplete(this.element,e)}this.isRendered=!0},r.prototype.dataBind=function(){this.injectModules(),t.prototype.dataBind.call(this)},r.prototype.on=function(e,t,r){if("string"==typeof e)this.localObserver.on(e,t,r);else for(var n=0,i=e;n<i.length;n++){var o=i[n];this.localObserver.on(o.event,o.handler,o.context)}},r.prototype.off=function(e,t){if("string"==typeof e)this.localObserver.off(e,t);else for(var r=0,n=e;r<n.length;r++){var i=n[r];this.localObserver.off(i.event,i.handler)}},r.prototype.notify=function(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)},r.prototype.getInjectedModules=function(){return this.injectedModules},r.Inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var r=0;r<e.length;r++)-1===this.prototype.injectedModules.indexOf(e[r])&&this.prototype.injectedModules.push(e[r])},r.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},r.prototype.detectFunction=function(e){var t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])},r.prototype.mergePersistData=function(){var e=window.localStorage.getItem(this.getModuleName()+this.element.id);p(e)||""===e||this.setProperties(JSON.parse(e),!0)},r.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},r.prototype.clearTemplate=function(e,t){},r.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(Rt=0),Tt=this.pageID(location.href),Ht=history.length,e+"_"+Tt+"_"+Rt++},r.prototype.pageID=function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return Math.abs(t)},r.prototype.isHistoryChanged=function(){return Tt!==this.pageID(location.href)||Ht!==history.length},r.prototype.addOnPersist=function(e){for(var t=this,r={},n=0,a=e;n<a.length;n++){var s=a[n],l=void 0;h(l=i(s,this))||o(s,this.getActualProperties(l),r)}return JSON.stringify(r,function(e,r){return t.getActualProperties(r)})},r.prototype.getActualProperties=function(e){return e instanceof Ft?i("properties",e):e},r.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},r.prototype.iterateJsonProperties=function(e,t){for(var r={},n=this,i=0,o=Object.keys(e);i<o.length;i++)!function(i){if(-1===t.indexOf(i)){var o=e[i];if("object"!=typeof o||o instanceof Array)r[i]=o;else{var a=t.filter(function(e){return new RegExp(i+".").test(e)}).map(function(e){return e.replace(i+".","")});r[i]=n.iterateJsonProperties(n.getActualProperties(o),a)}}}(o[i]);return r},It([ge(!1)],r.prototype,"enablePersistence",void 0),It([ge()],r.prototype,"enableRtl",void 0),It([ge()],r.prototype,"locale",void 0),r=It([Ee],r)}(Pt);!function(){"undefined"!=typeof window&&window.addEventListener("popstate",function(){Rt=0})}();var Lt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bt=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},Gt={left:0,top:0,bottom:0,right:0},_t={isDragged:!1},zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lt(t,e),Bt([ge(0)],t.prototype,"left",void 0),Bt([ge(0)],t.prototype,"top",void 0),t}(Ft),Yt=function(e){function t(t,n){var i=e.call(this,n,t)||this;return i.dragLimit=r.getDefaultPosition(),i.borderWidth=r.getDefaultPosition(),i.padding=r.getDefaultPosition(),i.diffX=0,i.prevLeft=0,i.prevTop=0,i.dragProcessStarted=!1,i.tapHoldTimer=0,i.externalInitialize=!1,i.diffY=0,i.parentScrollX=0,i.parentScrollY=0,i.droppables={},i.bind(),i}Lt(t,e),r=t,t.prototype.bind=function(){this.toggleEvents(),St.isIE&&H([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return u({},Gt)},t.prototype.toggleEvents=function(e){var t;h(this.handle)||(t=q(this.handle,this.element));var r=this.enableTapHold&&St.isDevice&&St.isTouch?this.mobileInitialize:this.initialize;e?wt.remove(t||this.element,St.touchStartEvent,r):wt.add(t||this.element,St.touchStartEvent,r,this)},t.prototype.mobileInitialize=function(e){var t=this,r=e.currentTarget;this.tapHoldTimer=setTimeout(function(){t.externalInitialize=!0,t.removeTapholdTimer(),t.initialize(e,r)},this.tapHoldThreshold),wt.add(document,St.touchMoveEvent,this.removeTapholdTimer,this),wt.add(document,St.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),wt.remove(document,St.touchMoveEvent,this.removeTapholdTimer),wt.remove(document,St.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(e,t){var r={vertical:"scrollHeight",horizontal:"scrollWidth"},n={vertical:"clientHeight",horizontal:"clientWidth"};return p(e)?null:e[r[t]]>e[n[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY):this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),p(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0;this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(e,t){if(this.currentStateTarget=e.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){var r=this.abort;"string"==typeof r&&(r=[r]);for(var n=0;n<r.length;n++)if(!p(U(e.target,r[n])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!h(e.changedTouches)&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");var i=this.getCoordinates(e);if(this.initialPosition={x:i.pageX,y:i.pageY},!this.clone){var o=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=i.pageX-(o.left+this.parentScrollX),this.relativeYPosition=i.pageY-(o.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(wt.add(document,St.touchMoveEvent,this.intDragStart,this),wt.add(document,St.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,wt.trigger(document.documentElement,St.touchStartEvent,e)}},t.prototype.intDragStart=function(e){this.removeTapholdTimer();var t=!h(e.changedTouches);if(!t||1===e.changedTouches.length){t&&e.preventDefault();var r,n=this.getCoordinates(e),i=getComputedStyle(this.element);this.margin={left:parseInt(i.marginLeft,10),top:parseInt(i.marginTop,10),right:parseInt(i.marginRight,10),bottom:parseInt(i.marginBottom,10)};var o=this.element;if(this.clone&&this.dragTarget){var a=U(e.target,this.dragTarget);p(a)||(o=a)}this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(e,this.isDragScroll);var s=this.initialPosition.x-n.pageX,l=this.initialPosition.y-n.pageY;if(Math.sqrt(s*s+l*l)>=this.distance||this.externalInitialize){var c=this.getHelperElement(e);if(!c||p(c))return;var u=this.helperElement=c;if(this.parentClientRect=this.calculateParentPosition(u.offsetParent),this.dragStart){var d={event:e,element:o,target:this.getProperTargetElement(e),bindEvents:E()?this.bindDragEvents.bind(this):null,dragElement:u};this.trigger("dragStart",d)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),r={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var m=this.getProcessedPositionValue({top:r.top-this.diffY+"px",left:r.left-this.diffX+"px"});this.dragElePosition={top:r.top,left:r.left},$(u,this.getDragPosition({position:"absolute",left:m.left,top:m.top})),wt.remove(document,St.touchMoveEvent,this.intDragStart),wt.remove(document,St.touchEndEvent,this.intDestroy),E()||this.bindDragEvents(u)}}},t.prototype.bindDragEvents=function(e){B(e)?(wt.add(document,St.touchMoveEvent,this.intDrag,this),wt.add(document,St.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)e=e.offsetParent,this.top+=e.offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(e){return this.queryPositionInfo?this.queryPositionInfo(e):e},t.prototype.calculateParentPosition=function(e){if(p(e))return{left:0,top:0};var t=e.getBoundingClientRect(),r=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(r.marginLeft,10),top:t.top+window.pageYOffset-parseInt(r.marginTop,10)}},t.prototype.intDrag=function(e){if(h(e.changedTouches)||1===e.changedTouches.length){var t,r;this.position=this.getMousePosition(e,this.isDragScroll);var n=this.getDocumentWidthHeight("Height");n<this.position.top&&(this.position.top=n);var i=this.getDocumentWidthHeight("Width");if(i<this.position.left&&(this.position.left=i),this.drag){var o=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:o})}var a=this.checkTargetElement(e);if(a.target&&a.instance){var s=!0;this.hoverObject&&(this.hoverObject.instance!==a.instance?this.triggerOutFunction(e,a):s=!1),s&&(a.instance.dragData[this.scope]=this.droppables[this.scope],a.instance.intOver(e,a.target),this.hoverObject=a)}else this.hoverObject&&this.triggerOutFunction(e,a);var l=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var c=this.parentClientRect.left,u=this.parentClientRect.top,d=this.getCoordinates(e),m=d.pageX,f=d.pageY,g=this.position.left-this.diffX,v=this.position.top-this.diffY;if(this.dragArea){var y=getComputedStyle(l);if(this.pageX!==m||this.skipDistanceCheck){var b=l.offsetWidth+(parseFloat(y.marginLeft)+parseFloat(y.marginRight));t=this.dragLimit.left>g&&g>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<g+b&&g>0?g-(g-this.dragLimit.right)+window.pageXOffset-b:g<0?this.dragLimit.left:g}if(this.pageY!==f||this.skipDistanceCheck){var M=l.offsetHeight+(parseFloat(y.marginTop)+parseFloat(y.marginBottom));r=this.dragLimit.top>v&&v>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<v+M&&v>0?v-(v-this.dragLimit.bottom)+window.pageYOffset-M:v<0?this.dragLimit.top:v}}else t=g,r=v;var w=u+this.borderWidth.top,E=c+this.borderWidth.left;this.dragProcessStarted&&(p(r)&&(r=this.prevTop),p(t)&&(t=this.prevLeft));var D,P;this.dragArea?(D=r-w<0?this.dragLimit.top:r-w,P=t-E<0?this.dragElePosition.left:t-E):(D=r-w,P=t-E);var O=this.getProcessedPositionValue({top:D+"px",left:P+"px"});$(l,this.getDragPosition(O)),!this.elementInViewport(l)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=r,this.position.left=t,this.position.top=r,this.pageX=m,this.pageY=f}},t.prototype.triggerOutFunction=function(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(e){var t=u({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t},t.prototype.getDocumentWidthHeight=function(e){var t=document.body,r=document.documentElement;return Math.max(t["scroll"+e],r["scroll"+e],t["offset"+e],r["offset"+e],r["client"+e])},t.prototype.intDragStop=function(e){if(this.dragProcessStarted=!1,h(e.changedTouches)||1===e.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){var t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");var r=this.checkTargetElement(e);r.target&&r.instance&&(r.instance.dragStopCalled=!0,r.instance.dragData[this.scope]=this.droppables[this.scope],r.instance.intDrop(e,r.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),wt.remove(document,St.touchMoveEvent,this.intDragStart),wt.remove(document,St.touchEndEvent,this.intDragStop),wt.remove(document,St.touchEndEvent,this.intDestroy),wt.remove(document,St.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(e){return e&&(_t.isDragged=!_t.isDragged),_t.isDragged},t.prototype.setDragArea=function(){var e,t,r,n=0,i=0;if(r="string"===typeof this.dragArea?q(this.dragArea):this.dragArea){var o=r.getBoundingClientRect();e=r.scrollWidth?r.scrollWidth:o.right-o.left,t=r.scrollHeight?r.scrollHeight:o.bottom-o.top;for(var a=["Top","Left","Bottom","Right"],s=getComputedStyle(r),l=0;l<a.length;l++){var c=a[l],u=s["border"+c+"Width"],p=s["padding"+c],h=c.toLowerCase();this.borderWidth[h]=isNaN(parseFloat(u))?0:parseFloat(u),this.padding[h]=isNaN(parseFloat(p))?0:parseFloat(p)}n=o.top,i=o.left,this.dragLimit.left=i+this.borderWidth.left+this.padding.left,this.dragLimit.top=r.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=i+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=n+t-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(e){var t,r=this.getCoordinates(e),n=this.helperElement.style.pointerEvents||"";return v(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(r.clientX,r.clientY),this.helperElement.style.pointerEvents=n):t=e.target,t},t.prototype.getMousePosition=function(e,t){var r,n,i=void 0!==e.srcElement?e.srcElement:e.target,o=this.getCoordinates(e),a=p(i.offsetParent);return t?(r=this.clone?o.pageX:o.pageX+(a?0:i.offsetParent.scrollLeft)-this.relativeXPosition,n=this.clone?o.pageY:o.pageY+(a?0:i.offsetParent.scrollTop)-this.relativeYPosition):(r=this.clone?o.pageX:o.pageX+window.pageXOffset-this.relativeXPosition,n=this.clone?o.pageY:o.pageY+window.pageYOffset-this.relativeYPosition),{left:r-(this.margin.left+this.cursorAt.left),top:n-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e},t.prototype.getHelperElement=function(e){var t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=R("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(e,t,r){this.droppables[this.scope]=e?null:{draggable:t,helper:r,draggedElement:this.element}},t.prototype.checkTargetElement=function(e){var t=this.getProperTargetElement(e),r=this.getDropInstance(t);if(!r&&t&&!p(t.parentNode)){var n=U(t.parentNode,".e-droppable")||t.parentElement;n&&(r=this.getDropInstance(n))}return{target:t,instance:r}},t.prototype.getDropInstance=function(e){var t,r=e&&e.ej2_instances;if(r)for(var n=0,i=r;n<i.length;n++){var o=i[n];if("droppable"===o.getModuleName()){t=o;break}}return t},t.prototype.destroy=function(){this.toggleEvents(!0),e.prototype.destroy.call(this)};var r;return Bt([ve({},zt)],t.prototype,"cursorAt",void 0),Bt([ge(!0)],t.prototype,"clone",void 0),Bt([ge()],t.prototype,"dragArea",void 0),Bt([ge()],t.prototype,"isDragScroll",void 0),Bt([we()],t.prototype,"drag",void 0),Bt([we()],t.prototype,"dragStart",void 0),Bt([we()],t.prototype,"dragStop",void 0),Bt([ge(1)],t.prototype,"distance",void 0),Bt([ge()],t.prototype,"handle",void 0),Bt([ge()],t.prototype,"abort",void 0),Bt([ge()],t.prototype,"helper",void 0),Bt([ge("default")],t.prototype,"scope",void 0),Bt([ge("")],t.prototype,"dragTarget",void 0),Bt([ge()],t.prototype,"axis",void 0),Bt([ge()],t.prototype,"queryPositionInfo",void 0),Bt([ge(!1)],t.prototype,"enableTailMode",void 0),Bt([ge(!1)],t.prototype,"skipDistanceCheck",void 0),Bt([ge(!0)],t.prototype,"preventDefault",void 0),Bt([ge(!1)],t.prototype,"enableAutoScroll",void 0),Bt([ge(!1)],t.prototype,"enableTapHold",void 0),Bt([ge(750)],t.prototype,"tapHoldThreshold",void 0),t=r=Bt([Ee],t)}(Pt),Xt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vt=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},qt=function(e){function t(t,r){var n=e.call(this,r,t)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}return Xt(t,e),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){wt.add(this.element,St.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,t){if(!this.mouseOver){var r=this.dragData[this.scope];this.trigger("over",{event:e,target:t,dragData:r}),this.mouseOver=!0}},t.prototype.intOut=function(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(e,t){if(this.dragStopCalled){this.dragStopCalled=!1;var r,n=!0,i=this.dragData[this.scope],o=!!i&&(i.helper&&B(i.helper));o&&(r=this.isDropArea(e,i.helper,t),this.accept&&(n=Q(i.helper,this.accept))),o&&this.drop&&r.canDrop&&n&&this.trigger("drop",{event:e,target:r.target,droppedElement:i.helper,dragData:i}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,t,r){var n={canDrop:!0,target:r||e.target},i="touchend"===e.type;if(i||n.target===t){t.style.display="none";var o=i?e.changedTouches[0]:e,a=document.elementFromPoint(o.clientX,o.clientY);n.canDrop=!1,n.canDrop=v(a,this.element),n.canDrop&&(n.target=a),t.style.display=""}return n},t.prototype.destroy=function(){wt.remove(this.element,St.touchEndEvent,this.intDrop),e.prototype.destroy.call(this)},Vt([ge()],t.prototype,"accept",void 0),Vt([ge("default")],t.prototype,"scope",void 0),Vt([we()],t.prototype,"drop",void 0),Vt([we()],t.prototype,"over",void 0),Vt([we()],t.prototype,"out",void 0),t=Vt([Ee],t)}(Pt),Wt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ut=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},Jt={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},Zt=function(e){function t(t,n){var i=e.call(this,n,t)||this;return i.keyPressHandler=function(e){for(var t=e.altKey,n=e.ctrlKey,o=e.shiftKey,a=e.which,s=0,l=Object.keys(i.keyConfigs);s<l.length;s++)for(var c=l[s],u=0,p=i.keyConfigs[c].split(",");u<p.length;u++){var h=p[u],d=r.getKeyConfigData(h.trim());t===d.altKey&&n===d.ctrlKey&&o===d.shiftKey&&a===d.keyCode&&(e.action=c,i.keyAction&&i.keyAction(e))}},i.bind(),i}Wt(t,e),r=t,t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(e){if(e in this.configCache)return this.configCache[e];var t=e.toLowerCase().split("+"),n={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return t[t.length-1].length>1&&Number(t[t.length-1])?n.keyCode=Number(t[t.length-1]):n.keyCode=r.getKeyCode(t[t.length-1]),r.configCache[e]=n,n},t.getKeyCode=function(e){return Jt[e]||e.toUpperCase().charCodeAt(0)};var r;return t.configCache={},Ut([ge({})],t.prototype,"keyConfigs",void 0),Ut([ge("keyup")],t.prototype,"eventName",void 0),Ut([we()],t.prototype,"keyAction",void 0),t=r=Ut([Ee],t)}(Pt),$t=function(){function t(t,r,n){this.controlName=t,this.localeStrings=r,this.setLocale(n||e.defaultCulture)}return t.prototype.setLocale=function(e){var r=this.intGetControlConstant(t.locale,e);this.currentLocale=r||this.localeStrings},t.load=function(e){this.locale=u(this.locale,e,{},!0)},t.prototype.getConstant=function(e){return p(this.currentLocale[e])?this.localeStrings[e]||"":this.currentLocale[e]},t.prototype.intGetControlConstant=function(e,t){return e[t]?e[t][this.controlName]:null},t.locale={},t}(),Kt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qt=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kt(t,e),Qt([ge(50)],t.prototype,"swipeThresholdDistance",void 0),t}(Ft),tr=/(Up|Down)/,rr=function(e){function t(t,r){var n=e.call(this,r,t)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(e){if(!0===n.touchAction){var t=e.changedTouches?e.changedTouches[0]:e;void 0!==e.changedTouches&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},n.startEventData=t,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout(function(){n.tapHoldEvent(e)},n.tapHoldThreshold),wt.add(n.element,St.touchMoveEvent,n.moveEvent,n),wt.add(n.element,St.touchEndEvent,n.endEvent,n),wt.add(n.element,St.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(e){var t=e.changedTouches?e.changedTouches[0]:e;n.movedPoint=t,n.isTouchMoved=!(t.clientX===n.startPoint.clientX&&t.clientY===n.startPoint.clientY);var r={};n.isTouchMoved&&(clearTimeout(n.timeOutTapHold),n.calcScrollPoints(e),r=u(r,{},{startEvents:n.startEventData,originalEvent:e,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(t)}),n.trigger("scroll",r),n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},n.cancelEvent=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(e),wt.remove(n.element,St.touchCancelEvent,n.cancelEvent)},n.endEvent=function(e){n.swipeFn(e),n.isTouchMoved||"function"==typeof n.tap&&(n.trigger("tap",{originalEvent:e,tapCount:++n.tapCount}),n.timeOutTap=setTimeout(function(){n.tapCount=0},n.tapThreshold)),n.modeclear()},n.swipeFn=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var t=e;e.changedTouches&&(t=e.changedTouches[0]);var r=t.clientX-n.startPoint.clientX,i=t.clientY-n.startPoint.clientY;r=Math.floor(r<0?-1*r:r),i=Math.floor(i<0?-1*i:r),n.isTouchMoved=r>1||i>1,n.endPoint=t,n.calcPoints(e);var o={originalEvent:e,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(t)};if(n.isTouchMoved){var a=void 0,s=n.swipeSettings.swipeThresholdDistance;a=u(a,n.defaultArgs,o);var l=!1,c=n.element,p=n.isScrollable(c),h=tr.test(n.movedDirection);(s<n.distanceX&&!h||s<n.distanceY&&h)&&(l=!p||n.checkSwipe(c,h)),l&&n.trigger("swipe",a)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout(function(){n.touchAction=!0},"function"!=typeof n.tap?0:20),n.lastTapTime=(new Date).getTime(),wt.remove(n.element,St.touchMoveEvent,n.moveEvent),wt.remove(n.element,St.touchEndEvent,n.endEvent),wt.remove(n.element,St.touchCancelEvent,n.cancelEvent)},n.bind(),n}return Kt(t,e),t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents(),St.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.wireEvents=function(){wt.add(this.element,St.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){wt.remove(this.element,St.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var t=getComputedStyle(e),r=t.overflow+t.overflowX+t.overflowY;return!!/(auto|scroll)/.test(r)},t.prototype.tapHoldEvent=function(e){this.tapCount=0,this.touchAction=!0;var t;wt.remove(this.element,St.touchMoveEvent,this.moveEvent),wt.remove(this.element,St.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),wt.remove(this.element,St.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var t=e.changedTouches?e.changedTouches[0]:e;this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=t.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var t=e.changedTouches?e.changedTouches[0]:e;this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var t=e.clientX,r=e.clientY,n=Date.now(),i=t-this.startPoint.clientX,o=r-this.startPoint.clientX,a=n-this.tStampStart;return Math.sqrt(i*i+o*o)/a},t.prototype.checkSwipe=function(e,t){var r=["scroll","offset"],n=t?["Height","Top"]:["Width","Left"];return e[r[0]+n[0]]<=e[r[1]+n[0]]||(0===e[r[0]+n[1]]||e[r[1]+n[0]]+e[r[0]+n[1]]>=e[r[0]+n[0]])},Qt([we()],t.prototype,"tap",void 0),Qt([we()],t.prototype,"tapHold",void 0),Qt([we()],t.prototype,"swipe",void 0),Qt([we()],t.prototype,"scroll",void 0),Qt([ge(350)],t.prototype,"tapThreshold",void 0),Qt([ge(750)],t.prototype,"tapHoldThreshold",void 0),Qt([ve({},er)],t.prototype,"swipeSettings",void 0),t=Qt([Ee],t)}(Pt),nr=new RegExp("\\n|\\r|\\s\\s+","g"),ir=new RegExp(/'|"/g),or=new RegExp("if ?\\("),ar=new RegExp("else if ?\\("),sr=new RegExp("else"),lr=new RegExp("for ?\\("),cr=new RegExp("(/if|/for)"),ur=new RegExp("\\((.*)\\)",""),pr=new RegExp("^[0-9]+$","g"),hr=new RegExp("[\\w\"'.\\s+]+","g"),dr=new RegExp('"(.*?)"',"g"),mr=new RegExp("[\\w\"'@#$.\\s+]+","g"),fr=new RegExp("\\${([^}]*)}","g"),gr=/^\..*/gm,vr=/\\/gi,yr=/\\\\/gi,br=new RegExp("[\\w\"'@#$.\\s+]+","g"),Mr=/\window\./gm,wr=/^[\n\r.]+\<tr|^\<tr/,Er=/^[\n\r.]+\<svg|^\<path|^\<g/,Dr={},Pr={compile:(new(function(){function e(){}return e.prototype.compile=function(e,t){return void 0===t&&(t={}),Ie(e,t)},e}())).compile},Or=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],Sr=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],Cr=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"],jr=function(){function e(){}return e.beforeSanitize=function(){return{selectors:{tags:Or,attributes:Sr}}},e.sanitize=function(e){var t=this.beforeSanitize();return this.serializeValue(t,e)},e.serializeValue=function(e,t){return this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs(),this.wrapElement.innerHTML},e.removeXssTags=function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach(function(e){Y(e)})},e.removeJsEvents=function(){var e=this.wrapElement.querySelectorAll("["+Cr.join("],[")+"]");e.length>0&&e.forEach(function(e){Cr.forEach(function(t){e.hasAttribute(t)&&e.removeAttribute(t)})})},e.removeXssAttrs=function(){var e=this;this.removeAttrs.forEach(function(t,r){var n=e.wrapElement.querySelectorAll(t.selector);n.length>0&&n.forEach(function(e){e.removeAttribute(t.attribute)})})},e}();return e.blazorCultureFormats=vt,e.Ajax=Mt,e.Animation=xt,e.rippleEffect=Ce,e.enableRipple=Ae,e.Base=Pt,e.getComponent=ee,e.removeChildInstance=te,e.Browser=St,e.Component=kt,e.ChildProperty=Ft,e.Position=zt,e.Draggable=Yt,e.Droppable=qt,e.EventHandler=wt,e.onIntlChange=dt,e.cldrData=mt,e.Internationalization=gt,e.setCulture=j,e.setCurrencyCode=x,e.loadCldr=T,e.enableRtl=N,e.getNumericObject=F,e.getNumberDependable=A,e.getDefaultDateObject=I,e.KeyboardEvents=Zt,e.L10n=$t,e.ModuleLoader=Nt,e.Property=ge,e.Complex=ve,e.ComplexFactory=ye,e.Collection=be,e.CollectionFactory=Me,e.Event=we,e.NotifyPropertyChanges=Ee,e.CreateBuilder=Oe,e.SwipeSettings=er,e.Touch=rr,e.blazorTemplates=Dr,e.getRandomId=_e,e.compile=ze,e.updateBlazorTemplate=Ye,e.resetBlazorTemplate=Xe,e.setTemplateEngine=Ve,e.getTemplateEngine=qe,e.disableBlazorMode=t,e.createInstance=r,e.setImmediate=n,e.getValue=i,e.setValue=o,e.deleteObject=a,e.isObject=s,e.getEnumValue=l,e.merge=c,e.extend=u,e.isNullOrUndefined=p,e.isUndefined=h,e.getUniqueID=d,e.debounce=m,e.queryParams=f,e.isObjectArray=g,e.compareElementParent=v,e.throwError=y,e.print=b,e.formatUnit=M,e.enableBlazorMode=w,e.isBlazor=E,e.getElement=D,e.getInstance=P,e.addInstance=O,e.uniqueID=S,e.createElement=R,e.addClass=H,e.removeClass=k,e.isVisible=B,e.prepend=G,e.append=_,e.detach=Y,e.remove=X,e.attributes=V,e.select=q,e.selectAll=W,e.closest=U,e.siblings=J,e.getAttributeOrDefault=Z,e.setStyleAttribute=$,e.classList=K,e.matches=Q,e.Observer=ht,e.SanitizeHtmlHelper=jr,e}({}),this.ejs=ej;

/*!
*  filename: ej2-data.min.js
*  version : 4.2.52
*  Copyright ï¿½ 2001 - 2022 Syncfusion Inc. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
this.ej=this.ej||{},this.ej.data=function(e,t){"use strict";var r=function(){function e(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this}return e.prototype.setKey=function(e){return this.key=e,this},e.prototype.using=function(e){return this.dataManager=e,this},e.prototype.execute=function(e,t,r,n){return e=e||this.dataManager,e?e.executeQuery(this,t,r,n):a.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.executeLocal=function(e){return e=e||this.dataManager,e?e.executeLocal(this):a.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.clone=function(){var t=new e;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t},e.prototype.from=function(e){return this.fromTable=e,this},e.prototype.addParams=function(e,t){return"function"==typeof t?this.params.push({key:e,fn:t}):this.params.push({key:e,value:t}),this},e.prototype.distinct=function(e){return this.distincts="string"==typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.expand=function(e){return this.expands="string"==typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.where=function(e,t,r,o,a){t=t?t.toLowerCase():null;var s=null;return"string"==typeof e?s=new n(e,t,r,o,a):e instanceof n&&(s=e),this.queries.push({fn:"onWhere",e:s}),this},e.prototype.search=function(e,t,r,n,o){"string"==typeof t&&(t=[t]),r=r||"contains";var s=a.fnOperators[r];return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:r,searchKey:e,ignoreCase:n,ignoreAccent:o,comparer:s}}),this},e.prototype.sortBy=function(t,r,n){var o,s,i="ascending";if("string"==typeof t&&a.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),r="descending"),r&&"string"!=typeof r||(i=r?r.toLowerCase():"ascending",r=a.fnSort(r)),n){o=e.filterQueries(this.queries,"onSortBy");for(var u=0;u<o.length;u++)if("string"==typeof(s=o[u].e.fieldName)){if(s===t)return this}else if(s instanceof Array)for(var c=0;c<s.length;c++)if(s[c]===t||t.toLowerCase()===s[c]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:r,direction:i}}),this},e.prototype.sortByDesc=function(e){return this.sortBy(e,"descending")},e.prototype.group=function(e,t,r){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:r||null}}),this},e.prototype.page=function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},e.prototype.range=function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},e.prototype.take=function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this},e.prototype.skip=function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this},e.prototype.select=function(e){return"string"==typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},e.prototype.hierarchy=function(e,t){return this.subQuerySelector=t,this.subQuery=e,this},e.prototype.foreignKey=function(e){return this.fKey=e,this},e.prototype.requiresCount=function(){return this.isCountRequired=!0,this},e.prototype.aggregate=function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this},e.filterQueries=function(e,t){return e.filter(function(e){return e.fn===t})},e.filterQueryLists=function(e,t){for(var r=e.filter(function(e){return-1!==t.indexOf(e.fn)}),n={},o=0;o<r.length;o++)n[r[o].fn]||(n[r[o].fn]=r[o].e);return n},e}(),n=function(){function e(t,r,n,o,s){return void 0===o&&(o=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof t?(this.field=t,this.operator=r.toLowerCase(),this.value=n,this.ignoreCase=o,this.ignoreAccent=s,this.isComplex=!1,this.comparer=a.fnOperators.processOperator(this.operator)):(t instanceof e&&n instanceof e||n instanceof Array)&&(this.isComplex=!0,this.condition=r.toLowerCase(),this.predicates=[t],n instanceof Array?[].push.apply(this.predicates,n):this.predicates.push(n)),this}return e.and=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.combinePredicates([].slice.call(t,0),"and")},e.prototype.and=function(t,r,n,o,a){return e.combine(this,t,r,n,"and",o,a)},e.or=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.combinePredicates([].slice.call(t,0),"or")},e.prototype.or=function(t,r,n,o,a){return e.combine(this,t,r,n,"or",o,a)},e.fromJson=function(e){if(e instanceof Array){for(var t=[],r=0,n=e.length;r<n;r++)t.push(this.fromJSONData(e[r]));return t}var o=e;return this.fromJSONData(o)},e.prototype.validate=function(e){var t,r,n=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,a.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);t="and"===this.condition;for(var o=0;o<n.length;o++)if(r=n[o].validate(e),t){if(!r)return!1}else if(r)return!0;return t},e.prototype.toJson=function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var r=0;r<t.length;r++)e.push(t[r].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}},e.combinePredicates=function(t,r){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new e(t[0],r,t.slice(1))},e.combine=function(t,r,n,o,s,i,u){return r instanceof e?e[s](t,r):"string"==typeof r?e[s](t,new e(r,n,o,i,u)):a.throwError("Predicate - "+s+" : invalid arguments")},e.fromJSONData=function(t){for(var r=t.predicates||[],n=r.length,o=[],a=0;a<n;a++)o.push(this.fromJSONData(r[a]));return t.isComplex?new e(o[0],t.condition,o.slice(1)):new e(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},e}(),o={GroupGuid:"{271bbba0-1ee7}"},a=function(){function e(){}return e.getValue=function(e,t){return"function"==typeof e?e.call(t||{}):e},e.endsWith=function(e,t){return e.slice&&e.slice(-t.length)===t},e.startsWith=function(e,t){return e.slice(0,t.length)===t},e.fnSort=function(t){return t=t?e.toLowerCase(t):"ascending","ascending"===t?this.fnAscending:this.fnDescending},e.fnAscending=function(e,r){return t.isNullOrUndefined(e)&&t.isNullOrUndefined(r)?-1:null===r||void 0===r?-1:"string"==typeof e?e.localeCompare(r):null===e||void 0===e?1:e-r},e.fnDescending=function(e,r){return t.isNullOrUndefined(e)&&t.isNullOrUndefined(r)?-1:null===r||void 0===r?1:"string"==typeof e?-1*e.localeCompare(r):null===e||void 0===e?-1:r-e},e.extractFields=function(e,t){for(var r={},n=0;n<t.length;n++)r=this.setValue(t[n],this.getObject(t[n],e),r);return r},e.select=function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.extractFields(e[n],t));return r},e.group=function(r,n,a,s,i,u){s=s||1;var c=r;if(c.GroupGuid===o.GroupGuid){for(var l=this,p=0;p<c.length;p++)!function(e){if(t.isNullOrUndefined(i))c[e].items=l.group(c[e].items,n,a,c.level+1,null,u),c[e].count=c[e].items.length;else{var r=-1,o=i.filter(function(t){return t.key===c[e].key});r=i.indexOf(o[0]),c[e].items=l.group(c[e].items,n,a,c.level+1,i[r].items,u),c[e].count=i[r].count}}(p);return c.childLevels+=1,c}var d={},h=[];h.GroupGuid=o.GroupGuid,h.level=s,h.childLevels=0,h.records=c;for(var f=this,g=0;g<c.length;g++)!function(e){var r=f.getVal(c,e,n);if(t.isNullOrUndefined(u)||(r=u(r,n)),!d[r]&&(d[r]={key:r,count:0,items:[],aggregates:{},field:n},h.push(d[r]),!t.isNullOrUndefined(i))){var o=i.filter(function(e){return e.key===d[r].key});d[r].count=o[0].count}d[r].count=t.isNullOrUndefined(i)?d[r].count+=1:d[r].count,d[r].items.push(c[e])}(g);if(a&&a.length)for(g=0;g<h.length;g++)!function(r){for(var n={},o=void 0,s=a,u=0;u<a.length;u++)if(o=e.aggregates[a[u].type],t.isNullOrUndefined(i))o&&(n[s[u].field+" - "+s[u].type]=o(h[r].items,s[u].field));else{var c=i.filter(function(e){return e.key===h[r].key});o&&(n[s[u].field+" - "+s[u].type]=o(c[0].items,s[u].field))}h[r].aggregates=n}(g);return c.length&&h||c},e.buildHierarchy=function(e,t,r,n,o){var a,s={};for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),a=0;a<n.length;a++)(s[i=this.getObject(e,n[a])]||(s[i]=[])).push(n[a]);for(a=0;a<r.length;a++){var i=this.getObject(o||e,r[a]);r[a][t]=s[i]}},e.getFieldList=function(e,t,r){if(void 0===r&&(r=""),void 0===t||null===t)return this.getFieldList(e,[],r);for(var n=e,o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];"object"!=typeof n[s]||n[s]instanceof Array?t.push(r+s):this.getFieldList(n[s],t,r+s+".")}return t},e.getObject=function(e,t){if(!e)return t;if(t){if(-1===e.indexOf("."))return t[e];for(var r=t,n=e.split("."),o=0;o<n.length&&null!=r;o++)r=r[n[o]];return r}},e.setValue=function(e,r,n){var o,a,s=e.toString().split("."),i=n||{},u=i,c=s.length;for(o=0;o<c;o++)a=s[o],o+1===c?u[a]=void 0===r?void 0:r:t.isNullOrUndefined(u[a])&&(u[a]={}),u=u[a];return i},e.sort=function(e,t,r){if(e.length<=1)return e;var n=parseInt((e.length/2).toString(),10),o=e.slice(0,n),a=e.slice(n);return o=this.sort(o,t,r),a=this.sort(a,t,r),this.merge(o,a,t,r)},e.ignoreDiacritics=function(t){return"string"!=typeof t?t:t.split("").map(function(t){return t in e.diacritics?e.diacritics[t]:t}).join("")},e.merge=function(e,t,r,n){for(var o,a=[];e.length>0||t.length>0;)o=e.length>0&&t.length>0?n?n(this.getVal(e,0,r),this.getVal(t,0,r),e[0],t[0])<=0?e:t:e[0][r]<e[0][r]?e:t:e.length>0?e:t,a.push(o.shift());return a},e.getVal=function(e,t,r){return r?this.getObject(r,e[t]):e[t]},e.toLowerCase=function(e){return e?"string"==typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""},e.callAdaptorFunction=function(e,r,n,o){if(r in e){var a=e[r](n,o);t.isNullOrUndefined(a)||(n=a)}return n},e.getAddParams=function(t,r,n){var o={};return e.callAdaptorFunction(t,"addParams",{dm:r,query:n,params:n.params,reqParams:o}),o},e.isPlainObject=function(e){return!!e&&e.constructor===Object},e.isCors=function(){var e=null;try{e=new window.XMLHttpRequest}catch(e){}return!!e&&"withCredentials"in e},e.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(e,r){if("crypto"in window&&"getRandomValues"in crypto){var n=new Uint8Array(1);window.crypto.getRandomValues(n),t=n[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===r?3&t|8:t]})},e.isNull=function(e){return void 0===e||null===e},e.getItemFromComparer=function(r,n,o){var a,s,i,u=0,c="string"==typeof e.getVal(r,0,n);if(r.length)for(;t.isNullOrUndefined(a)&&u<r.length;)a=e.getVal(r,u,n),i=r[u++];for(;u<r.length;u++)s=e.getVal(r,u,n),t.isNullOrUndefined(s)||(c&&(a=+a,s=+s),o(a,s)>0&&(a=s,i=r[u]));return i},e.distinct=function(r,n,o){o=!t.isNullOrUndefined(o)&&o;var a,s=[],i={};return r.forEach(function(t,u){(a="object"==typeof r[u]?e.getVal(r,u,n):r[u])in i||(s.push(o?r[u]:a),i[a]=1)}),s},e.serverTimezoneOffset=null,e.timeZoneHandling=!0,e.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},e.aggregates={sum:function(t,r){for(var n,o=0,a="number"!=typeof e.getVal(t,0,r),s=0;s<t.length;s++)n=e.getVal(t,s,r),isNaN(n)||null===n||(a&&(n=+n),o+=n);return o},average:function(t,r){return e.aggregates.sum(t,r)/t.length},min:function(t,r){var n;return"function"==typeof r&&(n=r,r=null),e.getObject(r,e.getItemFromComparer(t,r,n||e.fnAscending))},max:function(t,r){var n;return"function"==typeof r&&(n=r,r=null),e.getObject(r,e.getItemFromComparer(t,r,n||e.fnDescending))},truecount:function(e,t){return new y(e).executeLocal((new r).where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new y(e).executeLocal((new r).where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},e.diacritics={"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï"},e.fnOperators={equal:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?e.toLowerCase(t)===e.toLowerCase(r):t===r},notequal:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),!e.fnOperators.equal(t,r,n)},lessthan:function(t,r,n){return n?e.toLowerCase(t)<e.toLowerCase(r):t<r},greaterthan:function(t,r,n){return n?e.toLowerCase(t)>e.toLowerCase(r):t>r},lessthanorequal:function(t,r,n){return n?e.toLowerCase(t)<=e.toLowerCase(r):t<=r},greaterthanorequal:function(t,r,n){return n?e.toLowerCase(t)>=e.toLowerCase(r):t>=r},contains:function(r,n,o,a){return a&&(r=e.ignoreDiacritics(r),n=e.ignoreDiacritics(n)),o?!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(n)&&-1!==e.toLowerCase(r).indexOf(e.toLowerCase(n)):!t.isNullOrUndefined(r)&&!t.isNullOrUndefined(n)&&-1!==r.toString().indexOf(n)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?t&&r&&e.startsWith(e.toLowerCase(t),e.toLowerCase(r)):t&&r&&e.startsWith(t,r)},endswith:function(t,r,n,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?t&&r&&e.endsWith(e.toLowerCase(t),e.toLowerCase(r)):t&&r&&e.endsWith(t,r)},processSymbols:function(t){var r=e.operatorSymbols[t];return r?e.fnOperators[r]:e.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){var r=e.fnOperators[t];return r||e.fnOperators.processSymbols(t)}},e.parse={parseJson:function(t){return"string"==typeof t?t=JSON.parse(t,e.parse.jsonReviver):t instanceof Array?e.parse.iterateAndReviveArray(t):"object"==typeof t&&null!==t&&e.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var r=0;r<t.length;r++)"object"==typeof t[r]&&null!==t[r]?e.parse.iterateAndReviveJson(t[r]):"string"!=typeof t[r]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[r])?t[r]=e.parse.parseJson(t[r]):t[r]=e.parse.jsonReviver("",t[r])},iterateAndReviveJson:function(t){for(var r,n=0,o=Object.keys(t);n<o.length;n++){var a=o[n];e.startsWith(a,"__")||("object"==typeof(r=t[a])?r instanceof Array?e.parse.iterateAndReviveArray(r):r&&e.parse.iterateAndReviveJson(r):t[a]=e.parse.jsonReviver(t[a],r))}},jsonReviver:function(t,r){if("string"==typeof r){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(r),o=e.timeZoneHandling?e.serverTimezoneOffset:null;if(n)return e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),o,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(r)){var a=r.indexOf("Z")>-1||r.indexOf("z")>-1,s=r.split(/[^0-9.]/);if(a)r=e.dateParse.toTimeZone(new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),e.serverTimezoneOffset,!1);else{var i=new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),u=parseInt(s[6],10),c=parseInt(s[7],10);if(isNaN(u)&&isNaN(c))return i;r.indexOf("+")>-1?i.setHours(i.getHours()-u,i.getMinutes()-c):i.setHours(i.getHours()+u,i.getMinutes()+c),r=e.dateParse.toTimeZone(i,e.serverTimezoneOffset,!1)}null==e.serverTimezoneOffset&&(r=e.dateParse.addSelfOffset(r))}}return r},isJson:function(t){return"string"==typeof t[0]?t:e.parse.parseJson(t)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(t,r){return e.isPlainObject(t)?e.parse.jsonReplacer(t,r):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},r).val:t},jsonReplacer:function(t,r){for(var n,o=0,a=Object.keys(t);o<a.length;o++){var s=a[o];if((n=t[s])instanceof Date){var i=n;null==e.serverTimezoneOffset?t[s]=e.dateParse.toTimeZone(i,null).toJSON():(i=new Date(+i+36e5*e.serverTimezoneOffset),t[s]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(i),null).toJSON())}}return t},arrayReplacer:function(t){for(var r=0;r<t.length;r++)e.isPlainObject(t[r])?t[r]=e.parse.jsonReplacer(t[r]):t[r]instanceof Date&&(t[r]=e.parse.jsonReplacer({date:t[r]}).date);return t},jsonDateReplacer:function(t,r){if("value"===t&&r){if("string"==typeof r){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(r);if(n)r=e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(r)){var o=r.split(/[^0-9]/);r=e.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)),null,!0)}}if(r instanceof Date)return r=e.dateParse.addSelfOffset(r),null===e.serverTimezoneOffset?e.dateParse.toTimeZone(e.dateParse.addSelfOffset(r),null).toJSON():(r=e.dateParse.toTimeZone(r,r.getTimezoneOffset()/60*2-e.serverTimezoneOffset,!1)).toJSON()}return r}},e.dateParse={addSelfOffset:function(e){return new Date(+e-6e4*e.getTimezoneOffset())},toUTC:function(e){return new Date(+e+6e4*e.getTimezoneOffset())},toTimeZone:function(t,r,n){if(null===r)return t;var o=n?e.dateParse.toUTC(t):t;return new Date(+o-36e5*r)},toLocalTime:function(e){var t=e,r=-t.getTimezoneOffset(),n=r>=0?"+":"-",o=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+o(t.getMonth()+1)+"-"+o(t.getDate())+"T"+o(t.getHours())+":"+o(t.getMinutes())+":"+o(t.getSeconds())+n+o(r/60)+":"+o(r%60)}},e}(),s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(){function e(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=e,this.dataSource=t,this.pvt={}}return e.prototype.processResponse=function(e,t,r,n){return e},e}(),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.processQuery=function(e,t){for(var r,n,o=e.dataSource.json.slice(0),a=o.length,s=!0,i={},u=0;u<t.queries.length;u++)r=this[(n=t.queries[u]).fn].call(this,o,n.e,t),"onAggregates"===n.fn?i[n.e.field+" - "+n.e.type]=r:o=void 0!==r?r:o,"onPage"!==n.fn&&"onSkip"!==n.fn&&"onTake"!==n.fn&&"onRange"!==n.fn||(s=!1),s&&(a=o.length);return t.isCountRequired&&(o={result:o,count:a,aggregates:i}),o},n.prototype.batchRequest=function(e,t,r){var n,o=t.deletedRecords.length;for(n=0;n<t.addedRecords.length;n++)this.insert(e,t.addedRecords[n]);for(n=0;n<t.changedRecords.length;n++)this.update(e,r.key,t.changedRecords[n]);for(n=0;n<o;n++)this.remove(e,r.key,t.deletedRecords[n]);return t},n.prototype.onWhere=function(e,t){return e&&e.length?e.filter(function(e){if(t)return t.validate(e)}):e},n.prototype.onAggregates=function(e,t){var r=a.aggregates[t.type];return e&&r&&0!==e.length?r(e,t.field):null},n.prototype.onSearch=function(e,t){return e&&e.length?(0===t.fieldNames.length&&a.getFieldList(e[0],t.fieldNames),e.filter(function(e){for(var r=0;r<t.fieldNames.length;r++)if(t.comparer.call(e,a.getObject(t.fieldNames[r],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1})):e},n.prototype.onSortBy=function(e,t,r){if(!e||!e.length)return e;var n,o=a.getValue(t.fieldName,r);if(!o)return e.sort(t.comparer);if(o instanceof Array){for(var s=(o=o.slice(0)).length-1;s>=0;s--)o[s]&&(n=t.comparer,a.endsWith(o[s]," desc")&&(n=a.fnSort("descending"),o[s]=o[s].replace(" desc","")),e=a.sort(e,o[s],n));return e}return a.sort(e,o,t.comparer)},n.prototype.onGroup=function(e,t,n){if(!e||!e.length)return e;var o=r.filterQueries(n.queries,"onAggregates"),s=[];if(o.length)for(var i=void 0,u=0;u<o.length;u++)i=o[u].e,s.push({type:i.type,field:a.getValue(i.field,n)});return a.group(e,a.getValue(t.fieldName,n),s,null,null,t.comparer)},n.prototype.onPage=function(e,t,r){var n=a.getValue(t.pageSize,r),o=(a.getValue(t.pageIndex,r)-1)*n,s=o+n;return e&&e.length?e.slice(o,s):e},n.prototype.onRange=function(e,t){return e&&e.length?e.slice(a.getValue(t.start),a.getValue(t.end)):e},n.prototype.onTake=function(e,t){return e&&e.length?e.slice(0,a.getValue(t.nos)):e},n.prototype.onSkip=function(e,t){return e&&e.length?e.slice(a.getValue(t.nos)):e},n.prototype.onSelect=function(e,t){return e&&e.length?a.select(e,a.getValue(t.fieldNames)):e},n.prototype.insert=function(e,r,n,o,a){return t.isNullOrUndefined(a)?e.dataSource.json.push(r):e.dataSource.json.splice(a,0,r)},n.prototype.remove=function(e,t,r,n){var o,a=e.dataSource.json;for("object"!=typeof r||r instanceof Date||(r=r[t]),o=0;o<a.length&&a[o][t]!==r;o++);return o!==a.length?a.splice(o,1):null},n.prototype.update=function(e,r,n,o){var a,s,i=e.dataSource.json;for(t.isNullOrUndefined(r)||(s=t.getValue(r,n)),a=0;a<i.length&&(t.isNullOrUndefined(r)||t.getValue(r,i[a])!==s);a++);return a<i.length?t.merge(i[a],n):null},n}(i),c=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return s(o,e),o.prototype.processQuery=function(e,t,n){var o,s,i=this.getQueryRequest(t),u=r.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),c=t.params,l=e.dataSource.url,p=null,d=this.options,h={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in u?(o=u.onPage,s=((s=a.getValue(o.pageIndex,t))-1)*(p=a.getValue(o.pageSize,t))):"onRange"in u&&(s=(o=u.onRange).start,p=o.end-o.start);for(y=0;y<i.sorts.length;y++)o=a.getValue(i.sorts[y].e.fieldName,t),h.sorts.push(a.callAdaptorFunction(this,"onEachSort",{name:o,direction:i.sorts[y].e.direction},t));n&&(o=this.getFiltersFrom(n,t))&&h.filters.push(a.callAdaptorFunction(this,"onEachWhere",o.toJson(),t));for(y=0;y<i.filters.length;y++){h.filters.push(a.callAdaptorFunction(this,"onEachWhere",i.filters[y].e.toJson(),t));for(var f=0,g="object"==typeof h.filters[y]?Object.keys(h.filters[y]):[];f<g.length;f++){O=g[f];a.isNull(h[O])&&delete h[O]}}for(y=0;y<i.searches.length;y++)o=i.searches[y].e,h.searches.push(a.callAdaptorFunction(this,"onEachSearch",{fields:o.fieldNames,operator:o.operator,key:o.searchKey,ignoreCase:o.ignoreCase},t));for(y=0;y<i.groups.length;y++)h.groups.push(a.getValue(i.groups[y].e.fieldName,t));for(var y=0;y<i.aggregates.length;y++)o=i.aggregates[y].e,h.aggregates.push({type:o.type,field:a.getValue(o.field,t)});var v={};this.getRequestQuery(d,t,u,h,v),a.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:c,reqParams:v});for(var m=0,S=Object.keys(v);m<S.length;m++){var O=S[m];(a.isNull(v[O])||""===v[O]||0===v[O].length)&&delete v[O]}d.skip in v&&d.take in v||null===p||(v[d.skip]=a.callAdaptorFunction(this,"onSkip",s,t),v[d.take]=a.callAdaptorFunction(this,"onTake",p,t));var b=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(v,a.parse.jsonDateReplacer),url:l,pvtData:b,type:"POST",contentType:"application/json; charset=utf-8"}:(o=this.convertToQueryString(v,t,e),o=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+o,{type:"GET",url:o.length?l.replace(/\/*$/,o):l,pvtData:b})},o.prototype.getRequestQuery=function(e,t,r,n,o){var s=o;s[e.from]=t.fromTable,e.apply&&t.distincts.length&&(s[e.apply]="onDistinct"in this?a.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(s[e.expand]="onExpand"in this&&"onSelect"in r?a.callAdaptorFunction(this,"onExpand",{selects:a.getValue(r.onSelect.fieldNames,t),expands:t.expands},t):t.expands),s[e.select]="onSelect"in r&&!t.distincts.length?a.callAdaptorFunction(this,"onSelect",a.getValue(r.onSelect.fieldNames,t),t):"",s[e.count]=t.isCountRequired?a.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",s[e.search]=n.searches.length?a.callAdaptorFunction(this,"onSearch",n.searches,t):"",s[e.skip]="onSkip"in r?a.callAdaptorFunction(this,"onSkip",a.getValue(r.onSkip.nos,t),t):"",s[e.take]="onTake"in r?a.callAdaptorFunction(this,"onTake",a.getValue(r.onTake.nos,t),t):"",s[e.where]=n.filters.length||n.searches.length?a.callAdaptorFunction(this,"onWhere",n.filters,t):"",s[e.sortBy]=n.sorts.length?a.callAdaptorFunction(this,"onSortBy",n.sorts,t):"",s[e.group]=n.groups.length?a.callAdaptorFunction(this,"onGroup",n.groups,t):"",s[e.aggregates]=n.aggregates.length?a.callAdaptorFunction(this,"onAggregates",n.aggregates,t):"",s.param=[]},o.prototype.convertToQueryString=function(e,t,r){return""},o.prototype.processResponse=function(e,t,r,n,o,s){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("application/json")){var i=a.timeZoneHandling;t&&!t.timeZoneHandling&&(a.timeZoneHandling=!1),e=a.parse.parseJson(e),a.timeZoneHandling=i}var u=o,c=u.pvtData||{},l=e?e.groupDs:[];if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return r.isCountRequired?{result:[],count:0}:[];var p=JSON.parse(u.data);if(p&&"batch"===p.action&&e&&e.addedRecords)return s.addedRecords=e.addedRecords,s;e&&e.d&&(e=e.d);var d={};return e&&"count"in e&&(d.count=e.count),d.result=e&&e.result?e.result:e,this.getAggregateResult(c,e,d,l,r),a.isNull(d.count)?d.result:{result:d.result,count:d.count,aggregates:d.aggregates}},o.prototype.onGroup=function(e){return this.pvt.groups=e,e},o.prototype.onAggregates=function(e){this.pvt.aggregates=e},o.prototype.batchRequest=function(e,r,n,o,s){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t.extend({},{changed:r.changedRecords,added:r.addedRecords,deleted:r.deletedRecords,action:"batch",table:n[void 0],key:n[void 0]},a.getAddParams(this,e,o)))}},o.prototype.beforeSend=function(e,t){},o.prototype.insert=function(e,r,n,o){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(t.extend({},{value:r,table:n,action:"insert"},a.getAddParams(this,e,o)))}},o.prototype.remove=function(e,r,n,o,s){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(t.extend({},{key:n,keyColumn:r,table:o,action:"remove"},a.getAddParams(this,e,s)))}},o.prototype.update=function(e,r,n,o,s){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(t.extend({},{value:n,action:"update",keyColumn:r,key:n[r],table:o},a.getAddParams(this,e,s)))}},o.prototype.getFiltersFrom=function(e,t){var r,o=t.fKey,s=o,i=t.key,u=[];"object"!=typeof e[0]&&(s=null);for(var c=0;c<e.length;c++)r="object"==typeof e[0]?a.getObject(i||s,e[c]):e[c],u.push(new n(o,"equal",r));return n.or(u)},o.prototype.getAggregateResult=function(e,n,o,s,i){var u=n;if(n&&n.result&&(u=n.result),e&&e.aggregates&&e.aggregates.length){var c=e.aggregates,l=void 0,p=u,d={};n.aggregate&&(p=n.aggregate);for(f=0;f<c.length;f++)(l=a.aggregates[c[f].type])&&(d[c[f].field+" - "+c[f].type]=l(p,c[f].field));o.aggregates=d}if(e&&e.groups&&e.groups.length){for(var h=e.groups,f=0;f<h.length;f++){t.isNullOrUndefined(s)||(s=a.group(s,h[f]));var g=r.filterQueries(i.queries,"onGroup")[f].e;u=a.group(u,h[f],e.aggregates,null,s,g.comparer)}o.result=u}return o},o.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=r.filterQueries(e.queries,"onSortBy"),t.groups=r.filterQueries(e.queries,"onGroup"),t.filters=r.filterQueries(e.queries,"onWhere"),t.searches=r.filterQueries(e.queries,"onSearch"),t.aggregates=r.filterQueries(e.queries,"onAggregates"),t},o.prototype.addParams=function(e){var t=e.reqParams;e.params.length&&(t.params={});for(var r=0,n=e.params;r<n.length;r++){var o=n[r];if(t[o.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[o.key]=o.value,o.fn&&(t[o.key]=o.fn.call(e.query,o.key,e.query,e.dm)),t.params[o.key]=t[o.key]}},o}(i),l=function(e){function r(r){var n=e.call(this)||this;return n.options=t.extend({},n.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),t.extend(n.options,r||{}),n}return s(r,e),r.prototype.getModuleName=function(){return"ODataAdaptor"},r.prototype.onPredicate=function(e,n,o){var s,i,u="",c=e.value,l=typeof c,p=e.field?r.getField(e.field):null;if(c instanceof Date&&(c="datetime'"+a.parse.replacer(c)+"'"),"string"===l&&(c="'"+(c=encodeURIComponent(c))+"'",o&&(p="cast("+p+", 'Edm.String')"),a.parse.isGuid(c)&&(i="guid"),e.ignoreCase&&(i||(p="tolower("+p+")"),c=c.toLowerCase())),s=a.odBiOperator[e.operator])return u+=p,u+=s,i&&(u+=i),u+c;if("substringof"===(s=t.isNullOrUndefined(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?a.odUniOperator[e.operator]:a.odv4UniOperator[e.operator])){var d=c;c=p,p=d}return u+=s+"(",u+=p+",",i&&(u+=i),u+=c+")"},r.prototype.addParams=function(t){e.prototype.addParams.call(this,t),delete t.reqParams.params},r.prototype.onComplexPredicate=function(e,t,r){for(var n=[],o=0;o<e.predicates.length;o++)n.push("("+this.onEachWhere(e.predicates[o],t,r)+")");return n.join(" "+e.condition+" ")},r.prototype.onEachWhere=function(e,t,r){return e.isComplex?this.onComplexPredicate(e,t,r):this.onPredicate(e,t,r)},r.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},r.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&a.throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],r=0;r<e.fields.length;r++)t.push(new n(e.fields[r],e.operator,e.key,e.ignoreCase));this.pvt.search=t},r.prototype.onSearch=function(e){return this.pvt.search=n.or(this.pvt.search),""},r.prototype.onEachSort=function(e){var t=[];if(e.name instanceof Array)for(var n=0;n<e.name.length;n++)t.push(r.getField(e.name[n])+("descending"===e.direction?" desc":""));else t.push(r.getField(e.name)+("descending"===e.direction?" desc":""));return t.join(",")},r.prototype.onSortBy=function(e){return e.reverse().join(",")},r.prototype.onGroup=function(e){return this.pvt.groups=e,[]},r.prototype.onSelect=function(e){for(var t=0;t<e.length;t++)e[t]=r.getField(e[t]);return e.join(",")},r.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},r.prototype.onCount=function(e){return!0===e?"allpages":""},r.prototype.beforeSend=function(e,t,r){a.endsWith(r.url,this.options.batch)&&"post"===r.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")},r.prototype.processResponse=function(e,r,n,o,s,i){if(s&&"GET"===s.type&&!this.rootUrl&&e["odata.metadata"]){var u=e["odata.metadata"].split("/$metadata#");this.rootUrl=u[0],this.resourceTableName=u[1]}if(!t.isNullOrUndefined(e.d)){var c=n&&n.isCountRequired?e.d.results:e.d;if(!t.isNullOrUndefined(c))for(var l=0;l<c.length;l++)t.isNullOrUndefined(c[l].__metadata)||delete c[l].__metadata}var p=s&&s.pvtData,d=this.processBatchResponse(e,n,o,s,i);if(d)return d;var h=o&&s.getResponseHeader("DataServiceVersion"),f=null,g=h&&parseInt(h,10)||2;if(n&&n.isCountRequired){(e.__count||e["odata.count"])&&(f=e.__count||e["odata.count"]),e.d&&(e=e.d),(e.__count||e["odata.count"])&&(f=e.__count||e["odata.count"])}3===g&&e.value&&(e=e.value),e.d&&(e=e.d),g<3&&e.results&&(e=e.results);var y={};return y.count=f,y.result=e,this.getAggregateResult(p,e,y,null,n),a.isNull(f)?y.result:{result:y.result,count:y.count,aggregates:y.aggregates}},r.prototype.convertToQueryString=function(e,t,r){var n=[],o=e.table||"";delete e.table,r.dataSource.requiresFormat&&(e.$format="json");for(var a=0,s=Object.keys(e);a<s.length;a++){var i=s[a];n.push(i+"="+e[i])}return n=n.join("&"),r.dataSource.url&&-1!==r.dataSource.url.indexOf("?")&&!o?n:n.length?o+"?"+n:o||""},r.prototype.localTimeReplacer=function(e,r){for(var n=0,o=t.isNullOrUndefined(r)?[]:Object.keys(r);n<o.length;n++){var s=o[n];r[s]instanceof Date&&(r[s]=a.dateParse.toLocalTime(r[s]))}return r},r.prototype.insert=function(e,t,r){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,r?"/"+r:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},r.prototype.remove=function(e,t,r,n){var o;return o="string"!=typeof r||a.parse.isGuid(r)?"("+r+")":"('"+r+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:"")+o}},r.prototype.update=function(e,r,n,o,s,i){"PATCH"!==this.options.updateType||t.isNullOrUndefined(i)||(n=this.compareAndRemove(n,i,r));var u;return u="string"!=typeof n[r]||a.parse.isGuid(n[r])?"("+n[r]+")":"('"+n[r]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,o?"/"+o:"")+u,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},r.prototype.batchRequest=function(e,t,r,n,o){var s=r.guid=a.getGuid(this.options.batchPre),i=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);r.url=this.resourceTableName?this.resourceTableName:r.url;var u={url:r.url,key:r.key,cid:1,cSet:a.getGuid(this.options.changeSet)},c="--"+s+"\n";return c+="Content-Type: multipart/mixed; boundary="+u.cSet.replace("--","")+"\n",this.pvt.changeSet=0,c+=this.generateInsertRequest(t.addedRecords,u,e),c+=this.generateUpdateRequest(t.changedRecords,u,e,o?o.changedRecords:[]),c+=this.generateDeleteRequest(t.deletedRecords,u,e),c+=u.cSet+"--\n",c+="--"+s+"--",{type:"POST",url:i,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+s,data:c}},r.prototype.generateDeleteRequest=function(e,t,r){if(!e)return"";var n={method:"DELETE ",url:function(e,t,r){var n=a.getObject(r,e[t]);return"number"==typeof n||a.parse.isGuid(n)?"("+n+")":n instanceof Date?"("+e[t][r].toJSON()+")":"('"+n+"')"},data:function(e,t){return""}};return this.generateBodyContent(e,t,n,r)+"\n"},r.prototype.generateInsertRequest=function(e,t,r){if(!e)return"";var n={method:"POST ",url:function(e,t,r){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,n,r)},r.prototype.generateUpdateRequest=function(e,t,r,n){var o=this;if(!e)return"";e.forEach(function(e){return e=o.compareAndRemove(e,n.filter(function(r){return a.getObject(t.key,r)===a.getObject(t.key,e)})[0],t.key)});var s={method:this.options.updateType+" ",url:function(e,t,r){return"number"==typeof e[t][r]||a.parse.isGuid(e[t][r])?"("+e[t][r]+")":e[t][r]instanceof Date?"("+e[t][r].toJSON()+")":"('"+e[t][r]+"')"},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return this.generateBodyContent(e,t,s,r)},r.getField=function(e){return e.replace(/\./g,"/")},r.prototype.generateBodyContent=function(e,r,n,o){for(var a="",s=0;s<e.length;s++)a+="\n"+r.cSet+"\n",a+=this.options.changeSetContent+"\n\n",a+=n.method,"POST "===n.method?a+=(o.dataSource.insertUrl||o.dataSource.crudUrl||r.url)+n.url(e,s,r.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?a+=(o.dataSource.updateUrl||o.dataSource.crudUrl||r.url)+n.url(e,s,r.key)+" HTTP/1.1\n":"DELETE "===n.method&&(a+=(o.dataSource.removeUrl||o.dataSource.crudUrl||r.url)+n.url(e,s,r.key)+" HTTP/1.1\n"),a+="Accept: "+this.options.accept+"\n",a+="Content-Id: "+this.pvt.changeSet+++"\n",a+=this.options.batchChangeSetContentType+"\n",t.isNullOrUndefined(e[s]["@odata.etag"])?a+="\n":(a+="If-Match: "+e[s]["@odata.etag"]+"\n\n",delete e[s]["@odata.etag"]),a+=n.data(e,s);return a},r.prototype.processBatchResponse=function(e,r,n,o,s){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return r.isCountRequired?{result:[],count:0}:[];if(o&&this.options.batch&&a.endsWith(o.url,this.options.batch)&&"post"===o.type.toLowerCase()){var i=n.getResponseHeader("Content-Type"),u=void 0,c=void 0,l=e+"";if(i=i.substring(i.indexOf("=batchresponse")+1),(l=l.split(i)).length<2)return{};l=l[1];var p=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(l);p&&l.replace(p[0],"");for(var d=p?p[1]:"",h=(l=l.split(d)).length;h>-1;h--)/\bContent-ID:/i.test(l[h])&&/\bHTTP.+201/.test(l[h])&&(u=parseInt(/\bContent-ID: (\d+)/i.exec(l[h])[1],10),s.addedRecords[u]&&(c=a.parse.parseJson(/^\{.+\}/m.exec(l[h])[0]),t.extend({},s.addedRecords[u],this.processResponse(c))));return s}return null},r.prototype.compareAndRemove=function(e,r,n){var o=this;return t.isNullOrUndefined(r)?e:(Object.keys(e).forEach(function(t){t!==n&&"@odata.etag"!==t&&(a.isPlainObject(e[t])?(o.compareAndRemove(e[t],r[t]),0===Object.keys(e[t]).filter(function(e){return"@odata.etag"!==e}).length&&delete e[t]):e[t]===r[t]?delete e[t]:e[t]&&r[t]&&e[t].valueOf()===r[t].valueOf()&&delete e[t])}),e)},r}(c),p=function(e){function r(r){var n=e.call(this,r)||this;return n.options=t.extend({},n.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),t.extend(n.options,r||{}),n}return s(r,e),r.prototype.getModuleName=function(){return"ODataV4Adaptor"},r.prototype.onCount=function(e){return!0===e?"true":""},r.prototype.onPredicate=function(t,r,n){var o="",s=t.value,i=s instanceof Date;return o=e.prototype.onPredicate.call(this,t,r,n),i&&(o=o.replace(/datetime'(.*)'$/,"$1")),a.parse.isGuid(s)&&(o=o.replace("guid","").replace(/'/g,"")),o},r.prototype.onEachSearch=function(e){var t=this.pvt.searches||[];t.push(e.key),this.pvt.searches=t},r.prototype.onSearch=function(e){return this.pvt.searches.join(" OR ")},r.prototype.onExpand=function(e){var t=this,r={},n={},o=e.expands.slice(),a=[];return e.selects.filter(function(e){return e.indexOf(".")>-1}).forEach(function(e){var t=e.split(".");t[0]in r||(r[t[0]]=[]),r[t[0]].push(t[1])}),Object.keys(r).forEach(function(e){-1===o.indexOf(e)&&o.push(e)}),o.forEach(function(e){n[e]=e in r?e+"("+t.options.select+"="+r[e].join(",")+")":e}),Object.keys(n).forEach(function(e){return a.push(n[e])}),a.join(",")},r.prototype.onDistinct=function(e){return"groupby(("+e.map(function(e){return l.getField(e)}).join(",")+"))"},r.prototype.onSelect=function(t){return e.prototype.onSelect.call(this,t.filter(function(e){return-1===e.indexOf(".")}))},r.prototype.beforeSend=function(e,t,r){"POST"!==r.type&&"PUT"!==r.type&&"PATCH"!==r.type||t.setRequestHeader("Prefer","return=representation"),t.setRequestHeader("Accept",this.options.accept)},r.prototype.processResponse=function(r,n,o,s,i,u){if(i&&"GET"===i.type&&!this.rootUrl&&r["@odata.context"]){var c=r["@odata.context"].split("/$metadata#");this.rootUrl=c[0],this.resourceTableName=c[1]}var l=i&&i.pvtData,p=e.prototype.processBatchResponse.call(this,r,o,s,i,u);if(p)return p;var d=null;o&&o.isCountRequired&&"@odata.count"in r&&(d=r["@odata.count"]),r=t.isNullOrUndefined(r.value)?r:r.value;var h={};return h.count=d,h.result=r,this.getAggregateResult(l,r,h,null,o),a.isNull(d)?h.result:{result:h.result,count:d,aggregates:h.aggregates}},r}(l),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.getModuleName=function(){return"WebApiAdaptor"},t.prototype.insert=function(e,t,r){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},t.prototype.remove=function(e,t,r,n){return{type:"DELETE",url:e.dataSource.url+"/"+r,data:JSON.stringify(r)}},t.prototype.update=function(e,t,r,n){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(r)}},t.prototype.batchRequest=function(e,t,r){var n=this,o=r.guid=a.getGuid(this.options.batchPre),s=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);r.url=this.resourceTableName?this.resourceTableName:r.url;for(var i=[],u=0,c=t.addedRecords.length;u<c;u++)!function(n,a){t.addedRecords.forEach(function(a,s){var u={method:"POST ",url:function(e,t,r){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};i.push("--"+o),i.push("Content-Type: application/http; msgtype=request",""),i.push("POST /api/"+(e.dataSource.insertUrl||e.dataSource.crudUrl||r.url)+u.url(t.addedRecords,n,r.key)+" HTTP/1.1"),i.push("Content-Type: application/json; charset=utf-8"),i.push("Host: "+location.host),i.push("",a?JSON.stringify(a):"")})}(u);for(var u=0,c=t.changedRecords.length;u<c;u++)!function(a,s){t.changedRecords.forEach(function(s,u){var c={method:n.options.updateType+" ",url:function(e,t,r){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};i.push("--"+o),i.push("Content-Type: application/http; msgtype=request",""),i.push("PUT /api/"+(e.dataSource.updateUrl||e.dataSource.crudUrl||r.url)+c.url(t.changedRecords,a,r.key)+" HTTP/1.1"),i.push("Content-Type: application/json; charset=utf-8"),i.push("Host: "+location.host),i.push("",s?JSON.stringify(s):"")})}(u);for(var u=0,c=t.deletedRecords.length;u<c;u++)!function(n,s){t.deletedRecords.forEach(function(s,u){var c={mtd:"DELETE ",url:function(e,t,r){var n=a.getObject(r,e[t]);return"number"==typeof n||a.parse.isGuid(n)?"/"+n:n instanceof Date?"/"+e[t][r].toJSON():"/'"+n+"'"},data:function(e,t){return""}};i.push("--"+o),i.push("Content-Type: application/http; msgtype=request",""),i.push("DELETE /api/"+(e.dataSource.removeUrl||e.dataSource.crudUrl||r.url)+c.url(t.deletedRecords,n,r.key)+" HTTP/1.1"),i.push("Content-Type: application/json; charset=utf-8"),i.push("Host: "+location.host),i.push("",s?JSON.stringify(s):"")})}(u);return i.push("--"+o+"--",""),{type:"POST",url:s,contentType:"multipart/mixed; boundary="+o,data:i.join("\r\n")}},t.prototype.beforeSend=function(e,t,r){t.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01")},t.prototype.processResponse=function(e,t,r,n,o,s){var i=o&&o.pvtData,u=null,c={};if(o&&"post"!==o.type.toLowerCase()){var l=n&&o.getResponseHeader("DataServiceVersion"),p=l&&parseInt(l,10)||2;r&&r.isCountRequired&&(a.isNull(e.Count)||(u=e.Count)),p<3&&e.Items&&(e=e.Items),c.count=u,c.result=e,this.getAggregateResult(i,e,c,null,r)}return c.result=c.result||e,a.isNull(u)?c.result:{result:c.result,count:c.count,aggregates:c.aggregates}},t}(l),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.processQuery=function(e,t,r){var n=(new c).processQuery(e,t,r),o=a.parse.parseJson(n.data),s={};if(o.param)for(var i=0;i<o.param.length;i++){var u=o.param[i],l=Object.keys(u)[0];s[l]=u[l]}s.value=o;return{data:JSON.stringify(s),url:n.url,pvtData:n.pvtData,type:"POST",contentType:"application/json; charset=utf-8"}},t}(c),f=function(e){function r(){var r=e.call(this)||this;return t.setValue("beforeSend",c.prototype.beforeSend,r),r}return s(r,e),r.prototype.insert=function(e,r,n,o,s){return this.pvt.position=s,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(t.extend({},{value:r,table:n,action:"insert"},a.getAddParams(this,e,o)))}},r.prototype.remove=function(r,n,o,s,i){return e.prototype.remove.call(this,r,n,o),{type:"POST",url:r.dataSource.removeUrl||r.dataSource.crudUrl||r.dataSource.url,data:JSON.stringify(t.extend({},{key:o,keyColumn:n,table:s,action:"remove"},a.getAddParams(this,r,i)))}},r.prototype.update=function(e,r,n,o,s){return this.updateType="update",this.updateKey=r,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(t.extend({},{value:n,action:"update",keyColumn:r,key:n[r],table:o},a.getAddParams(this,e,s)))}},r.prototype.processResponse=function(t,r,n,o,a,s,i){var u;if("add"===this.updateType&&e.prototype.insert.call(this,r,t,null,null,this.pvt.position),"update"===this.updateType&&e.prototype.update.call(this,r,this.updateKey,t),this.updateType=void 0,t.added)for(u=0;u<t.added.length;u++)e.prototype.insert.call(this,r,t.added[u]);if(t.changed)for(u=0;u<t.changed.length;u++)e.prototype.update.call(this,r,i.key,t.changed[u]);if(t.deleted)for(u=0;u<t.deleted.length;u++)e.prototype.remove.call(this,r,i.key,t.deleted[u]);return t},r.prototype.batchRequest=function(e,r,n,o,s){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t.extend({},{changed:r.changedRecords,added:r.addedRecords,deleted:r.deletedRecords,action:"batch",table:n.url,key:n.key},a.getAddParams(this,e,o)))}},r.prototype.addParams=function(e){(new c).addParams(e)},r}(u),g=function(e){function n(r,n,o){var s=e.call(this)||this;s.isCrudAction=!1,s.isInsertAction=!1,t.isNullOrUndefined(r)||(s.cacheAdaptor=r),s.pageSize=o,s.guidId=a.getGuid("cacheAdaptor");var i={keys:[],results:[]};window.localStorage.setItem(s.guidId,JSON.stringify(i));var u=s.guidId;return t.isNullOrUndefined(n)||setInterval(function(){var e;e=a.parse.parseJson(window.localStorage.getItem(u));for(var t=[],r=0;r<e.results.length;r++){var o=+new Date,s=+new Date(e.results[r].timeStamp);e.results[r].timeStamp=o-s,o-s>n&&t.push(r)}for(r=0;r<t.length;r++)e.results.splice(t[r],1),e.keys.splice(t[r],1);window.localStorage.removeItem(u),window.localStorage.setItem(u,JSON.stringify(e))},n),s}return s(n,e),n.prototype.generateKey=function(e,t){var n=this.getQueryRequest(t),o=r.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=e;"onPage"in o&&(a+=o.onPage.pageIndex),n.sorts.forEach(function(e){a+=e.e.direction+e.e.fieldName}),n.groups.forEach(function(e){a+=e.e.fieldName}),n.searches.forEach(function(e){a+=e.e.searchKey});for(var s=0;s<n.filters.length;s++){var i=n.filters[s];if(i.e.isComplex){var u=t.clone();u.queries=[];for(var c=0;c<i.e.predicates.length;c++)u.queries.push({fn:"onWhere",e:i.e.predicates[c],filter:t.queries.filter});a+=i.e.condition+this.generateKey(e,u)}else a+=i.e.field+i.e.operator+i.e.value}return a},n.prototype.processQuery=function(e,t,r){var n,o=this.generateKey(e.dataSource.url,t),s=(n=a.parse.parseJson(window.localStorage.getItem(this.guidId)))?n.results[n.keys.indexOf(o)]:null;return null==s||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):s},n.prototype.processResponse=function(e,t,r,n,o,s){if(this.isInsertAction||o&&this.cacheAdaptor.options.batch&&a.endsWith(o.url,this.cacheAdaptor.options.batch)&&"post"===o.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,r,n,o,s);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var i=r?this.generateKey(t.dataSource.url,r):t.dataSource.url,u={},c=(u=a.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(i);for(-1!==c&&(u.results.splice(c,1),u.keys.splice(c,1)),u.results[u.keys.push(i)-1]={keys:i,result:e.result,timeStamp:new Date,count:e.count};u.results.length>this.pageSize;)u.results.splice(0,1),u.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(u)),e},n.prototype.beforeSend=function(e,r,n){!t.isNullOrUndefined(this.cacheAdaptor.options.batch)&&a.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&r.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||r.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},n.prototype.update=function(e,t,r,n){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,r,n)},n.prototype.insert=function(e,t,r){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,r)},n.prototype.remove=function(e,t,r,n){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,r,n)},n.prototype.batchRequest=function(e,t,r){return this.cacheAdaptor.batchRequest(e,t,r)},n}(c),y=function(){function e(e,n,o){var s=this;this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],e||this.dataSource||(e=[]),o=o||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling);var i;return e instanceof Array?i={json:e,offline:!0}:"object"==typeof e?(e.json||(e.json=[]),i={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof f)&&!e.url,requiresFormat:e.requiresFormat}):a.throwError("DataManager: Invalid arguments"),void 0!==i.requiresFormat||a.isCors()||(i.requiresFormat=!!t.isNullOrUndefined(i.crossDomain)||i.crossDomain),void 0===i.dataType&&(i.dataType="json"),this.dataSource=i,this.defaultQuery=n,i.url&&i.offline&&!i.json.length?(this.isDataAvailable=!1,this.adaptor=o||new l,this.dataSource.offline=!1,this.ready=this.executeQuery(n||new r),this.ready.then(function(e){s.dataSource.offline=!0,s.isDataAvailable=!0,i.json=e.result,s.adaptor=new u})):this.adaptor=i.offline?new u:new l,!i.jsonp&&this.adaptor instanceof l&&(i.jsonp="callback"),this.adaptor=o||this.adaptor,i.enableCaching&&(this.adaptor=new g(this.adaptor,i.timeTillExpiration,i.cachingPageSize)),this}return e.prototype.setDefaultQuery=function(e){return this.defaultQuery=e,this},e.prototype.executeLocal=function(n){this.defaultQuery||n instanceof r||a.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||a.throwError("DataManager - executeLocal() : Json data is required to execute"),n=n||this.defaultQuery;var o=this.adaptor.processQuery(this,n);if(n.subQuery){var s=n.subQuery.fromTable,i=n.subQuery.lookups,u=n.isCountRequired?o.result:o;i&&i instanceof Array&&a.buildHierarchy(n.subQuery.fKey,s,u,i,n.subQuery.key);for(var c=0;c<u.length;c++)u[c][s]instanceof Array&&(u[c]=t.extend({},{},u[c]),u[c][s]=this.adaptor.processResponse(n.subQuery.using(new e(u[c][s].slice(0))).executeLocal(),this,n))}return this.adaptor.processResponse(o,this,n)},e.prototype.executeQuery=function(n,o,s,i){var u=this;"function"==typeof n&&(i=s,s=o,o=n,n=null),n||(n=this.defaultQuery),n instanceof r||a.throwError("DataManager - executeQuery() : A query is required to execute");var c=new v,l={query:n};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!t.isNullOrUndefined(this.adaptor.makeRequest)){var p=this.adaptor.processQuery(this,n);t.isNullOrUndefined(this.adaptor.makeRequest)?t.isNullOrUndefined(p.url)?(l=e.getDeferedArgs(n,p,l),c.resolve(l)):this.makeRequest(p,c,l,n):this.adaptor.makeRequest(p,c,l,n)}else e.nextTick(function(){var t=u.executeLocal(n);l=e.getDeferedArgs(n,t,l),c.resolve(l)});return(o||s)&&c.promise.then(o,s),i&&c.promise.then(i,i),c.promise},e.getDeferedArgs=function(e,t,r){return e.isCountRequired?(r.result=t.result,r.count=t.count,r.aggregates=t.aggregates):r.result=t,r},e.nextTick=function(e){(window.setImmediate||window.setTimeout)(e,0)},e.prototype.extendRequest=function(e,r,n){return t.extend({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:r,onFailure:n},e)},e.prototype.makeRequest=function(e,r,n,o){var s=this,i=!!o.subQuerySelector,u=function(e){n.error=e,r.reject(n)},c=function(e,t,o,a,s,i,u){n.xhr=o,n.count=t?parseInt(t.toString(),10):0,n.result=e,n.request=a,n.aggregates=i,n.actual=s,n.virtualSelectRecords=u,r.resolve(n)},l=function(e,t){var r=new v,l={parent:n};o.subQuery.isChild=!0;var p=s.adaptor.processQuery(s,o.subQuery,e?s.adaptor.processResponse(e):t),d=s.makeRequest(p,r,l,o.subQuery);return i||r.then(function(t){e&&(a.buildHierarchy(o.subQuery.fKey,o.subQuery.fromTable,e,t,o.subQuery.key),c(e,t.count,t.xhr))},u),d},p=function(e,t){-1===t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&s.dateParse&&(e=a.parse.parseJson(e));var r=s.adaptor.processResponse(e,s,o,t.httpRequest,t),n=0,u=null,p=e.virtualSelectRecords;if(o.isCountRequired&&(n=r.count,u=r.aggregates,r=r.result),!o.subQuery)return void c(r,n,t.httpRequest,t.type,e,u,p);i||l(r,t)},d=this.extendRequest(e,p,u),h=new t.Ajax(d);if(h.beforeSend=function(){s.beforeSend(h.httpRequest,h)},(d=h.send()).catch(function(e){return!0}),this.requests.push(h),i){var f=o.subQuerySelector.call(this,{query:o.subQuery,parent:o});f&&f.length?Promise.all([d,l(null,f)]).then(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],n=s.adaptor.processResponse(r[0],s,o,s.requests[0].httpRequest,s.requests[0]),u=0;o.isCountRequired&&(u=n.count,n=n.result);var l=s.adaptor.processResponse(r[1],s,o.subQuery,s.requests[1].httpRequest,s.requests[1]);u=0,o.subQuery.isCountRequired&&(u=l.count,l=l.result),a.buildHierarchy(o.subQuery.fKey,o.subQuery.fromTable,n,l,o.subQuery.key),i=!1,c(n,u,s.requests[0].httpRequest)}):i=!1}return d},e.prototype.beforeSend=function(e,t){this.adaptor.beforeSend(this,e,t);for(var r,n=this.dataSource.headers,o=0;n&&o<n.length;o++){r=[];for(var a=0,s=Object.keys(n[o]);a<s.length;a++){var i=s[a];r.push(i),e.setRequestHeader(i,n[o][i])}}},e.prototype.saveChanges=function(e,n,o,a,s){var i=this;o instanceof r&&(a=o,o=null);var u={url:o,key:n||this.dataSource.key},c=this.adaptor.batchRequest(this,e,u,a||new r,s);if(this.dataSource.offline)return c;if(t.isNullOrUndefined(this.adaptor.doAjaxRequest)){var l=new v,p=new t.Ajax(c);return p.beforeSend=function(){i.beforeSend(p.httpRequest,p)},p.onSuccess=function(t,r){l.resolve(i.adaptor.processResponse(t,i,null,r.httpRequest,r,e,u))},p.onFailure=function(e){l.reject([{error:e}])},p.send().catch(function(e){return!0}),l.promise}return this.adaptor.doAjaxRequest(c)},e.prototype.insert=function(e,n,o,a){n instanceof r&&(o=n,n=null);var s=this.adaptor.insert(this,e,n,o,a);return this.dataSource.offline?s:t.isNullOrUndefined(this.adaptor.doAjaxRequest)?this.doAjaxRequest(s):this.adaptor.doAjaxRequest(s)},e.prototype.remove=function(e,n,o,a){"object"==typeof n&&(n=n[e]),o instanceof r&&(a=o,o=null);var s=this.adaptor.remove(this,e,n,o,a);return this.dataSource.offline?s:t.isNullOrUndefined(this.adaptor.doAjaxRequest)?this.doAjaxRequest(s):this.adaptor.doAjaxRequest(s)},e.prototype.update=function(e,n,o,a,s){o instanceof r&&(a=o,o=null);var i=this.adaptor.update(this,e,n,o,a,s);return this.dataSource.offline?i:t.isNullOrUndefined(this.adaptor.doAjaxRequest)?this.doAjaxRequest(i):this.adaptor.doAjaxRequest(i)},e.prototype.doAjaxRequest=function(e){var r=this,n=new v;e=t.extend({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e);var o=new t.Ajax(e);return o.beforeSend=function(){r.beforeSend(o.httpRequest,o)},o.onSuccess=function(e,t){try{a.parse.parseJson(e)}catch(t){e=[]}e=r.adaptor.processResponse(a.parse.parseJson(e),r,null,t.httpRequest,t),n.resolve(e)},o.onFailure=function(e){n.reject([{error:e}])},o.send().catch(function(e){return!0}),n.promise},e}(),v=function(){function e(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return e}();return e.DataManager=y,e.Deferred=v,e.Query=r,e.Predicate=n,e.Adaptor=i,e.JsonAdaptor=u,e.UrlAdaptor=c,e.ODataAdaptor=l,e.ODataV4Adaptor=p,e.WebApiAdaptor=d,e.WebMethodAdaptor=h,e.RemoteSaveAdaptor=f,e.CacheAdaptor=g,e.DataUtil=a,e}({},ej.base),this.ejs=ej;

/*!
*  filename: ej2-pdf-export.min.js
*  version : 4.2.52
*  Copyright ï¿½ 2001 - 2022 Syncfusion Inc. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
this.ej=this.ej||{},this.ej.pdfexport=function(t,e,i){"use strict";function r(t){return"[object String]"===Object.prototype.toString.call(t)?"$s"+t:"$o"+t.toString()}var n=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||r}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(void 0!==e)return e.value},t.prototype.setValue=function(t,e){var i="$"+this.toStr(t);this.table[i];this.nElements++,this.table[i]={key:t,value:e}},t.prototype.remove=function(t){var e="$"+this.toStr(t),i=this.table[e];return delete this.table[e],this.nElements--,i.value},t.prototype.keys=function(){for(var t=[],e=Object.keys(this.table),i=0;i<e.length;i++){var r=this.table[e[i]];t.push(r.key)}return t},t.prototype.values=function(){for(var t=[],e=Object.keys(this.table),i=0;i<e.length;i++){var r=this.table[e[i]];t.push(r.value)}return t},t.prototype.containsKey=function(t){return!(void 0===this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t}(),o=function(){function t(t){this.stringStartMark="/",this.internalValue="",this.isSaving6=!1,this.position6=-1,this.internalValue=this.normalizeValue(t)}return Object.defineProperty(t.prototype,"status",{get:function(){return this.status6},set:function(t){this.status6=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSaving",{get:function(){return this.isSaving6},set:function(t){this.isSaving6=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectCollectionIndex",{get:function(){return this.index6},set:function(t){this.index6=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.position6},set:function(t){this.position6=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.internalValue},set:function(t){var e=t;null!==t&&t.length>0?(e=t,this.internalValue=this.normalizeValue(e)):this.internalValue=e},enumerable:!0,configurable:!0}),t.prototype.save=function(t){t.write(this.toString())},t.prototype.toString=function(){return this.stringStartMark+this.escapeString(this.value)},t.prototype.clone=function(e){var i=new t;return i.value=this.internalValue,i},t.prototype.escapeString=function(e){for(var i="",r=0,n=e.length;r<n;r++){var o=e[r];t.delimiters.indexOf(o);i+=o}return i},t.prototype.normalizeValue=function(t,e){return t},t.delimiters="()<>[]{}/%}",t.replacements=[" ","\t","\n","\r"],t}(),s=function(){function t(){this.forTest="test",this.forTest=t.obj}return t.obj="obj",t.endObj="endobj",t.r="R",t.whiteSpace=" ",t.slash="/",t.newLine="\r\n",t.stream="stream",t.endStream="endstream",t.xref="xref",t.f="f",t.n="n",t.trailer="trailer",t.startxref="startxref",t.eof="%%EOF",t.header="%PDF-1.5",t.beginText="BT",t.endText="ET",t.beginPath="m",t.appendLineSegment="l",t.stroke="S",t.fill="f",t.fillEvenOdd="f*",t.fillStroke="B",t.fillStrokeEvenOdd="B*",t.appendbeziercurve="c",t.appendRectangle="re",t.saveState="q",t.restoreState="Q",t.paintXObject="Do",t.modifyCtm="cm",t.modifyTM="Tm",t.setLineWidth="w",t.setLineCapStyle="J",t.setLineJoinStyle="j",t.setDashPattern="d",t.setFlatnessTolerance="i",t.closePath="h",t.closeStrokePath="s",t.closeFillStrokePath="b",t.setCharacterSpace="Tc",t.setWordSpace="Tw",t.setHorizontalScaling="Tz",t.setTextLeading="TL",t.setFont="Tf",t.setRenderingMode="Tr",t.setTextRise="Ts",t.setTextScaling="Tz",t.setCoords="Td",t.goToNextLine="T*",t.setText="Tj",t.setTextWithFormatting="TJ",t.setTextOnNewLine="'",t.selectcolorspaceforstroking="CS",t.selectcolorspacefornonstroking="cs",t.setrbgcolorforstroking="RG",t.setrbgcolorfornonstroking="rg",t.setcmykcolorforstroking="K",t.setcmykcolorfornonstroking="k",t.setgraycolorforstroking="G",t.setgraycolorfornonstroking="g",t.clipPath="W",t.clipPathEvenOdd="W*",t.endPath="n",t.setGraphicsState="gs",t.comment="%",t.evenOdd="*",t.setMiterLimit="M",t}(),a=function(){function t(){this.pages="Pages",this.kids="Kids",this.count="Count",this.resources="Resources",this.type="Type",this.size="Size",this.mediaBox="MediaBox",this.parent="Parent",this.root="Root",this.decodeParms="DecodeParms",this.filter="Filter",this.font="Font",this.type1="Type1",this.baseFont="BaseFont",this.encoding="Encoding",this.subtype="Subtype",this.contents="Contents",this.procset="ProcSet",this.colorSpace="ColorSpace",this.extGState="ExtGState",this.pattern="Pattern",this.xObject="XObject",this.length="Length",this.width="Width",this.height="Height",this.bitsPerComponent="BitsPerComponent",this.image="Image",this.dctdecode="DCTDecode",this.columns="Columns",this.blackIs1="BlackIs1",this.k="K",this.s="S",this.predictor="Predictor",this.deviceRgb="DeviceRGB",this.next="Next",this.action="Action",this.link="Link",this.a="A",this.annot="Annot",this.p="P",this.c="C",this.rect="Rect",this.uri="URI",this.annots="Annots",this.ca="ca",this.CA="CA",this.xyz="XYZ",this.fit="Fit",this.dest="Dest",this.BM="BM",this.flatedecode="FlateDecode",this.rotate="Rotate",this.bBox="BBox",this.form="Form",this.w="W",this.cIDFontType2="CIDFontType2",this.cIDToGIDMap="CIDToGIDMap",this.identity="Identity",this.dw="DW",this.fontDescriptor="FontDescriptor",this.cIDSystemInfo="CIDSystemInfo",this.fontName="FontName",this.flags="Flags",this.fontBBox="FontBBox",this.missingWidth="MissingWidth",this.stemV="StemV",this.italicAngle="ItalicAngle",this.capHeight="CapHeight",this.ascent="Ascent",this.descent="Descent",this.leading="Leading",this.avgWidth="AvgWidth",this.fontFile2="FontFile2",this.maxWidth="MaxWidth",this.xHeight="XHeight",this.stemH="StemH",this.registry="Registry",this.ordering="Ordering",this.supplement="Supplement",this.type0="Type0",this.identityH="Identity-H",this.toUnicode="ToUnicode",this.descendantFonts="DescendantFonts"}return t}(),h=function(){function t(t){if(this.position7=-1,this.primitiveItems=new n,this.prefix="<<",this.suffix=">>",this.resources=[],this.object=null,this.archive=!0,this.isFont=!1,void 0===t)this.primitiveItems=new n,this.encrypt=!0,this.dictionaryProperties=new a;else{this.primitiveItems=new n;for(var e=t.items.keys(),i=t.items.values(),r=0;r<t.items.size();r++)this.primitiveItems.setValue(e[r],i[r]);this.status=t.status,this.freezeChanges(this),this.encrypt=!0,this.dictionaryProperties=new a}}return Object.defineProperty(t.prototype,"items",{get:function(){return this.primitiveItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.status7},set:function(t){this.status7=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSaving",{get:function(){return this.isSaving7},set:function(t){this.isSaving7=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectCollectionIndex",{get:function(){return this.index7},set:function(t){this.index7=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clonedObject",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.position7},set:function(t){this.position7=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Count",{get:function(){return this.primitiveItems.size()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Dictionary",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.getArchive=function(){return this.archive},t.prototype.setArchive=function(t){this.archive=t},t.prototype.setEncrypt=function(t){this.encrypt=t,this.modify()},t.prototype.getEncrypt=function(){return this.encrypt},t.prototype.freezeChanges=function(t){this.bChanged=!1},t.prototype.clone=function(e){return new t},t.prototype.modify=function(){this.bChanged=!0},t.prototype.remove=function(t){"string"!=typeof t?(this.primitiveItems.remove(t.value),this.modify()):this.remove(new o(t))},t.prototype.containsKey=function(t){return this.primitiveItems.containsKey(t.toString())},t.prototype.onBeginSave=function(){this.beginSave.sender.beginSave()},t.prototype.onFontDictionaryBeginSave=function(){this.fontDictionaryBeginSave.sender.fontDictionaryBeginSave()},t.prototype.onDescendantFontBeginSave=function(){this.descendantFontBeginSave.sender.descendantFontBeginSave()},t.prototype.onTemplateBeginSave=function(){this.pageBeginDrawTemplate.sender.pageBeginSave()},t.prototype.onBeginAnnotationSave=function(){this.annotationBeginSave.sender.beginSave()},t.prototype.onSectionBeginSave=function(t){var e=this.sectionBeginSave;e.sender.beginSave(e.state,t)},t.prototype.save=function(t,e){void 0===e?this.save(t,!0):(t.write(this.prefix),void 0!==this.beginSave&&this.onBeginSave(),void 0!==this.descendantFontBeginSave&&this.onDescendantFontBeginSave(),void 0!==this.fontDictionaryBeginSave&&this.onFontDictionaryBeginSave(),void 0!==this.annotationBeginSave&&this.onBeginAnnotationSave(),void 0!==this.sectionBeginSave&&this.onSectionBeginSave(t),void 0!==this.pageBeginDrawTemplate&&this.onTemplateBeginSave(),this.Count>0&&this.saveItems(t),t.write(this.suffix),t.write(s.newLine))},t.prototype.saveItems=function(t){t.write(s.newLine);for(var e=this.primitiveItems.keys(),i=this.primitiveItems.values(),r=0;r<e.length;r++){var n=e[r];new o(n).save(t),t.write(s.whiteSpace),i[r].save(t),t.write(s.newLine)}},t}(),l=function(){function t(t){this.sender=t}return t}(),u=function(){function t(t){this.sender=t}return t}(),c=function(){function t(t){this.sender=t}return t}(),p=function(){function t(t){this.sender=t}return t}(),d=function(){function t(t,e){this.sender=t,this.state=e}return t}(),f=function(){function t(t){this.sender=t}return t}(),g=function(){function t(t){this.position5=-1,this.value=t}return Object.defineProperty(t.prototype,"intValue",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInteger",{get:function(){return this.integer},set:function(t){this.integer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.status5},set:function(t){this.status5=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSaving",{get:function(){return this.isSaving5},set:function(t){this.isSaving5=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectCollectionIndex",{get:function(){return this.index5},set:function(t){this.index5=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.position5},set:function(t){this.position5=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.save=function(t){t.write(this.intValue.toString())},t.prototype.clone=function(e){return new t(this.value)},t.floatToString=function(t){var e=t.toFixed(2);return"0.00"===e&&(e=".00"),e},t.min=function(t,e,i){var r=Math.min(t,e);return Math.min(i,r)},t}(),m=function(){function t(e){if(this.startMark="[",this.endMark="]",this.position9=-1,this.clonedObject9=null,this.isFont=!1,void 0===e)this.internalElements=[];else if(void 0===e||e instanceof t){var i=e;this.internalElements=[];for(n=0;n<i.elements.length;n++)this.internalElements.push(i.elements[n])}else for(var r=e,n=0;n<r.length;n++){var o=new g(r[n]);this.add(o)}}return t.prototype.items=function(t){return this.internalElements[t]},Object.defineProperty(t.prototype,"count",{get:function(){return this.internalElements.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.status9},set:function(t){this.status9=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSaving",{get:function(){return this.isSaving9},set:function(t){this.isSaving9=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clonedObject",{get:function(){return this.clonedObject9},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.position9},set:function(t){this.position9=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectCollectionIndex",{get:function(){return this.index9},set:function(t){this.index9=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CrossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this.internalElements},enumerable:!0,configurable:!0}),t.prototype.add=function(t){void 0===this.internalElements&&(this.internalElements=[]),this.internalElements.push(t),this.markedChange()},t.prototype.markedChange=function(){this.bChanged=!0},t.prototype.contains=function(t){for(var e=0;e<this.internalElements.length;e++){var i=this.internalElements[e],r=t;if(null!=i&&void 0!==i&&null!=r&&void 0!==r&&i.value===r.value)return!0}return!1},t.prototype.getItems=function(t){return this.internalElements[t]},t.prototype.save=function(t){t.write(this.startMark);for(var e=0,i=this.count;e<i;e++)this.getItems(e).save(t),e+1!==i&&t.write(s.whiteSpace);t.write(this.endMark)},t.prototype.clone=function(e){this.clonedObject9=null;for(var i=new t,r=0;r<this.internalElements.length;r++){var n=this.internalElements[r];i.add(n.clone(e))}return i.pdfCrossTable=e,this.clonedObject9=i,i},t.fromRectangle=function(e){return new t([e.x,e.y,e.width,e.height])},t.prototype.insert=function(t,e){if(t<this.internalElements.length&&t>0){for(var i=[],r=0;r<t;r++)i.push(this.internalElements[r]);i.push(e);for(r=t;r<this.internalElements.length;r++)i.push(this.internalElements[r]);this.internalElements=i}else this.internalElements.push(e);this.markChanged()},t.prototype.indexOf=function(t){return this.internalElements.indexOf(t)},t.prototype.remove=function(t){var e=this.internalElements.indexOf(t);this.internalElements[e]=null,this.markChanged()},t.prototype.removeAt=function(t){if(this.internalElements.length>t){for(var e=[],i=0;i<t;i++)e.push(this.internalElements[i]);for(i=t+1;i<this.internalElements.length;i++)e.push(this.internalElements[i]);this.internalElements=e}this.markChanged()},t.prototype.clear=function(){this.internalElements=[],this.markChanged()},t.prototype.markChanged=function(){this.bChanged=!0},t}(),y=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),b=function(t){function i(e,i){var r=t.call(this,e)||this;return r.dicPrefix="stream",r.dicSuffix="endstream",r.clonedObject2=null,r.bCompress=!0,r.isImageStream=!1,r.isFontStream=!1,void 0!==e||void 0!==i?(r.dataStream2=[],r.dataStream2=i,r.bCompress2=!1):(r.dataStream2=[],r.bCompress2=!0),r}return y(i,t),Object.defineProperty(i.prototype,"internalStream",{get:function(){return this.dataStream2},set:function(t){this.dataStream2=[],this.dataStream2=t,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isImage",{get:function(){return this.isImageStream},set:function(t){this.isImageStream=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isFont",{get:function(){return this.isFontStream},set:function(t){this.isFontStream=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"compress",{get:function(){return this.bCompress},set:function(t){this.bCompress=t,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this.dataStream2},set:function(t){this.dataStream2=[],this.dataStream2=t,this.modify()},enumerable:!0,configurable:!0}),i.prototype.clearStream=function(){this.internalStream=[],this.items.containsKey(this.dictionaryProperties.filter)&&this.remove(this.dictionaryProperties.filter),this.bCompress=!0,this.modify()},i.prototype.write=function(t){if(null==t)throw new Error("ArgumentNullException:text");if(t.length<=0)throw new Error("ArgumentException: Can not write an empty string, text");this.dataStream2.push(t),this.modify()},i.prototype.writeBytes=function(t){if(null===t)throw new Error("ArgumentNullException:data");if(t.length<=0)throw new Error("ArgumentException: Can not write an empty bytes, data");for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);this.dataStream2.push(e),this.modify()},i.prototype.onCmapBeginSave=function(){this.cmapBeginSave.sender.cmapBeginSave()},i.prototype.onFontProgramBeginSave=function(){this.fontProgramBeginSave.sender.fontProgramBeginSave()},i.prototype.compressContent=function(t,i){if(this.bCompress){for(var r=[],n=0;n<t.length;n++)r.push(t.charCodeAt(n));var o=new Uint8Array(r),s=new e.CompressedStreamWriter;s.write(o,0,o.length),s.close(),t=s.getCompressedString,this.addFilter(this.dictionaryProperties.flatedecode)}return t},i.prototype.addFilter=function(t){var e=this.items.getValue(this.dictionaryProperties.filter);e instanceof C&&(e=e.object);var i=e,r=e;null!=r&&((i=new m).insert(0,r),this.items.setValue(this.dictionaryProperties.filter,i)),r=new o(t),null==i?this.items.setValue(this.dictionaryProperties.filter,r):i.insert(0,r)},i.prototype.save=function(e){void 0!==this.cmapBeginSave&&this.onCmapBeginSave(),void 0!==this.fontProgramBeginSave&&this.onFontProgramBeginSave();for(var i="",r=0;r<this.data.length;r++)i+=this.data[r];i.length>1&&!this.isImage&&!this.isFont&&(i="q\r\n"+i+"Q\r\n");var n=(i=this.compressContent(i,e)).length;this.items.setValue(this.dictionaryProperties.length,new g(n)),t.prototype.save.call(this,e,!1),e.write(this.dicPrefix),e.write(s.newLine),i.length>0&&e.write(i),e.write(s.newLine),e.write(this.dicSuffix),e.write(s.newLine)},i.bytesToString=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},i}(h),w=function(){function t(t){this.sender=t}return t}(),S=function(){function t(t){this.sender=t}return t}();!function(t){!function(t){t[t.None=0]="None",t[t.Ascii=1]="Ascii",t[t.Unicode=2]="Unicode"}(t.ForceEncoding||(t.ForceEncoding={}));var e;!function(t){t[t.StringValue=0]="StringValue",t[t.ByteBuffer=1]="ByteBuffer"}(e||(e={}))}(t.InternalEnum||(t.InternalEnum={}));var P=function(){function e(t){if(this.bHex=!1,this.position1=-1,this.clonedObject1=null,this.bDecrypted=!1,this.isParentDecrypted=!1,this.isPacked=!1,this.isFormField=!1,this.isColorSpace=!1,this.isHexString=!0,void 0===t)this.bHex=!1;else if(!(t.length>0&&"0xfeff"===t[0])){this.stringValue=t,this.data=[];for(var e=0;e<t.length;++e)this.data.push(t.charCodeAt(e))}}return Object.defineProperty(e.prototype,"hex",{get:function(){return this.bHex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.stringValue},set:function(t){this.stringValue=t,this.data=null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.status1},set:function(t){this.status1=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSaving",{get:function(){return this.isSaving1},set:function(t){this.isSaving1=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollectionIndex",{get:function(){return this.index1},set:function(t){this.index1=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clonedObject",{get:function(){return this.clonedObject1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.position1},set:function(t){this.position1=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CrossTable",{get:function(){return this.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"converted",{get:function(){return this.bConverted},set:function(t){this.bConverted=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encode",{get:function(){return this.bForceEncoding},set:function(t){this.bForceEncoding=t},enumerable:!0,configurable:!0}),e.bytesToHex=function(t){if(null==t)return"";return""},e.prototype.save=function(i){if(null===i)throw new Error("ArgumentNullException : writer");void 0!==this.encode&&this.encode===t.InternalEnum.ForceEncoding.Ascii?i.write(this.pdfEncode()):i.write(e.stringMark[0]+this.value+e.stringMark[1])},e.prototype.pdfEncode=function(){var i="";if(void 0!==this.encode&&this.encode===t.InternalEnum.ForceEncoding.Ascii){for(var r=this.escapeSymbols(this.value),n=0;n<r.length;n++)i+=String.fromCharCode(r[n]);i=e.stringMark[0]+i+e.stringMark[1]}else i=this.value;return i},e.prototype.escapeSymbols=function(t){for(var e=[],i=0;i<t.length;i++){var r=t.charCodeAt(i);switch(r){case 40:case 41:e.push(92),e.push(r);break;case 13:e.push(92),e.push(114);break;case 92:e.push(92),e.push(r);break;default:e.push(r)}}return e},e.prototype.clone=function(t){if(null!==this.clonedObject1&&this.clonedObject1.CrossTable===t)return this.clonedObject1;this.clonedObject1=null;var i=new e(this.stringValue);return i.bHex=this.bHex,i.crossTable=t,i.isColorSpace=this.isColorSpace,this.clonedObject1=i,i},e.toUnicodeArray=function(t,e){if(null==t)throw new Error("Argument Null Exception : value");for(var i=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);i.push(n/256>>>0),i.push(255&n)}return i},e.byteToString=function(t){if(null==t)throw new Error("Argument Null Exception : stream");for(var e="",i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e},e.stringMark="()",e.hexStringMark="<>",e.hexFormatPattern="{0:X2}",e}(),v=function(){function t(t,e){this.index3=-1,this.position3=-1,this.objNumber=0,this.genNumber=0,"number"==typeof t&&"number"==typeof e?(this.objNumber=t,this.genNumber=e):(this.objNumber=Number(t),this.genNumber=Number(e))}return Object.defineProperty(t.prototype,"status",{get:function(){return this.status3},set:function(t){this.status3=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSaving",{get:function(){return this.isSaving3},set:function(t){this.isSaving3=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectCollectionIndex",{get:function(){return this.index3},set:function(t){this.index3=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.position3},set:function(t){this.position3=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.save=function(t){t.write(this.toString())},t.prototype.toString=function(){return this.objNumber.toString()+" "+this.genNumber.toString()+" R"},t.prototype.clone=function(t){return null},t}(),C=function(){function t(t,e){this.index4=-1,this.position4=-1,this.objectIndex=-1,this.dictionaryProperties=new a,this.initialize(t)}return Object.defineProperty(t.prototype,"status",{get:function(){return this.status4},set:function(t){this.status4=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSaving",{get:function(){return this.isSaving4},set:function(t){this.isSaving4=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectCollectionIndex",{get:function(){return this.index4},set:function(t){this.index4=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.position4},set:function(t){this.position4=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"object",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.objectIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){if(t instanceof m||t instanceof h||t instanceof o||t instanceof g||t instanceof b||t instanceof v||t instanceof P)this.primitiveObject=t;else{var e=t;this.initialize(e.element)}},t.prototype.save=function(t){t.position;var e=t.document.crossTable;this.object.isSaving=!0;e.getReference(this.object).save(t)},t.prototype.clone=function(t){return null},t}(),x=function(){function t(){this.action=null,this.dictionaryProperties=new a,this.initialize()}return Object.defineProperty(t.prototype,"next",{get:function(){return this.action},set:function(t){this.action=t,this.dictionary.items.setValue(this.dictionaryProperties.next,new C(this.action))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dictionary",{get:function(){return void 0===this.pdfDictionary&&(this.pdfDictionary=new h),this.pdfDictionary},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){this.dictionary.items.setValue(this.dictionaryProperties.type,new o(this.dictionaryProperties.action))},Object.defineProperty(t.prototype,"element",{get:function(){return this.dictionary},enumerable:!0,configurable:!0}),t}(),O=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),L=function(t){function e(e){var i=t.call(this)||this;return i.uniformResourceIdentifier="",i}return O(e,t),Object.defineProperty(e.prototype,"uri",{get:function(){return this.uniformResourceIdentifier},set:function(t){this.uniformResourceIdentifier=t,this.dictionary.items.setValue(this.dictionaryProperties.uri,new P(this.uniformResourceIdentifier))},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){t.prototype.initialize.call(this),this.dictionary.items.setValue(this.dictionaryProperties.s,new o(this.dictionaryProperties.uri))},e}(x);!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(t.PdfHorizontalAlignment||(t.PdfHorizontalAlignment={})),function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"}(t.PdfVerticalAlignment||(t.PdfVerticalAlignment={})),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right",t[t.Justify=3]="Justify"}(t.PdfTextAlignment||(t.PdfTextAlignment={})),function(t){t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.FillStroke=2]="FillStroke",t[t.None=3]="None",t[t.ClipFlag=4]="ClipFlag",t[t.ClipFill=4]="ClipFill",t[t.ClipStroke=5]="ClipStroke",t[t.ClipFillStroke=6]="ClipFillStroke",t[t.Clip=7]="Clip"}(t.TextRenderingMode||(t.TextRenderingMode={})),function(t){t[t.Miter=0]="Miter",t[t.Round=1]="Round",t[t.Bevel=2]="Bevel"}(t.PdfLineJoin||(t.PdfLineJoin={})),function(t){t[t.Flat=0]="Flat",t[t.Round=1]="Round",t[t.Square=2]="Square"}(t.PdfLineCap||(t.PdfLineCap={})),function(t){t[t.Solid=0]="Solid",t[t.Dash=1]="Dash",t[t.Dot=2]="Dot",t[t.DashDot=3]="DashDot",t[t.DashDotDot=4]="DashDotDot",t[t.Custom=5]="Custom"}(t.PdfDashStyle||(t.PdfDashStyle={})),function(t){t[t.Winding=0]="Winding",t[t.Alternate=1]="Alternate"}(t.PdfFillMode||(t.PdfFillMode={})),function(t){t[t.Rgb=0]="Rgb",t[t.Cmyk=1]="Cmyk",t[t.GrayScale=2]="GrayScale",t[t.Indexed=3]="Indexed"}(t.PdfColorSpace||(t.PdfColorSpace={})),function(t){t[t.Normal=0]="Normal",t[t.Multiply=1]="Multiply",t[t.Screen=2]="Screen",t[t.Overlay=3]="Overlay",t[t.Darken=4]="Darken",t[t.Lighten=5]="Lighten",t[t.ColorDodge=6]="ColorDodge",t[t.ColorBurn=7]="ColorBurn",t[t.HardLight=8]="HardLight",t[t.SoftLight=9]="SoftLight",t[t.Difference=10]="Difference",t[t.Exclusion=11]="Exclusion",t[t.Hue=12]="Hue",t[t.Saturation=13]="Saturation",t[t.Color=14]="Color",t[t.Luminosity=15]="Luminosity"}(t.PdfBlendMode||(t.PdfBlendMode={})),function(t){t[t.Centimeter=0]="Centimeter",t[t.Pica=1]="Pica",t[t.Pixel=2]="Pixel",t[t.Point=3]="Point",t[t.Inch=4]="Inch",t[t.Document=5]="Document",t[t.Millimeter=6]="Millimeter"}(t.PdfGraphicsUnit||(t.PdfGraphicsUnit={})),function(t){t[t.Fit=0]="Fit",t[t.Center=1]="Center",t[t.Stretch=2]="Stretch",t[t.Tile=3]="Tile"}(t.PdfGridImagePosition||(t.PdfGridImagePosition={})),function(t){t[t.None=0]="None",t[t.LeftToRight=1]="LeftToRight",t[t.RightToLeft=2]="RightToLeft"}(t.PdfTextDirection||(t.PdfTextDirection={}));var T=function(){function e(t,i,r,n){void 0===t?void 0!==i&&void 0!==r&&void 0!==n?this.assignRGB(i,r,n):this.filled=!1:t instanceof e?(this.redColor=t.r,this.greenColor=t.g,this.blueColor=t.b,this.grayColor=t.gray,this.alpha=t.alpha,this.filled=0!==this.alpha):void 0===n?this.assignRGB(t,i,r):this.assignRGB(i,r,n,t)}return e.prototype.assignRGB=function(t,i,r,n){void 0===t||void 0===i||void 0===r?this.filled=!1:(this.cyanColor=0,this.magentaColor=0,this.yellowColor=0,this.blackColor=0,this.grayColor=0,this.redColor=t,this.greenColor=i,this.blueColor=r,this.alpha=void 0===n?e.maxColourChannelValue:n,this.filled=!0,this.assignCMYK(t,i,r))},e.prototype.assignCMYK=function(t,i,r){var n=t/e.maxColourChannelValue,o=i/e.maxColourChannelValue,s=r/e.maxColourChannelValue,a=g.min(1-n,1-o,1-s),h=1===a?0:(1-n-a)/(1-a),l=1===a?0:(1-o-a)/(1-a),u=1===a?0:(1-s-a)/(1-a);this.blackColor=a,this.cyanColor=h,this.magentaColor=l,this.yellowColor=u},Object.defineProperty(e.prototype,"r",{get:function(){return this.redColor},set:function(t){this.redColor=t,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.r/e.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.blueColor},set:function(t){this.blueColor=t,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.b/e.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this.greenColor},set:function(t){this.greenColor=t,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.g/e.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gray",{get:function(){return(this.redColor+this.greenColor+this.blueColor)/(3*e.maxColourChannelValue)},set:function(t){this.grayColor=t<0?0:t>1?1:t,this.r=this.grayColor*e.maxColourChannelValue,this.g=this.grayColor*e.maxColourChannelValue,this.b=this.grayColor*e.maxColourChannelValue,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.filled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.alpha},set:function(t){this.alpha=t<0?0:t,this.filled=!0},enumerable:!0,configurable:!0}),e.prototype.toString=function(t,e){return this.isEmpty?"":this.rgbToString(e)},e.prototype.rgbToString=function(t){var i=this.r,r=this.g,n=this.b,o=(i<<16)+(r<<8)+n;t&&(o+=1<<24);var a="",h=null;if(e.rgbStrings.containsKey(o)&&(h=e.rgbStrings.getValue(o)),null==h){var l=i/e.maxColourChannelValue,u=r/e.maxColourChannelValue,c=n/e.maxColourChannelValue;a=t?l.toString()+" "+u.toString()+" "+c.toString()+" RG":l.toString()+" "+u.toString()+" "+c.toString()+" rg",e.rgbStrings.setValue(o,a)}else a=h.toString();return a+s.newLine},e.prototype.toArray=function(e){var i=new m;switch(e){case t.PdfColorSpace.Rgb:i.add(new g(this.red)),i.add(new g(this.green)),i.add(new g(this.blue));break;default:throw new Error("NotSupportedException : Unsupported colour space.")}return i},e.rgbStrings=new n,e.grayStringsSroke=new n,e.grayStringsFill=new n,e.maxColourChannelValue=255,e}(),j=function(){function t(t,e){void 0===t?(this.x=0,this.y=0):(this.x=null!==t?t:0,this.y=null!==e?e:0)}return t}(),R=function(){function t(t,e){void 0===e?(this.height=0,this.width=0):(this.height=null!==e?e:0,this.width=null!==t?t:0)}return t}(),B=function(){function t(t,e,i,r){if(typeof t==typeof t&&void 0===t)this.x=0,this.y=0,this.height=0,this.width=0;else if(t instanceof j&&e instanceof R&&void 0===i){var n=t;this.x=n.x,this.y=n.y;var o=e;this.height=o.height,this.width=o.width}else{var s=t,a=e,h=i,l=r;this.x=s,this.y=a,this.height=l,this.width=h}}return t}(),N=function(){function t(t,e,i,r){this.left=t,this.top=e,this.right=i,this.bottom=r}return Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeft",{get:function(){return new j(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return new R(this.width,this.height)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.topLeft+"x"+this.size},t}(),V=function(){function t(){}return t}(),I=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),F=function(e){function i(t){var i=e.call(this)||this;return i.pdfColor=t,i}return I(i,e),Object.defineProperty(i.prototype,"color",{get:function(){return this.pdfColor},set:function(t){this.pdfColor=t},enumerable:!0,configurable:!0}),i.prototype.monitorChanges=function(t,e,i,r,n){if(null==e)throw new Error("ArgumentNullException:streamWriter");var o=!1;return o=!0,e.setColorAndSpace(this.pdfColor,n,!1),o},i.prototype.resetChanges=function(e){e.setColorAndSpace(new T(0,0,0),t.PdfColorSpace.Rgb,!1)},i}(V);!function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold",t[t.Italic=2]="Italic",t[t.Underline=4]="Underline",t[t.Strikeout=8]="Strikeout"}(t.PdfFontStyle||(t.PdfFontStyle={})),function(t){t[t.Helvetica=0]="Helvetica",t[t.Courier=1]="Courier",t[t.TimesRoman=2]="TimesRoman",t[t.Symbol=3]="Symbol",t[t.ZapfDingbats=4]="ZapfDingbats"}(t.PdfFontFamily||(t.PdfFontFamily={})),function(t){t[t.Standard=0]="Standard",t[t.TrueType=1]="TrueType",t[t.TrueTypeEmbedded=2]="TrueTypeEmbedded"}(t.PdfFontType||(t.PdfFontType={})),function(t){t[t.None=0]="None",t[t.Word=1]="Word",t[t.WordOnly=2]="WordOnly",t[t.Character=3]="Character"}(t.PdfWordWrapType||(t.PdfWordWrapType={})),function(t){t[t.None=0]="None",t[t.SuperScript=1]="SuperScript",t[t.SubScript=2]="SubScript"}(t.PdfSubSuperScript||(t.PdfSubSuperScript={})),function(t){t[t.Unknown=0]="Unknown",t[t.StandardEncoding=1]="StandardEncoding",t[t.MacRomanEncoding=2]="MacRomanEncoding",t[t.MacExpertEncoding=3]="MacExpertEncoding",t[t.WinAnsiEncoding=4]="WinAnsiEncoding",t[t.PdfDocEncoding=5]="PdfDocEncoding",t[t.IdentityH=6]="IdentityH"}(t.FontEncoding||(t.FontEncoding={})),function(t){t[t.Apple=0]="Apple",t[t.Microsoft=4]="Microsoft",t[t.Trimmed=6]="Trimmed"}(t.TtfCmapFormat||(t.TtfCmapFormat={})),function(t){t[t.Unknown=0]="Unknown",t[t.Symbol=1]="Symbol",t[t.Unicode=2]="Unicode",t[t.Macintosh=3]="Macintosh"}(t.TtfCmapEncoding||(t.TtfCmapEncoding={})),function(t){t[t.AppleUnicode=0]="AppleUnicode",t[t.Macintosh=1]="Macintosh",t[t.Iso=2]="Iso",t[t.Microsoft=3]="Microsoft"}(t.TtfPlatformID||(t.TtfPlatformID={})),function(t){t[t.Undefined=0]="Undefined",t[t.Unicode=1]="Unicode"}(t.TtfMicrosoftEncodingID||(t.TtfMicrosoftEncodingID={})),function(t){t[t.Roman=0]="Roman",t[t.Japanese=1]="Japanese",t[t.Chinese=2]="Chinese"}(t.TtfMacintoshEncodingID||(t.TtfMacintoshEncodingID={})),function(t){t[t.FixedPitch=1]="FixedPitch",t[t.Serif=2]="Serif",t[t.Symbolic=4]="Symbolic",t[t.Script=8]="Script",t[t.Nonsymbolic=32]="Nonsymbolic",t[t.Italic=64]="Italic",t[t.ForceBold=262144]="ForceBold"}(t.FontDescriptorFlags||(t.FontDescriptorFlags={})),function(t){t[t.Arg1And2AreWords=1]="Arg1And2AreWords",t[t.ArgsAreXyValues=2]="ArgsAreXyValues",t[t.RoundXyToGrid=4]="RoundXyToGrid",t[t.WeHaveScale=8]="WeHaveScale",t[t.Reserved=16]="Reserved",t[t.MoreComponents=32]="MoreComponents",t[t.WeHaveAnXyScale=64]="WeHaveAnXyScale",t[t.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",t[t.WeHaveInstructions=256]="WeHaveInstructions",t[t.UseMyMetrics=512]="UseMyMetrics"}(t.TtfCompositeGlyphFlags||(t.TtfCompositeGlyphFlags={}));var E=function(){function e(e,i){this.scalingFactor=100,this.wordWrapType=t.PdfWordWrapType.Word,this.internalLineLimit=!0,this.wordWrapType=t.PdfWordWrapType.Word,void 0!==e&&"string"!=typeof e&&(this.textAlignment=e),void 0!==i&&(this.verticalAlignment=i)}return Object.defineProperty(e.prototype,"alignment",{get:function(){return this.textAlignment},set:function(t){this.textAlignment=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textDirection",{get:function(){return this.direction},set:function(t){this.direction=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineAlignment",{get:function(){return void 0===this.verticalAlignment||null==this.verticalAlignment?t.PdfVerticalAlignment.Top:this.verticalAlignment},set:function(t){this.verticalAlignment=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightToLeft",{get:function(){return void 0!==this.isRightToLeft&&null!=this.isRightToLeft&&this.isRightToLeft},set:function(t){this.isRightToLeft=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"characterSpacing",{get:function(){return void 0===this.internalCharacterSpacing||null==this.internalCharacterSpacing?0:this.internalCharacterSpacing},set:function(t){this.internalCharacterSpacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordSpacing",{get:function(){return void 0===this.internalWordSpacing||null==this.internalWordSpacing?0:this.internalWordSpacing},set:function(t){this.internalWordSpacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return void 0===this.leading||null==this.leading?0:this.leading},set:function(t){this.leading=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clipPath",{get:function(){return void 0!==this.clip&&null!=this.clip&&this.clip},set:function(t){this.clip=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subSuperScript",{get:function(){return void 0===this.pdfSubSuperScript||null==this.pdfSubSuperScript?t.PdfSubSuperScript.None:this.pdfSubSuperScript},set:function(t){this.pdfSubSuperScript=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphIndent",{get:function(){return void 0===this.internalParagraphIndent||null==this.internalParagraphIndent?0:this.internalParagraphIndent},set:function(t){this.internalParagraphIndent=t,this.firstLineIndent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineLimit",{get:function(){return this.internalLineLimit},set:function(t){this.internalLineLimit=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measureTrailingSpaces",{get:function(){return void 0!==this.trailingSpaces&&null!=this.trailingSpaces&&this.trailingSpaces},set:function(t){this.trailingSpaces=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noClip",{get:function(){return void 0!==this.isNoClip&&null!=this.isNoClip&&this.isNoClip},set:function(t){this.isNoClip=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this.wordWrapType},set:function(t){this.wordWrapType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScalingFactor",{get:function(){return this.scalingFactor},set:function(t){if(t<=0)throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");this.scalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstLineIndent",{get:function(){return void 0===this.initialLineIndent||null==this.initialLineIndent?0:this.initialLineIndent},set:function(t){this.initialLineIndent=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return this},e}(),A=function(){function t(t){if(this.currentPosition=0,null==t)throw new Error("ArgumentNullException:text");this.text=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.currentPosition===this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.currentPosition},set:function(t){this.currentPosition=t},enumerable:!0,configurable:!0}),t.getCharsCount=function(t,e){if("string"==typeof e){if(null==t)throw new Error("ArgumentNullException:wholeText");for(var i=0,r=0;-1!==(r=t.indexOf(e,r));)i++,r++;return i}if(null==t)throw new Error("ArgumentNullException:text");if(null==e)throw new Error("ArgumentNullException:symbols");for(var n=0,o=0,s=t.length;o<s;o++){var a=t[o];this.contains(e,a)&&n++}return n},t.prototype.readLine=function(){for(var t=this.currentPosition;t<this.length;){switch(this.text[t]){case"\r":case"\n":var e=this.text.substring(this.currentPosition,t-this.currentPosition);return this.currentPosition=t+1,this.currentPosition++,e}t++}if(t>this.currentPosition){var i=this.text.substring(this.currentPosition,t-this.currentPosition);return this.currentPosition=t,i}return null},t.prototype.peekLine=function(){var t=this.currentPosition,e=this.readLine();return this.currentPosition=t,e},t.prototype.readWord=function(){for(var t=this.currentPosition;t<this.length;){var e=this.text[t];switch(e){case"\r":case"\n":var i=this.text.substr(this.currentPosition,t-this.currentPosition);return this.currentPosition=t+1,"\r"===e&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i;case" ":case"\t":t===this.currentPosition&&t++;var r=this.text.substr(this.currentPosition,t-this.currentPosition);return this.currentPosition=t,r}t++}if(t>this.currentPosition){var n=this.text.substr(this.currentPosition,t-this.currentPosition);return this.currentPosition=t,n}return null},t.prototype.peekWord=function(){var t=this.currentPosition,e=this.readWord();return this.currentPosition=t,e},t.prototype.read=function(t){if(void 0===t){var e="0";return this.end||(e=this.text[this.currentPosition],this.currentPosition++),e}for(var i=0,r="";!this.end&&i<t;)r+=e=this.read(),i++;return r},t.prototype.peek=function(){var t="0";return this.end||(t=this.text[this.currentPosition]),t},t.prototype.close=function(){this.text=null},t.prototype.readToEnd=function(){var t;return t=0===this.currentPosition?this.text:this.text.substring(this.length,this.currentPosition),this.currentPosition=this.length,t},t.contains=function(t,e){for(var i=!1,r=0;r<t.length;r++)if(t[r]===e){i=!0;break}return i},t.whiteSpace=" ",t.tab="\t",t.spaces=[t.whiteSpace,t.tab],t.whiteSpacePattern="^[ \t]+$",t}(),M=function(){function e(){this.isOverloadWithPosition=!1}return e.prototype.layout=function(t,e,i,r,n,o,s){if(r instanceof B){this.initialize(t,e,i,r,n),this.isOverloadWithPosition=o,this.clientSize=s;a=this.doLayout();return this.clear(),a}this.initialize(t,e,i,r),this.isOverloadWithPosition=n,this.clientSize=o;var a=this.doLayout();return this.clear(),a},e.prototype.initialize=function(t,e,i,r,n){if("number"==typeof n){if(null==t)throw new Error("ArgumentNullException:text");if(null==e)throw new Error("ArgumentNullException:font");this.text=t,this.font=e,this.format=i,this.size=new R(r.width,r.height),this.rectangle=r,this.pageHeight=n,this.reader=new A(t)}else this.initialize(t,e,i,new B(new j(0,0),r),0)},e.prototype.clear=function(){this.font=null,this.format=null,this.reader.close(),this.reader=null,this.text=null},e.prototype.doLayout=function(){for(var t=new D,e=new D,i=[],r=this.reader.peekLine(),n=this.getLineIndent(!0);null!=r;){if(null!==(e=this.layoutLine(r,n))||void 0!==e){var o=0,s=this.copyToResult(t,e,i,o),a=s.success;if(o=s.numInserted,!a){this.reader.read(o);break}}this.reader.readLine(),r=this.reader.peekLine(),n=this.getLineIndent(!1)}return this.finalizeResult(t,i),t},e.prototype.getLineIndent=function(t){var e=0;return null!=this.format&&(e=t?this.format.firstLineIndent:this.format.paragraphIndent,e=this.size.width>0?Math.min(this.size.width,e):e),e},e.prototype.getLineHeight=function(){var t=this.font.height;return null!=this.format&&0!==this.format.lineSpacing&&(t=this.format.lineSpacing+this.font.height),t},e.prototype.getLineWidth=function(t){return this.font.getLineWidth(t,this.format)},e.prototype.layoutLine=function(e,i){var r=new D;r.layoutLineHeight=this.getLineHeight();var n=[],o=this.size.width,s=this.getLineWidth(e)+i,a=t.LineType.FirstParagraphLine,h=!0;if(o<=0||Math.round(s)<=Math.round(o))this.addToLineResult(r,n,e,s,t.LineType.NewLineBreak|a);else{var l="",u="";s=i;var c=i,p=new A(e),d=p.peekWord();for(d.length!==p.length&&" "===d&&(u+=d,l+=d,p.position+=1,d=p.peekWord());null!=d;){u+=d;var f=this.getLineWidth(u.toString())+c;if(" "===u.toString()&&(u="",f=0),f>o){if(this.getWrapType()===t.PdfWordWrapType.None)break;if(u.length===d.length){if(this.getWrapType()===t.PdfWordWrapType.WordOnly){r.textRemainder=e.substring(p.position);break}if(1===u.length){l+=d;break}h=!1,u="",d=p.peek().toString();continue}this.getLineWidth(d.toString())>o?this.format.wordWrap=t.PdfWordWrapType.Character:void 0!==this.format&&null!==this.format&&(this.format.wordWrap=t.PdfWordWrapType.Word),this.getWrapType()===t.PdfWordWrapType.Character&&h?(h=!1,u="",u+=l.toString(),d=p.peek().toString()):(" "!==(g=l.toString())&&this.addToLineResult(r,n,g,s,t.LineType.LayoutBreak|a),this.isOverloadWithPosition&&(o=this.clientSize.width),u="",l="",s=0,c=0,f=0,a=t.LineType.None,d=h?d:p.peekWord(),h=!0)}else l+=d,s=f,h?(p.readWord(),d=p.peekWord()):(p.read(),d=p.peek().toString())}if(l.length>0){var g=l.toString();this.addToLineResult(r,n,g,s,t.LineType.NewLineBreak|t.LineType.LastParagraphLine)}p.close()}r.layoutLines=[];for(var m=0;m<n.length;m++)r.layoutLines.push(n[m]);return n=[],r},e.prototype.addToLineResult=function(t,e,i,r,n){var o=new k;o.text=i,o.width=r,o.lineType=n,e.push(o);var s=t.actualSize;s.height+=this.getLineHeight(),s.width=Math.max(s.width,r),t.size=s},e.prototype.copyToResult=function(t,e,i,r){var n=!0,o=null!=this.format&&!this.format.lineLimit,s=t.actualSize.height,a=this.size.height;if(this.pageHeight>0&&a+this.rectangle.y>this.pageHeight&&(a=this.rectangle.y-this.pageHeight,a=Math.max(a,-a)),r=0,null!=e.lines)for(var h=0,l=e.lines.length;h<l;h++){var u=s+e.lineHeight;if(!(u<=a||a<=0||o)){n=!1;break}var c=e.lines[h];r+=c.text.length,c=this.trimLine(c,0===i.length),i.push(c);var p=t.actualSize;p.width=Math.max(p.width,c.width),t.size=p,s=u}if(s!=t.size.height){var d=t.actualSize;d.height=s,t.size=d}return{success:n,numInserted:r}},e.prototype.finalizeResult=function(t,e){t.layoutLines=[];for(var i=0;i<e.length;i++)t.layoutLines.push(e[i]);t.layoutLineHeight=this.getLineHeight(),this.reader.end||(t.textRemainder=this.reader.readToEnd()),e=[]},e.prototype.trimLine=function(e,i){var r=e.text,n=e.width;e.lineType,t.LineType.FirstParagraphLine,null==this.format||this.format.rightToLeft;return(r=r.trim()).length!==e.text.length&&(n=this.getLineWidth(r),(e.lineType&t.LineType.FirstParagraphLine)>0&&(n+=this.getLineIndent(i))),e.text=r,e.width=n,e},e.prototype.getWrapType=function(){return null!=this.format?this.format.wordWrap:t.PdfWordWrapType.Word},e}(),D=function(){function t(){}return Object.defineProperty(t.prototype,"remainder",{get:function(){return this.textRemainder},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualSize",{get:function(){return void 0===this.size&&(this.size=new R(0,0)),this.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lines",{get:function(){return this.layoutLines},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this.layoutLineHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return null==this.layoutLines||0===this.layoutLines.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.empty?0:this.layoutLines.length},enumerable:!0,configurable:!0}),t}(),k=function(){function t(){}return Object.defineProperty(t.prototype,"lineType",{get:function(){return this.type},set:function(t){this.type=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.content},set:function(t){this.content=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.lineWidth},set:function(t){this.lineWidth=t},enumerable:!0,configurable:!0}),t}();!function(t){t[t.None=0]="None",t[t.NewLineBreak=1]="NewLineBreak",t[t.LayoutBreak=2]="LayoutBreak",t[t.FirstParagraphLine=4]="FirstParagraphLine",t[t.LastParagraphLine=8]="LastParagraphLine"}(t.LineType||(t.LineType={}));var z=function(){function e(e,i){this.fontStyle=t.PdfFontStyle.Regular,"number"==typeof e&&void 0===i?this.fontSize=e:(this.fontSize=e,this.setStyle(i))}return Object.defineProperty(e.prototype,"name",{get:function(){return this.metrics.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.metrics.getHeight(null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.fontStyle},set:function(t){this.fontStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return(this.style&t.PdfFontStyle.Bold)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return(this.style&t.PdfFontStyle.Italic)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strikeout",{get:function(){return(this.style&t.PdfFontStyle.Strikeout)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"underline",{get:function(){return(this.style&t.PdfFontStyle.Underline)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metrics",{get:function(){return this.fontMetrics},set:function(t){this.fontMetrics=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.pdfFontInternals},enumerable:!0,configurable:!0}),e.prototype.measureString=function(t,e,i,r,n){if("string"==typeof t&&void 0===e)return this.measureString(t,null);if("string"==typeof t&&(e instanceof E||null==e)&&void 0===i&&void 0===r){a=e;return this.measureString(t,a,0,0)}if("string"==typeof t&&(e instanceof E||null==e)&&"number"==typeof i&&"number"==typeof r){a=e;return this.measureString(t,0,a,i,r)}if("string"==typeof t&&"number"==typeof e&&(i instanceof E||null==i)&&"number"==typeof r&&"number"==typeof n){var o=new R(e,0),s=i;return this.measureString(t,o,s,r,n)}if(null==t)throw Error('ArgumentNullException("text")');var a=e,s=i,h=(new M).layout(t,this,s,a,!1,new R(0,0));return r=t.length,n=h.empty?0:h.lines.length,h.actualSize},e.prototype.equalsTo=function(t){return this.equalsToFont(t)},e.prototype.getInternals=function(){return this.pdfFontInternals},e.prototype.setInternals=function(t){if(null==t)throw new Error("ArgumentNullException:internals");this.pdfFontInternals=t},e.prototype.setStyle=function(t){this.fontStyle=t},e.prototype.applyFormatSettings=function(t,e,i){var r=i;if(null!=e&&i>0&&(0!==e.characterSpacing&&(r+=(t.length-1)*e.characterSpacing),0!==e.wordSpacing)){var n=A.spaces;r+=A.getCharsCount(t,n)*e.wordSpacing}return r},e.charSizeMultiplier=.001,e.syncObject=new Object,e}(),W=function(){function t(t){this.streamWriter=t}return Object.defineProperty(t.prototype,"document",{get:function(){return this.pdfDocument},set:function(t){this.pdfDocument=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stream",{get:function(){return this.streamWriter},enumerable:!0,configurable:!0}),t.prototype.write=function(t){var e=t;this.streamWriter.write(e)},t}();!function(t){t[t.None=0]="None",t[t.Registered=1]="Registered"}(t.ObjectStatus||(t.ObjectStatus={}));var G=function(){function e(){this.objectCollections=[],this.mainObjectCollection=new n,this.primitiveObjectCollection=new n}return Object.defineProperty(e.prototype,"count",{get:function(){return this.objectCollections.length},enumerable:!0,configurable:!0}),e.prototype.items=function(t){return this.objectCollections[t]},Object.defineProperty(e.prototype,"outIsNew",{get:function(){return this.isNew},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var i=new H(e);this.objectCollections.push(i),this.primitiveObjectCollection.containsKey(e)||this.primitiveObjectCollection.setValue(e,this.objectCollections.length-1),e.position=this.index=this.objectCollections.length-1,e.status=t.ObjectStatus.Registered},e.prototype.lookFor=function(t){var e=-1;if(-1!==t.position)return t.position;if(this.primitiveObjectCollection.containsKey(t)&&this.count===this.primitiveObjectCollection.size())e=this.primitiveObjectCollection.getValue(t);else for(var i=this.count-1;i>=0;i--)if(this.objectCollections[i].object===t){e=i;break}return e},e.prototype.getReference=function(t,e){this.index=this.lookFor(t);return this.isNew=!1,{reference:this.objectCollections[this.index].reference,wasNew:e}},e.prototype.trySetReference=function(t,e,i){return!0,this.index=this.lookFor(t),this.objectCollections[this.index].setReference(e),!0},e.prototype.destroy=function(){for(var t=0,e=this.objectCollections;t<e.length;t++){var i=e[t];void 0!==i&&(i.pdfObject.position=-1,i.pdfObject.isSaving=void 0,i.pdfObject.objectCollectionIndex=void 0,i.pdfObject.position=void 0)}this.objectCollections=[],this.mainObjectCollection=new n,this.primitiveObjectCollection=new n},e}(),H=function(){function t(t,e){this.pdfObject=t,this.pdfReference=e}return Object.defineProperty(t.prototype,"object",{get:function(){return this.pdfObject},set:function(t){this.pdfObject=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),t.prototype.setReference=function(t){this.pdfReference=t},t}(),_=function(){function t(t){this.isStreamCopied=!1,t instanceof we&&(this.document=t)}return Object.defineProperty(t.prototype,"pdfObjects",{get:function(){return this.objects},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSavingObj",{get:function(){return this.currentSavingObject},set:function(t){this.currentSavingObject=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"catalog",{get:function(){return this.pdfCatalog},set:function(t){this.pdfCatalog=t},enumerable:!0,configurable:!0}),t.prototype.setMainObjectCollection=function(t){this.objects=t},t.prototype.setCrossTable=function(t){this.pdfCrossTable=t},t.prototype.setCatalog=function(t){this.pdfCatalog=t},t.prototype.save=function(t){var e=this,r=new i.Encoding(!0),n=new i.StreamWriter(r);if(void 0===t){var o=new i.Encoding(!0),s=new i.StreamWriter(o);return new Promise(function(t,i){var r={};r.blobData=new Blob([e.document.docSave(s,!0)],{type:"application/pdf"}),t(r)})}this.document.docSave(n,t,!0)},t.prototype.clone=function(){return this.document},t}();!function(t){t[t.Free=0]="Free",t[t.Normal=1]="Normal",t[t.Packed=2]="Packed"}(t.ObjectType||(t.ObjectType={}));var U=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),K=function(t){function e(){var e=t.call(this)||this;return e.sections=null,e.tempDictionaryProperties=new a,e.items.setValue((new a).type,new o("Catalog")),e}return U(e,t),Object.defineProperty(e.prototype,"pages",{get:function(){return this.sections},set:function(t){t.element;this.sections=t,this.items.setValue(this.tempDictionaryProperties.pages,new C(t))},enumerable:!0,configurable:!0}),e}(h),J=function(){function e(){this.objects=new n,this.maxGenNumIndex=0,this.objectCount=0,this.dictionaryProperties=new a}return Object.defineProperty(e.prototype,"isMerging",{get:function(){return this.merging},set:function(t){this.merging=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trailer",{get:function(){return null==this.internalTrailer&&(this.internalTrailer=new b),this.internalTrailer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},set:function(t){this.pdfDocument=t,this.items=this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pdfObjects",{get:function(){return this.items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectCollection",{get:function(){return this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.objectCount},set:function(t){this.objectCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextObjNumber",{get:function(){return this.count=this.count+1,this.count},enumerable:!0,configurable:!0}),e.prototype.save=function(t,e){this.saveHead(t),this.mappedReferences=null,this.objects.clear(),this.markTrailerReferences(),this.saveObjects(t);var i=this.count,r=t.position;this.registerObject(0,new v(0,-1),!0);t.write(s.xref),t.write(s.newLine),this.saveSections(t),this.saveTrailer(t,this.count,0),this.saveTheEndess(t,r),this.count=i;for(var n=0;n<this.objectCollection.count;++n)this.objectCollection.items(n).object.isSaving=!1;if(void 0===e)return t.stream.buffer;t.stream.save(e)},e.prototype.saveTheEndess=function(t,e){t.write(s.newLine+s.startxref+s.newLine),t.write(e.toString()+s.newLine),t.write(s.eof+s.newLine)},e.prototype.saveTrailer=function(t,e,i){t.write(s.trailer+s.newLine);var r=this.trailer;r.items.setValue(this.dictionaryProperties.size,new g(this.objectCount+1)),(r=new h(r)).setEncrypt(!1),r.save(t)},e.prototype.saveSections=function(t){var e=0,i=0;do{i=this.prepareSubsection(e),this.saveSubsection(t,e,i),e+=i}while(0!==i)},e.prototype.saveSubsection=function(e,i,r){if(!(r<=0||i>=this.count)){e.write(i+" "+(r+1)+s.newLine);for(var n=i;n<=i+r;++n){var o=this.objects.getValue(n),a="";a=o.type===t.ObjectType.Free?this.getItem(o.offset,65535,!0):this.getItem(o.offset,o.generation,!1),e.write(a)}}},e.prototype.getItem=function(t,e,i){var r="",n=10-t.toString().length;e<=0&&(e=0);for(var o=5-e.toString().length<=0?0:5-e.toString().length,a=0;a<n;a++)r+="0";r=r+t.toString()+" ";for(a=0;a<o;a++)r+="0";return r=r+e.toString()+" ",r=r+(i?s.f:s.n)+s.newLine},e.prototype.prepareSubsection=function(t){for(var e,i=0,r=this.count,n=0;n<this.document.pdfObjects.count;n++)this.document.pdfObjects.items(n).reference.toString().split(" ");if(t>=r)return i;for(e=t;e<r;++e)break;for(t=e;e<r;++e)++i;return i},e.prototype.markTrailerReferences=function(){this.trailer.items.keys(),this.trailer.items.values()},e.prototype.saveHead=function(t){var e=this.generateFileVersion(t.document);t.write("%PDF-"+e),t.write(s.newLine)},e.prototype.generateFileVersion=function(t){return"1."+4..toString()},e.prototype.getReference=function(t,e){if(void 0===e){return this.getReference(t,!1)}return this.getSubReference(t,e)},e.prototype.getSubReference=function(e,i){var r,n=!1,o=null;if(this.items.count>0&&e.objectCollectionIndex>0&&this.items.count>e.objectCollectionIndex-1){var s=this.document.pdfObjects.getReference(e,r);o=s.reference,r=s.wasNew}if(r=null==o&&e.status!==t.ObjectStatus.Registered,null==o){var a=this.nextObjNumber;o=new v(a,0);if(r){this.document.pdfObjects.add(e),this.document.pdfObjects.trySetReference(e,o,void 0);var h=this.document.pdfObjects.count-1,l=this.document.pdfObjects.objectCollections[h].reference.objNumber,u=this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1];this.document.pdfObjects.mainObjectCollection.setValue(l,u),e.position=-1}else this.document.pdfObjects.trySetReference(e,o,void 0);e.objectCollectionIndex=o.objNumber,e.status=t.ObjectStatus.None,n=!0}return n||this.bForceNew,o},e.prototype.saveObjects=function(t){for(var e=this.objectCollection,i=0;i<e.count;++i){var r=e.items(i).object;r.isSaving=!0,this.saveIndirectObject(r,t)}},e.prototype.saveIndirectObject=function(t,e){var i=this.getReference(t);t instanceof K&&this.trailer.items.setValue(this.dictionaryProperties.root,i),this.pdfDocument.currentSavingObj=i;t.getArchive(),this.registerObject(e.position,i),this.doSaveObject(t,i,e)},e.prototype.doSaveObject=function(t,e,i){i.length;i.write(e.objNumber.toString()),i.write(s.whiteSpace),i.write(e.genNumber.toString()),i.write(s.whiteSpace),i.write(s.obj),i.write(s.newLine),t.save(i);i.stream;i.write(s.endObj),i.write(s.newLine)},e.prototype.registerObject=function(t,e,i){"boolean"==typeof i?(this.objects.setValue(e.objNumber,new X(t,e,i)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,e.genNumber)):void 0===i&&(this.objects.setValue(e.objNumber,new X(t,e)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,e.genNumber))},e.dereference=function(t){var e=t;return null!=e&&(t=e.object),t},e}(),X=function(){function e(e,i,r){var n=e;this.offsetNumber=n;var o=i;this.generation=o.genNumber,this.object=o.objNumber,this.type=void 0===r?t.ObjectType.Normal:t.ObjectType.Free}return Object.defineProperty(e.prototype,"objectNumber",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.offsetNumber},enumerable:!0,configurable:!0}),e}(),Y=function(){function t(){}return t.letter=new R(612,792),t.note=new R(540,720),t.legal=new R(612,1008),t.a0=new R(2380,3368),t.a1=new R(1684,2380),t.a2=new R(1190,1684),t.a3=new R(842,1190),t.a4=new R(595,842),t.a5=new R(421,595),t.a6=new R(297,421),t.a7=new R(210,297),t.a8=new R(148,210),t.a9=new R(105,148),t.a10=new R(74,105),t.b0=new R(2836,4008),t.b1=new R(2004,2836),t.b2=new R(1418,2004),t.b3=new R(1002,1418),t.b4=new R(709,1002),t.b5=new R(501,709),t.archE=new R(2592,3456),t.archD=new R(1728,2592),t.archC=new R(1296,1728),t.archB=new R(864,1296),t.archA=new R(648,864),t.flsa=new R(612,936),t.halfLetter=new R(396,612),t.letter11x17=new R(792,1224),t.ledger=new R(1224,792),t}();!function(t){t[t.Portrait=0]="Portrait",t[t.Landscape=1]="Landscape"}(t.PdfPageOrientation||(t.PdfPageOrientation={})),function(t){t[t.RotateAngle0=0]="RotateAngle0",t[t.RotateAngle90=1]="RotateAngle90",t[t.RotateAngle180=2]="RotateAngle180",t[t.RotateAngle270=3]="RotateAngle270"}(t.PdfPageRotateAngle||(t.PdfPageRotateAngle={})),function(t){t[t.None=0]="None",t[t.Numeric=1]="Numeric",t[t.LowerLatin=2]="LowerLatin",t[t.LowerRoman=3]="LowerRoman",t[t.UpperLatin=4]="UpperLatin",t[t.UpperRoman=5]="UpperRoman"}(t.PdfNumberStyle||(t.PdfNumberStyle={})),function(t){t[t.None=0]="None",t[t.Bottom=1]="Bottom",t[t.Top=2]="Top",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.Fill=5]="Fill"}(t.PdfDockStyle||(t.PdfDockStyle={})),function(t){t[t.None=0]="None",t[t.TopLeft=1]="TopLeft",t[t.TopCenter=2]="TopCenter",t[t.TopRight=3]="TopRight",t[t.MiddleLeft=4]="MiddleLeft",t[t.MiddleCenter=5]="MiddleCenter",t[t.MiddleRight=6]="MiddleRight",t[t.BottomLeft=7]="BottomLeft",t[t.BottomCenter=8]="BottomCenter",t[t.BottomRight=9]="BottomRight"}(t.PdfAlignmentStyle||(t.PdfAlignmentStyle={})),function(t){t[t.None=0]="None",t[t.Top=1]="Top",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left",t[t.Right=4]="Right"}(t.TemplateType||(t.TemplateType={}));var q=function(){function t(){this.pdfMargin=40,this.setMargins(this.pdfMargin)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.leftMargin},set:function(t){this.leftMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.topMargin},set:function(t){this.topMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.rightMargin},set:function(t){this.rightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.bottomMargin},set:function(t){this.bottomMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"all",{set:function(t){this.setMargins(t)},enumerable:!0,configurable:!0}),t.prototype.setMargins=function(t,e,i,r){void 0===e?this.leftMargin=this.topMargin=this.rightMargin=this.bottomMargin=t:void 0===i?(this.leftMargin=this.rightMargin=t,this.bottomMargin=this.topMargin=e):(this.leftMargin=t,this.topMargin=e,this.rightMargin=i,this.bottomMargin=r)},t.prototype.clone=function(){return this},t}(),Z=function(){function e(e){this.pageMargins=new q,this.pageSize=Y.a4,this.rotateAngle=t.PdfPageRotateAngle.RotateAngle0,this.pageOrientation=t.PdfPageOrientation.Portrait,this.pageOrigin=new j(0,0),this.isRotation=!1,"number"==typeof e&&this.pageMargins.setMargins(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return this.pageSize},set:function(t){this.setSize(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(t){this.pageOrientation!==t&&(this.pageOrientation=t,this.updateSize(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margins",{get:function(){return this.pageMargins},set:function(t){this.pageMargins=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.pageSize.width},set:function(t){this.pageSize.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.pageSize.height},set:function(t){this.pageSize.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.pageOrigin},set:function(t){this.pageOrigin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this.rotateAngle},set:function(t){this.rotateAngle=t,this.isRotation=!0},enumerable:!0,configurable:!0}),e.prototype.updateSize=function(e){var i=Math.min(this.pageSize.width,this.pageSize.height),r=Math.max(this.pageSize.width,this.pageSize.height);switch(e){case t.PdfPageOrientation.Portrait:this.pageSize=new R(i,r);break;case t.PdfPageOrientation.Landscape:this.pageSize=new R(r,i)}},e.prototype.clone=function(){var t=this;return t.pageMargins=this.pageMargins.clone(),t},e.prototype.getActualSize=function(){var t=this.width-(this.margins.left+this.margins.right),e=this.height-(this.margins.top+this.margins.bottom);return new R(t,e)},e.prototype.setSize=function(e){var i=Math.min(e.width,e.height),r=Math.max(e.width,e.height);this.orientation===t.PdfPageOrientation.Portrait?this.pageSize=new R(i,r):this.pageSize=new R(r,i)},e}(),$=function(){function t(t){if(null==t)throw new Error("ArgumentNullException:stream");this.stream=t}return t.prototype.clear=function(){this.stream.clearStream()},t.prototype.setGraphicsState=function(t){t instanceof o?(this.stream.write(t.toString()),this.stream.write(s.whiteSpace),this.writeOperator(s.setGraphicsState)):(this.stream.write(s.slash),this.stream.write(t),this.stream.write(s.whiteSpace),this.writeOperator(s.setGraphicsState))},t.prototype.executeObject=function(t){this.stream.write(t.toString()),this.stream.write(s.whiteSpace),this.writeOperator(s.paintXObject),this.stream.write(s.newLine)},t.prototype.closePath=function(){this.writeOperator(s.closePath)},t.prototype.clipPath=function(t){this.stream.write(s.clipPath),t&&this.stream.write(s.evenOdd),this.stream.write(s.whiteSpace),this.stream.write(s.endPath),this.stream.write(s.newLine)},t.prototype.closeFillStrokePath=function(t){this.stream.write(s.closeFillStrokePath),t?(this.stream.write(s.evenOdd),this.stream.write(s.newLine)):this.stream.write(s.newLine)},t.prototype.fillStrokePath=function(t){this.stream.write(s.fillStroke),t?(this.stream.write(s.evenOdd),this.stream.write(s.newLine)):this.stream.write(s.newLine)},t.prototype.fillPath=function(t){this.stream.write(s.fill),t?(this.stream.write(s.evenOdd),this.stream.write(s.newLine)):this.stream.write(s.newLine)},t.prototype.endPath=function(){this.writeOperator(s.n)},t.prototype.closeFillPath=function(t){this.writeOperator(s.closePath),this.stream.write(s.fill),t?(this.stream.write(s.evenOdd),this.stream.write(s.newLine)):this.stream.write(s.newLine)},t.prototype.closeStrokePath=function(){this.writeOperator(s.closeStrokePath)},t.prototype.setTextScaling=function(t){this.stream.write(g.floatToString(t)),this.stream.write(s.whiteSpace),this.writeOperator(s.setTextScaling)},t.prototype.strokePath=function(){this.writeOperator(s.stroke)},t.prototype.restoreGraphicsState=function(){this.writeOperator(s.restoreState)},t.prototype.saveGraphicsState=function(){this.writeOperator(s.saveState)},t.prototype.startNextLine=function(t,e){void 0===t?this.writeOperator(s.goToNextLine):t instanceof j?(this.writePoint(t),this.writeOperator(s.setCoords)):(this.writePoint(t,e),this.writeOperator(s.setCoords))},t.prototype.showText=function(t){this.checkTextParam(t),this.writeText(t),this.writeOperator(s.setText)},t.prototype.setLeading=function(t){this.stream.write(g.floatToString(t)),this.stream.write(s.whiteSpace),this.writeOperator(s.setTextLeading)},t.prototype.beginPath=function(t,e){this.writePoint(t,e),this.writeOperator(s.beginPath)},t.prototype.beginText=function(){this.writeOperator(s.beginText)},t.prototype.endText=function(){this.writeOperator(s.endText)},t.prototype.appendRectangle=function(t,e,i,r){t instanceof B?this.appendRectangle(t.x,t.y,t.width,t.height):(this.writePoint(t,e),this.writePoint(i,r),this.writeOperator(s.appendRectangle))},t.prototype.appendLineSegment=function(t,e){t instanceof j?this.appendLineSegment(t.x,t.y):(this.writePoint(t,e),this.writeOperator(s.appendLineSegment))},t.prototype.setTextRenderingMode=function(t){this.stream.write(t.toString()),this.stream.write(s.whiteSpace),this.writeOperator(s.setRenderingMode)},t.prototype.setCharacterSpacing=function(t){this.stream.write(g.floatToString(t)),this.stream.write(s.whiteSpace),this.stream.write(s.setCharacterSpace),this.stream.write(s.newLine)},t.prototype.setWordSpacing=function(t){this.stream.write(g.floatToString(t)),this.stream.write(s.whiteSpace),this.writeOperator(s.setWordSpace)},t.prototype.showNextLineText=function(t,e){t instanceof P?(this.checkTextParam(t),this.writeText(t),this.writeOperator(s.setTextOnNewLine)):(this.checkTextParam(t),this.writeText(t,e),this.writeOperator(s.setTextOnNewLine))},t.prototype.setColorSpace=function(t,e){if(t instanceof o&&"boolean"==typeof e){var i=t,r=(n=e)?s.selectcolorspaceforstroking:s.selectcolorspacefornonstroking;this.stream.write(i.toString()),this.stream.write(s.whiteSpace),this.stream.write(r),this.stream.write(s.newLine)}else{var i=t,n=e;this.setColorSpace(new o(i),n)}},t.prototype.modifyCtm=function(t){if(null==t)throw new Error("ArgumentNullException:matrix");this.stream.write(t.toString()),this.stream.write(s.whiteSpace),this.writeOperator(s.modifyCtm)},t.prototype.setFont=function(t,e,i){if("string"==typeof e)this.setFont(t,new o(e),i);else{if(null==t)throw new Error("ArgumentNullException:font");this.stream.write(e.toString()),this.stream.write(s.whiteSpace),this.stream.write(g.floatToString(i)),this.stream.write(s.whiteSpace),this.writeOperator(s.setFont)}},t.prototype.writeOperator=function(t){this.stream.write(t),this.stream.write(s.newLine)},t.prototype.checkTextParam=function(t){if(null==t)throw new Error("ArgumentNullException:text");if("string"==typeof t&&""===t)throw new Error("ArgumentException:The text can not be an empty string, text")},t.prototype.writeText=function(t,e){if(t instanceof P&&void 0===e)this.stream.write(t.pdfEncode());else{var i=void 0,r=void 0;e?(i=P.hexStringMark[0],r=P.hexStringMark[1]):(i=P.stringMark[0],r=P.stringMark[1]),this.stream.write(i),this.stream.write(t),this.stream.write(r)}},t.prototype.writePoint=function(t,e){if(t instanceof j&&void 0===e)this.writePoint(t.x,t.y);else{var i=t;this.stream.write(g.floatToString(i)),this.stream.write(s.whiteSpace),e=this.updateY(e),this.stream.write(g.floatToString(e)),this.stream.write(s.whiteSpace)}},t.prototype.updateY=function(t){return-t},t.prototype.write=function(t){var e="";e+=t,e+=s.newLine,this.writeOperator(e)},t.prototype.writeComment=function(t){if(!(null!=t&&t.length>0))throw new Error("Invalid comment");var e="";e+=s.comment,e+=s.whiteSpace,e+=t,this.writeOperator(e)},t.prototype.setColorAndSpace=function(t,e,i){t.isEmpty||(this.stream.write(t.toString(e,i)),this.stream.write(s.newLine))},t.prototype.setLineDashPattern=function(t,e){this.setLineDashPatternHelper(t,e)},t.prototype.setLineDashPatternHelper=function(t,e){var i="[";if(t.length>1)for(var r=0;r<t.length;r++)r===t.length-1?i+=t[r].toString():i+=t[r].toString()+" ";i+="] ",i+=e.toString(),i+=" "+s.setDashPattern,this.stream.write(i),this.stream.write(s.newLine)},t.prototype.setMiterLimit=function(t){this.stream.write(g.floatToString(t)),this.stream.write(s.whiteSpace),this.writeOperator(s.setMiterLimit)},t.prototype.setLineWidth=function(t){this.stream.write(g.floatToString(t)),this.stream.write(s.whiteSpace),this.writeOperator(s.setLineWidth)},t.prototype.setLineCap=function(t){this.stream.write(t.toString()),this.stream.write(s.whiteSpace),this.writeOperator(s.setLineCapStyle)},t.prototype.setLineJoin=function(t){this.stream.write(t.toString()),this.stream.write(s.whiteSpace),this.writeOperator(s.setLineJoinStyle)},Object.defineProperty(t.prototype,"position",{get:function(){return this.stream.position},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){var t=0;if(0!==this.stream.data.length&&-1!==this.stream.data.length)for(var e=0;e<this.stream.data.length;e++)t+=this.stream.data[e].length;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return null},enumerable:!0,configurable:!0}),t}(),Q=function(){function e(e,i){this.pdfColor=new T(0,0,0),this.dashOffsetValue=0,this.penDashPattern=[0],this.pdfDashStyle=t.PdfDashStyle.Solid,this.pdfLineCap=0,this.pdfLineJoin=0,this.penWidth=1,this.internalMiterLimit=0,this.colorSpace=t.PdfColorSpace.Rgb,e instanceof V?this.setBrush(e):e instanceof T&&(this.color=e),"number"==typeof i&&(this.width=i)}return Object.defineProperty(e.prototype,"color",{get:function(){return this.pdfColor},set:function(t){this.pdfColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashOffset",{get:function(){return void 0===this.dashOffsetValue||null==this.dashOffsetValue?0:this.dashOffsetValue},set:function(t){this.dashOffsetValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashPattern",{get:function(){return this.penDashPattern},set:function(t){this.penDashPattern=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashStyle",{get:function(){return this.pdfDashStyle},set:function(e){if(this.pdfDashStyle!==e)switch(this.pdfDashStyle=e,this.pdfDashStyle){case t.PdfDashStyle.Custom:break;case t.PdfDashStyle.Dash:this.penDashPattern=[3,1];break;case t.PdfDashStyle.Dot:this.penDashPattern=[1,1];break;case t.PdfDashStyle.DashDot:this.penDashPattern=[3,1,1,1];break;case t.PdfDashStyle.DashDotDot:this.penDashPattern=[3,1,1,1,1,1];break;case t.PdfDashStyle.Solid:break;default:this.pdfDashStyle=t.PdfDashStyle.Solid,this.penDashPattern=[0]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCap",{get:function(){return this.pdfLineCap},set:function(t){this.pdfLineCap=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this.pdfLineJoin},set:function(t){this.pdfLineJoin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this.internalMiterLimit},set:function(t){this.internalMiterLimit=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.penWidth},set:function(t){this.penWidth=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return this},e.prototype.setBrush=function(t){var e=t;this.color=e.color,this.pdfBrush=e},e.prototype.monitorChanges=function(t,e,i,r,n,o){r=!0,this.dashControl(t,r,e),e.setLineWidth(this.width),e.setLineJoin(this.lineJoin),e.setLineCap(this.lineCap);var s=this.miterLimit;s>0&&e.setMiterLimit(s);this.pdfBrush;return e.setColorAndSpace(this.color,n,!0),!0},e.prototype.dashControl=function(t,e,i){e=!0;var r=this.width,n=this.getPattern();return i.setLineDashPattern(n,this.dashOffset*r),e},e.prototype.getPattern=function(){for(var t=this.dashPattern,e=0;e<t.length;++e)t[e]*=this.width;return t},e}(),tt=function(){function t(t){this.radDegFactor=180/Math.PI,this.transformationMatrix=void 0===t?new et(1,0,0,1,0,0):new et(1,0,0,-1,0,0)}return Object.defineProperty(t.prototype,"matrix",{get:function(){return this.transformationMatrix},set:function(t){this.transformationMatrix=t},enumerable:!0,configurable:!0}),t.prototype.translate=function(t,e){this.transformationMatrix.translate(t,e)},t.prototype.scale=function(t,e){this.transformationMatrix.elements[0]=t,this.transformationMatrix.elements[3]=e},t.prototype.rotate=function(t){t=t*Math.PI/180,this.transformationMatrix.elements[0]=Math.cos(t),this.transformationMatrix.elements[1]=Math.sin(t),this.transformationMatrix.elements[2]=-Math.sin(t),this.transformationMatrix.elements[3]=Math.cos(t)},t.prototype.toString=function(){for(var t="",e=0,i=this.transformationMatrix.elements.length;e<i;e++){this.matrix.elements[e];t+=g.floatToString(this.transformationMatrix.elements[e]),t+=" "}return t},t.prototype.multiply=function(t){this.transformationMatrix.multiply(t.matrix)},t.degreesToRadians=function(t){return this.degRadFactor*t},t.prototype.radiansToDegrees=function(t){return this.radDegFactor*t},t.prototype.clone=function(){return this},t.degRadFactor=Math.PI/180,t}(),et=function(){function t(t,e,i,r,n,o){void 0===t?this.metrixElements=[]:"number"==typeof t?(this.metrixElements=[],this.metrixElements.push(t),this.metrixElements.push(e),this.metrixElements.push(i),this.metrixElements.push(r),this.metrixElements.push(n),this.metrixElements.push(o)):this.metrixElements=t}return Object.defineProperty(t.prototype,"elements",{get:function(){return this.metrixElements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){return this.metrixElements[4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.metrixElements[5]},enumerable:!0,configurable:!0}),t.prototype.translate=function(t,e){this.metrixElements[4]=t,this.metrixElements[5]=e},t.prototype.transform=function(t){var e=t.x,i=t.y,r=e*this.elements[0]+i*this.elements[2]+this.offsetX,n=e*this.elements[1]+i*this.elements[3]+this.offsetY;return new j(r,n)},t.prototype.multiply=function(t){var e=[];e.push(this.elements[0]*t.elements[0]+this.elements[1]*t.elements[2]),e[1]=this.elements[0]*t.elements[1]+this.elements[1]*t.elements[3],e[2]=this.elements[2]*t.elements[0]+this.elements[3]*t.elements[2],e[3]=this.elements[2]*t.elements[1]+this.elements[3]*t.elements[3],e[4]=this.offsetX*t.elements[0]+this.offsetY*t.elements[2]+t.offsetX,e[5]=this.offsetX*t.elements[1]+this.offsetY*t.elements[3]+t.offsetY;for(var i=0;i<e.length;i++)this.elements[i]=e[i]},t.prototype.dispose=function(){this.metrixElements=null},t.prototype.clone=function(){return new t(this.metrixElements)},t}(),it=function(){function t(){this.pdf="PDF",this.text="Text",this.imageB="ImageB",this.imageC="ImageC",this.imageI="ImageI"}return t}(),rt=function(){function t(){this.mKeys=[],this.mValues=[]}return t.prototype.size=function(){return this.mKeys.length},t.prototype.add=function(t,e){if(void 0===t||null===t||void 0===e||null===e)throw new ReferenceError("Provided key or value is not valid.");if(this.mKeys.indexOf(t)<0)return this.mKeys.push(t),this.mValues.push(e),1;throw new RangeError("An item with the same key has already been added.")},t.prototype.keys=function(){return this.mKeys},t.prototype.values=function(){return this.mValues},t.prototype.getValue=function(t){if(void 0===t||null===t)throw new ReferenceError("Provided key is not valid.");var e=this.mKeys.indexOf(t);if(e<0)throw new RangeError("No item with the specified key has been added.");return this.mValues[e]},t.prototype.setValue=function(t,e){if(void 0===t||null===t)throw new ReferenceError("Provided key is not valid.");var i=this.mKeys.indexOf(t);i<0?(this.mKeys.push(t),this.mValues.push(e)):this.mValues[i]=e},t.prototype.remove=function(t){if(void 0===t||null===t)throw new ReferenceError("Provided key is not valid.");var e=this.mKeys.indexOf(t);if(e<0)throw new RangeError("No item with the specified key has been added.");return this.mKeys.splice(e,1),this.mValues.splice(e,1),!0},t.prototype.containsKey=function(t){if(void 0===t||null===t)throw new ReferenceError("Provided key is not valid.");return!(this.mKeys.indexOf(t)<0)},t.prototype.clear=function(){this.mKeys=[],this.mValues=[]},t}(),nt=function(){function t(t,e,i){this.dictionary=new h,this.dictionaryProperties=new a,this.dictionary.items.setValue(this.dictionaryProperties.CA,new g(t)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new g(e)),this.dictionary.items.setValue(this.dictionaryProperties.BM,new o(i.toString()))}return Object.defineProperty(t.prototype,"element",{get:function(){return this.dictionary},enumerable:!0,configurable:!0}),t}(),ot=function(){function t(){this.automaticFieldsInformation=[]}return Object.defineProperty(t.prototype,"automaticFields",{get:function(){return this.automaticFieldsInformation},enumerable:!0,configurable:!0}),t.prototype.add=function(t){return this.automaticFields.push(t)},t}(),st=function(){function t(){}return t.prototype.drawHelper=function(t,e,i){var r=0!==e||0!==i,n=null;r&&(n=t.save(),t.translateTransform(e,i)),this.drawInternal(t),r&&t.restore(n)},t}(),at=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ht=function(t){function e(){var e=t.call(this)||this;return e.internalBounds=new B(0,0,0,0),e.internalTemplateSize=new R(0,0),e}return at(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.internalBounds},set:function(t){this.internalBounds=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return new R(this.bounds.width,this.bounds.height)},set:function(t){this.bounds.width=t.width,this.bounds.height=t.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return new j(this.bounds.x,this.bounds.y)},set:function(t){this.bounds.x=t.x,this.bounds.y=t.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.internalFont},set:function(t){this.internalFont=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brush",{get:function(){return this.internalBrush},set:function(t){this.internalBrush=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pen",{get:function(){return this.internalPen},set:function(t){this.internalPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return this.internalStringFormat},set:function(t){this.internalStringFormat=t},enumerable:!0,configurable:!0}),e.prototype.performDrawHelper=function(t,e,i,r){if(0===this.bounds.height||0===this.bounds.width){var n=this.getValue(t);this.internalTemplateSize=this.getFont().measureString(n,this.size,this.stringFormat)}},e.prototype.draw=function(t,e,i){if(void 0===e){var r=new j(0,0);this.draw(t,r)}else if(e instanceof j)this.draw(t,e.x,e.y);else{this.drawHelper(t,e,i);var n=new lt(this,new j(e,i));t.automaticFields.add(n)}},e.prototype.getSize=function(){return 0===this.bounds.height||0===this.bounds.width?this.internalTemplateSize:this.size},e.prototype.drawInternal=function(t){},e.prototype.getBrush=function(){return void 0===this.internalBrush||null==this.internalBrush?new F(new T(0,0,0)):this.internalBrush},e.prototype.getFont=function(){return void 0===this.internalFont||null==this.internalFont?we.defaultFont:this.internalFont},e.prototype.getPageFromGraphics=function(t){if(void 0!==t.page&&null!==t.page)return e=t.page;var e=t.currentPage;return e},e}(st),lt=function(){function t(e,i,r,n){this.pageNumberFieldLocation=new j,this.pageNumberField=null,this.scaleX=1,this.scaleY=1,void 0===i&&e instanceof t?(this.pageNumberField=e.field,this.pageNumberFieldLocation=e.location,this.scaleX=e.scalingX,this.scaleY=e.scalingY):void 0===r&&i instanceof j&&e instanceof ht?(this.pageNumberField=e,this.pageNumberFieldLocation=i):(this.pageNumberField=e,this.pageNumberFieldLocation=i,this.scaleX=r,this.scaleY=n)}return Object.defineProperty(t.prototype,"location",{get:function(){return this.pageNumberFieldLocation},set:function(t){this.pageNumberFieldLocation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"field",{get:function(){return this.pageNumberField},set:function(t){this.pageNumberField=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingX",{get:function(){return this.scaleX},set:function(t){this.scaleX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalingY",{get:function(){return this.scaleY},set:function(t){this.scaleY=t},enumerable:!0,configurable:!0}),t}(),ut=function(){function t(t){this.mPosition=0,this.buffer=new Uint8Array(t),this.dataView=new DataView(this.buffer.buffer)}return Object.defineProperty(t.prototype,"position",{get:function(){return this.mPosition},set:function(t){this.mPosition=t},enumerable:!0,configurable:!0}),t.prototype.read=function(t,e,i){for(var r=e;r<i;r++){var n=this.position;t.buffer[r]=this.readByte(n),this.position++}},t.prototype.getBuffer=function(t){return this.buffer[t]},t.prototype.writeFromBase64String=function(t){var e=this.encodedString(t);this.buffer=e},t.prototype.encodedString=function(t){var e,i,r,n,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,h=0,l=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;t.charAt(t.length-1)===s.charAt(64)&&l--;for(var u=new Uint8Array(0|l);a<t.length;)e=s.indexOf(t.charAt(a++))<<2|(n=s.indexOf(t.charAt(a++)))>>4,i=(15&n)<<4|(o=s.indexOf(t.charAt(a++)))>>2,r=(3&o)<<6|s.indexOf(t.charAt(a++)),u[h++]=e,u[h++]=i,u[h++]=r;return u},t.prototype.readByte=function(t){return this.buffer[t]},Object.defineProperty(t.prototype,"internalBuffer",{get:function(){return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0}),t}(),ct=function(){function t(t){this.currentPosition=-1,this.value=t}return Object.defineProperty(t.prototype,"status",{get:function(){return this.objectStatus},set:function(t){this.objectStatus=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSaving",{get:function(){return this.saving},set:function(t){this.saving=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectCollectionIndex",{get:function(){return this.index},set:function(t){this.index=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.currentPosition},set:function(t){this.currentPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.save=function(t){t.write(this.boolToStr(this.value))},t.prototype.clone=function(e){return new t(this.value)},t.prototype.boolToStr=function(t){return t?"true":"false"},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Bmp=1]="Bmp",t[t.Emf=2]="Emf",t[t.Gif=3]="Gif",t[t.Jpeg=4]="Jpeg",t[t.Png=5]="Png",t[t.Wmf=6]="Wmf",t[t.Icon=7]="Icon"}(t.ImageFormat||(t.ImageFormat={}));var pt=function(){function e(e){this.mFormat=t.ImageFormat.Unknown,this.mbitsPerComponent=8,this.dictionaryProperties=new a,this.mStream=e,this.initialize()}return Object.defineProperty(e.prototype,"height",{get:function(){return this.mHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bitsPerComponent",{get:function(){return this.mbitsPerComponent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.mImageData.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageData",{get:function(){return this.mImageData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDataAsNumberArray",{get:function(){return this.mImageData.internalBuffer.buffer},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.mFormat===t.ImageFormat.Unknown&&this.checkIfJpeg()&&(this.mFormat=t.ImageFormat.Jpeg,this.parseJpegImage()),this.reset(),this.mImageData=new ut(this.mStream.count),this.mStream.read(this.mImageData,0,this.mImageData.count)},e.prototype.reset=function(){this.mStream.position=0},e.prototype.parseJpegImage=function(){this.reset();var t=new ut(this.mStream.count);this.mStream.read(t,0,t.count);var e=4;if("J"===String.fromCharCode(t.getBuffer(e+2))&&"F"===String.fromCharCode(t.getBuffer(e+3))&&"I"===String.fromCharCode(t.getBuffer(e+4))&&"F"===String.fromCharCode(t.getBuffer(e+5))&&0===t.getBuffer(e+6))for(var i=256*t.getBuffer(e)+t.getBuffer(e+1);e+i<t.count;){if(e+=i,192===t.getBuffer(e+1))return this.mHeight=256*t.getBuffer(e+5)+t.getBuffer(e+6),void(this.mWidth=256*t.getBuffer(e+7)+t.getBuffer(e+8));e+=2,i=256*t.getBuffer(e)+t.getBuffer(e+1)}},Object.defineProperty(e.prototype,"format",{get:function(){return this.mFormat},enumerable:!0,configurable:!0}),e.prototype.checkIfJpeg=function(){this.reset();for(var t=0;t<e.mJpegHeader.length;t++){if(e.mJpegHeader[t]!==this.mStream.readByte(t))return!1;this.mStream.position++}return!0},e.prototype.getImageDictionary=function(){if(this.mFormat===t.ImageFormat.Jpeg){this.imageData.internalBuffer.length;this.imageStream=new b,this.imageStream.isImage=!0;for(var e="",i="",r=0;r<this.imageDataAsNumberArray.byteLength;r++)e+=String.fromCharCode(null,this.mStream.readByte(r));for(r=0;r<e.length;r++)r%2!=0&&(i+=e[r]);return this.imageStream.data=[i],this.imageStream.compress=!1,this.imageStream.items.setValue(this.dictionaryProperties.type,new o(this.dictionaryProperties.xObject)),this.imageStream.items.setValue(this.dictionaryProperties.subtype,new o(this.dictionaryProperties.image)),this.imageStream.items.setValue(this.dictionaryProperties.width,new g(this.width)),this.imageStream.items.setValue(this.dictionaryProperties.height,new g(this.height)),this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent,new g(this.bitsPerComponent)),this.imageStream.items.setValue(this.dictionaryProperties.filter,new o(this.dictionaryProperties.dctdecode)),this.imageStream.items.setValue(this.dictionaryProperties.colorSpace,new o(this.getColorSpace())),this.imageStream.items.setValue(this.dictionaryProperties.decodeParms,this.getDecodeParams()),this.imageStream}return this.imageStream},e.prototype.getColorSpace=function(){return this.dictionaryProperties.deviceRgb},e.prototype.getDecodeParams=function(){var t=new h;return t.items.setValue(this.dictionaryProperties.columns,new g(this.width)),t.items.setValue(this.dictionaryProperties.blackIs1,new ct(!0)),t.items.setValue(this.dictionaryProperties.k,new g(-1)),t.items.setValue(this.dictionaryProperties.predictor,new g(15)),t.items.setValue(this.dictionaryProperties.bitsPerComponent,new g(this.bitsPerComponent)),t},e.mPngHeader=[137,80,78,71,13,10,26,10],e.mJpegHeader=[255,216],e.GIF_HEADER="G,I,F,8",e.BMP_HEADER="B,M",e}(),dt=function(){function t(t){this.updateProportionsHelper(t)}return t.prototype.convertUnits=function(t,e,i){return this.convertFromPixels(this.convertToPixels(t,e),i)},t.prototype.convertToPixels=function(t,e){var i=e;return t*this.proportions[i]},t.prototype.convertFromPixels=function(t,e){var i=e;return t/this.proportions[i]},t.prototype.updateProportionsHelper=function(t){this.proportions=[t/2.54,t/6,1,t/72,t,t/300,t/25.4]},t.horizontalResolution=96,t.verticalResolution=96,t}(),ft=function(){function e(){}return Object.defineProperty(e.prototype,"width",{get:function(){return this.imageWidth},set:function(t){this.imageWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.imageHeight},set:function(t){this.imageHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{set:function(t){this.width=t.width,this.height=t.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"physicalDimension",{get:function(){return this.imagePhysicalDimension=this.getPointSize(this.width,this.height,this.horizontalResolution,this.verticalResolution),new R(this.width,this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.imageStream},enumerable:!0,configurable:!0}),e.prototype.getPointSize=function(e,i,r,n){if(void 0===r){var o=dt.horizontalResolution,s=dt.verticalResolution;return c=this.getPointSize(e,i,o,s)}var a=new dt(r),h=new dt(n),l=a.convertUnits(e,t.PdfGraphicsUnit.Pixel,t.PdfGraphicsUnit.Point),u=h.convertUnits(i,t.PdfGraphicsUnit.Pixel,t.PdfGraphicsUnit.Point),c=new R(l,u);return c},e}(),gt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),mt=function(t){function e(e){var i=t.call(this)||this;return i.imageStatus=!0,i.dictionaryProperties=new a,i.loadImage(e),i}return gt(e,t),e.prototype.loadImage=function(t){this.initializeAsync(t)},e.prototype.initializeAsync=function(t){var e=new ut(t.length);e.writeFromBase64String(t),this.decoder=new pt(e),this.height=this.decoder.height,this.width=this.decoder.width,this.bitsPerComponent=this.decoder.bitsPerComponent},e.prototype.save=function(){this.imageStatus=!0,this.imageStream=this.decoder.getImageDictionary()},e}(ft),yt=function(){function t(){}return Object.defineProperty(t.prototype,"empty",{get:function(){return this.offset===this.length&&this.length===this.checksum&&0===this.checksum},enumerable:!0,configurable:!0}),t}(),bt=function(){function t(){}return t}(),wt=function(){function t(){}return t}(),St=function(){function t(){}return t}(),Pt=function(){function t(){}return Object.defineProperty(t.prototype,"isItalic",{get:function(){return 0!=(2&this.macStyle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBold",{get:function(){return 0!=(1&this.macStyle)},enumerable:!0,configurable:!0}),t}(),vt=function(){function t(){}return t}(),Ct=function(){function t(){}return t}(),xt=function(){function t(){}return t}(),Ot=function(){function t(){}return t}(),Lt=function(){function t(){}return t}(),Tt=function(){function t(){}return t}(),jt=function(){function t(){}return Object.defineProperty(t.prototype,"empty",{get:function(){return this.index===this.width&&this.width===this.charCode&&0===this.charCode},enumerable:!0,configurable:!0}),t.prototype.compareTo=function(t){var e=t;return this.index-e.index},t}(),Rt=function(){function t(){}return t}(),Bt=function(){function t(){}return t}(),Nt=function(){function t(){}return t}(),Vt=function(){function t(){}return t}(),It=function(){function t(){}return t}(),Ft=function(){function t(t){this.int32Size=4,this.int16Size=2,this.int64Size=8,this.bufferLength=t,this.buffer=[]}return Object.defineProperty(t.prototype,"data",{get:function(){if(this.buffer.length<this.bufferLength)for(var t=this.bufferLength-this.buffer.length,e=0;e<t;e++)this.buffer.push(0);return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return void 0!==this.internalPosition&&null!==this.internalPosition||(this.internalPosition=0),this.internalPosition},enumerable:!0,configurable:!0}),t.prototype.writeShort=function(t){var e=[(65280&t)>>8,255&t];this.flush(e)},t.prototype.writeInt=function(t){var e=[(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t];this.flush(e)},t.prototype.writeUInt=function(t){var e=[(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t];this.flush(e)},t.prototype.writeString=function(t){if(null==t)throw new Error("Argument Null Exception : value");for(var e=[],i=0;i<t.length;i++)e.push(t.charCodeAt(i));this.flush(e)},t.prototype.writeBytes=function(t){this.flush(t)},t.prototype.flush=function(t){if(null===t)throw new Error("Argument Null Exception : buff");for(var e=this.position,i=0;i<t.length;i++)this.buffer[e]=t[i],e++;this.internalPosition+=t.length},t}(),Et=function(){function e(t){this.int32Size=4,this.isTtcFont=!1,this.isMacTtf=!1,this.metricsName="",this.isMacTTF=!1,this.missedGlyphs=0,this.tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this.entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this.fontData=t,this.initialize()}return Object.defineProperty(e.prototype,"macintosh",{get:function(){return null!==this.macintoshDictionary&&void 0!==this.macintoshDictionary||(this.macintoshDictionary=new n),this.macintoshDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"microsoft",{get:function(){return null!==this.microsoftDictionary&&void 0!==this.microsoftDictionary||(this.microsoftDictionary=new n),this.microsoftDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"macintoshGlyphs",{get:function(){return null!==this.internalMacintoshGlyphs&&void 0!==this.internalMacintoshGlyphs||(this.internalMacintoshGlyphs=new n),this.internalMacintoshGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"microsoftGlyphs",{get:function(){return null!==this.internalMicrosoftGlyphs&&void 0!==this.internalMicrosoftGlyphs||(this.internalMicrosoftGlyphs=new n),this.internalMicrosoftGlyphs},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){void 0===this.metrics&&(this.metrics=new Pt),this.readFontDictionary();var t=this.readNameTable(),e=this.readHeadTable();this.initializeFontName(t),this.metrics.macStyle=e.macStyle},e.prototype.readFontDictionary=function(){this.offset=0;this.checkPreambula();var t=this.readInt16(this.offset);this.readInt16(this.offset),this.readInt16(this.offset),this.readInt16(this.offset);void 0===this.tableDirectory&&(this.tableDirectory=new n);for(var e=0;e<t;++e){var i=new yt,r=this.readString(this.int32Size);i.checksum=this.readInt32(this.offset),i.offset=this.readInt32(this.offset),i.length=this.readInt32(this.offset),this.tableDirectory.setValue(r,i)}this.lowestPosition=this.offset,this.isTtcFont||this.fixOffsets()},e.prototype.fixOffsets=function(){for(var t=Number.MAX_VALUE,e=this.tableDirectory.keys(),i=0;i<e.length;i++){var r=(a=this.tableDirectory.getValue(e[i])).offset;if(t>r&&(t=r)<=this.lowestPosition)break}var o=t-this.lowestPosition;if(0!==o){for(var s=new n,i=0;i<e.length;i++){var a=this.tableDirectory.getValue(e[i]);a.offset-=o,s.setValue(e[i],a)}this.tableDirectory=s}},e.prototype.checkPreambula=function(){var t=this.readInt32(this.offset);if(this.isMacTtf=1953658213===t,65536!==t&&1953658213!==t&&1330926671!==t){if(this.isTtcFont=!0,this.offset=0,"ttcf"!==this.readString(4))throw new Error("Can not read TTF font data");if(this.offset+=4,this.readInt32(this.offset)<0)throw new Error("Can not read TTF font data");this.offset=this.readInt32(this.offset),t=this.readInt32(this.offset)}return t},e.prototype.readNameTable=function(){var t=this.getTable("name");this.offset=t.offset;var e=new bt;e.formatSelector=this.readUInt16(this.offset),e.recordsCount=this.readUInt16(this.offset),e.offset=this.readUInt16(this.offset),e.nameRecords=[];for(var i=this.offset,r=0;r<e.recordsCount;r++){this.offset=i;var n=new wt;n.platformID=this.readUInt16(this.offset),n.encodingID=this.readUInt16(this.offset),n.languageID=this.readUInt16(this.offset),n.nameID=this.readUInt16(this.offset),n.length=this.readUInt16(this.offset),n.offset=this.readUInt16(this.offset),this.offset=t.offset+e.offset+n.offset;var o=0===n.platformID||3===n.platformID;n.name=this.readString(n.length,o),e.nameRecords[r]=n,i+=12}return e},e.prototype.readHeadTable=function(){var t=this.getTable("head");this.offset=t.offset;var e=new St;return e.version=this.readFixed(this.offset),e.fontRevision=this.readFixed(this.offset),e.checkSumAdjustment=this.readUInt32(this.offset),e.magicNumber=this.readUInt32(this.offset),e.flags=this.readUInt16(this.offset),e.unitsPerEm=this.readUInt16(this.offset),e.created=this.readInt64(this.offset),e.modified=this.readInt64(this.offset),e.xMin=this.readInt16(this.offset),e.yMin=this.readInt16(this.offset),e.xMax=this.readInt16(this.offset),e.yMax=this.readInt16(this.offset),e.macStyle=this.readUInt16(this.offset),e.lowestReadableSize=this.readUInt16(this.offset),e.fontDirectionHint=this.readInt16(this.offset),e.indexToLocalFormat=this.readInt16(this.offset),e.glyphDataFormat=this.readInt16(this.offset),e},e.prototype.readHorizontalHeaderTable=function(){var t=this.getTable("hhea");this.offset=t.offset;var e=new vt;return e.version=this.readFixed(this.offset),e.ascender=this.readInt16(this.offset),e.descender=this.readInt16(this.offset),e.lineGap=this.readInt16(this.offset),e.advanceWidthMax=this.readUInt16(this.offset),e.minLeftSideBearing=this.readInt16(this.offset),e.minRightSideBearing=this.readInt16(this.offset),e.xMaxExtent=this.readInt16(this.offset),e.caretSlopeRise=this.readInt16(this.offset),e.caretSlopeRun=this.readInt16(this.offset),this.offset+=10,e.metricDataFormat=this.readInt16(this.offset),e.numberOfHMetrics=this.readUInt16(this.offset),e},e.prototype.readOS2Table=function(){var t=this.getTable("OS/2");this.offset=t.offset;var e=new Ct;return e.version=this.readUInt16(this.offset),e.xAvgCharWidth=this.readInt16(this.offset),e.usWeightClass=this.readUInt16(this.offset),e.usWidthClass=this.readUInt16(this.offset),e.fsType=this.readInt16(this.offset),e.ySubscriptXSize=this.readInt16(this.offset),e.ySubscriptYSize=this.readInt16(this.offset),e.ySubscriptXOffset=this.readInt16(this.offset),e.ySubscriptYOffset=this.readInt16(this.offset),e.ySuperscriptXSize=this.readInt16(this.offset),e.ySuperscriptYSize=this.readInt16(this.offset),e.ySuperscriptXOffset=this.readInt16(this.offset),e.ySuperscriptYOffset=this.readInt16(this.offset),e.yStrikeoutSize=this.readInt16(this.offset),e.yStrikeoutPosition=this.readInt16(this.offset),e.sFamilyClass=this.readInt16(this.offset),e.panose=this.readBytes(10),e.ulUnicodeRange1=this.readUInt32(this.offset),e.ulUnicodeRange2=this.readUInt32(this.offset),e.ulUnicodeRange3=this.readUInt32(this.offset),e.ulUnicodeRange4=this.readUInt32(this.offset),e.vendorIdentifier=this.readBytes(4),e.fsSelection=this.readUInt16(this.offset),e.usFirstCharIndex=this.readUInt16(this.offset),e.usLastCharIndex=this.readUInt16(this.offset),e.sTypoAscender=this.readInt16(this.offset),e.sTypoDescender=this.readInt16(this.offset),e.sTypoLineGap=this.readInt16(this.offset),e.usWinAscent=this.readUInt16(this.offset),e.usWinDescent=this.readUInt16(this.offset),e.ulCodePageRange1=this.readUInt32(this.offset),e.ulCodePageRange2=this.readUInt32(this.offset),e.version>1?(e.sxHeight=this.readInt16(this.offset),e.sCapHeight=this.readInt16(this.offset),e.usDefaultChar=this.readUInt16(this.offset),e.usBreakChar=this.readUInt16(this.offset),e.usMaxContext=this.readUInt16(this.offset)):(e.sxHeight=0,e.sCapHeight=0,e.usDefaultChar=0,e.usBreakChar=0,e.usMaxContext=0),e},e.prototype.readPostTable=function(){var t=this.getTable("post");this.offset=t.offset;var e=new xt;return e.formatType=this.readFixed(this.offset),e.italicAngle=this.readFixed(this.offset),e.underlinePosition=this.readInt16(this.offset),e.underlineThickness=this.readInt16(this.offset),e.isFixedPitch=this.readUInt32(this.offset),e.minType42=this.readUInt32(this.offset),e.maxType42=this.readUInt32(this.offset),e.minType1=this.readUInt32(this.offset),e.maxType1=this.readUInt32(this.offset),e},e.prototype.readWidthTable=function(t,e){var i=this.getTable("hmtx");this.offset=i.offset;for(var r=[],n=0;n<t;n++){var o=new Ot;o.advanceWidth=this.readUInt16(this.offset),o.lsb=this.readInt16(this.offset);var s=1e3*o.advanceWidth/e;r.push(Math.floor(s))}return r},e.prototype.readCmapTable=function(){var t=this.getTable("cmap");this.offset=t.offset;var e=new Tt;e.version=this.readUInt16(this.offset),e.tablesCount=this.readUInt16(this.offset);for(var i=this.offset,r=[],n=0;n<e.tablesCount;n++){this.offset=i;var o=new Lt;o.platformID=this.readUInt16(this.offset),o.encodingID=this.readUInt16(this.offset),o.offset=this.readUInt32(this.offset),i=this.offset,this.readCmapSubTable(o),r[n]=o}return r},e.prototype.readCmapSubTable=function(e){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var r=this.readUInt16(this.offset),n=this.getCmapEncoding(e.platformID,e.encodingID);n===t.TtfCmapEncoding.Macintosh?t.TtfPlatformID.Macintosh:t.TtfPlatformID.Microsoft;if(n!==t.TtfCmapEncoding.Unknown)switch(r){case t.TtfCmapFormat.Apple:this.readAppleCmapTable(e,n);break;case t.TtfCmapFormat.Microsoft:this.readMicrosoftCmapTable(e,n);break;case t.TtfCmapFormat.Trimmed:this.readTrimmedCmapTable(e,n)}},e.prototype.readAppleCmapTable=function(t,e){var i=this.getTable("cmap");this.offset=i.offset+t.offset;var r=new Bt;r.format=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.version=this.readUInt16(this.offset),null!==this.maxMacIndex&&void 0!==this.maxMacIndex||(this.maxMacIndex=0);for(var n=0;n<256;++n){var o=new jt;o.index=this.readByte(this.offset),o.width=this.getWidth(o.index),o.charCode=n,this.macintosh.setValue(n,o),this.addGlyph(o,e),this.maxMacIndex=Math.max(n,this.maxMacIndex)}},e.prototype.readMicrosoftCmapTable=function(e,i){var r=this.getTable("cmap");this.offset=r.offset+e.offset;var n=i===t.TtfCmapEncoding.Unicode?this.microsoft:this.macintosh,o=new Nt;o.format=this.readUInt16(this.offset),o.length=this.readUInt16(this.offset),o.version=this.readUInt16(this.offset),o.segCountX2=this.readUInt16(this.offset),o.searchRange=this.readUInt16(this.offset),o.entrySelector=this.readUInt16(this.offset),o.rangeShift=this.readUInt16(this.offset);var s=o.segCountX2/2;o.endCount=this.readUshortArray(s),o.reservedPad=this.readUInt16(this.offset),o.startCount=this.readUshortArray(s),o.idDelta=this.readUshortArray(s),o.idRangeOffset=this.readUshortArray(s);var a=o.length/2-8-4*s;o.glyphID=this.readUshortArray(a);for(var h=0,l=0,u=0;u<s;u++)for(var c=o.startCount[u];c<=o.endCount[u]&&65535!==c;c++){if(0===o.idRangeOffset[u])h=c+o.idDelta[u]&65535;else{if((l=u+o.idRangeOffset[u]/2-s+c-o.startCount[u])>=o.glyphID.length)continue;h=o.glyphID[l]+o.idDelta[u]&65535}var p=new jt;p.index=h,p.width=this.getWidth(p.index);var d=i===t.TtfCmapEncoding.Symbol&&61440==(65280&c)?255&c:c;p.charCode=d,n.setValue(d,p),this.addGlyph(p,i)}},e.prototype.readTrimmedCmapTable=function(t,e){var i=this.getTable("cmap");this.offset=i.offset+t.offset;var r=new Vt;r.format=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.version=this.readUInt16(this.offset),r.firstCode=this.readUInt16(this.offset),r.entryCount=this.readUInt16(this.offset);for(var n=0;n<r.entryCount;++n){var o=new jt;o.index=this.readUInt16(this.offset),o.width=this.getWidth(o.index),o.charCode=n+r.firstCode,this.macintosh.setValue(n,o),this.addGlyph(o,e),this.maxMacIndex=Math.max(n,this.maxMacIndex)}},e.prototype.initializeFontName=function(t){for(var e=0;e<t.recordsCount;e++){var i=t.nameRecords[e];if(1===i.nameID?this.metrics.fontFamily=i.name:6===i.nameID&&(this.metrics.postScriptName=i.name),null!==this.metrics.fontFamily&&void 0!==this.metrics.fontFamily&&null!==this.metrics.postScriptName&&void 0!==this.metrics.postScriptName)break}},e.prototype.getTable=function(t){var e,i=new yt;return this.tableDirectory.containsKey(t)&&(e=this.tableDirectory.getValue(t)),null!==e&&void 0!==e&&(i=e),i},e.prototype.getWidth=function(t){return t=t<this.width.length?t:this.width.length-1,this.width[t]},e.prototype.getCmapEncoding=function(e,i){var r=t.TtfCmapEncoding.Unknown;return e==t.TtfPlatformID.Microsoft&&i==t.TtfMicrosoftEncodingID.Undefined?r=t.TtfCmapEncoding.Symbol:e==t.TtfPlatformID.Microsoft&&i==t.TtfMicrosoftEncodingID.Unicode?r=t.TtfCmapEncoding.Unicode:e==t.TtfPlatformID.Macintosh&&i==t.TtfMacintoshEncodingID.Roman&&(r=t.TtfCmapEncoding.Macintosh),r},e.prototype.addGlyph=function(e,i){var r=null;switch(i){case t.TtfCmapEncoding.Unicode:r=this.microsoftGlyphs;break;case t.TtfCmapEncoding.Macintosh:case t.TtfCmapEncoding.Symbol:r=this.macintoshGlyphs}r.setValue(e.index,e)},e.prototype.initializeMetrics=function(e,i,r,n,o,s){this.initializeFontName(e);for(var a=!1,h=0;h<s.length;h++){var l=s[h];if(this.getCmapEncoding(l.platformID,l.encodingID)===t.TtfCmapEncoding.Symbol){a=!0;break}}this.metrics.isSymbol=a,this.metrics.macStyle=i.macStyle,this.metrics.isFixedPitch=0!==o.isFixedPitch,this.metrics.italicAngle=o.italicAngle;var u=1e3/i.unitsPerEm;this.metrics.winAscent=n.sTypoAscender*u,this.metrics.macAscent=r.ascender*u,this.metrics.capHeight=0!==n.sCapHeight?n.sCapHeight:.7*i.unitsPerEm*u,this.metrics.winDescent=n.sTypoDescender*u,this.metrics.macDescent=r.descender*u,this.metrics.leading=(n.sTypoAscender-n.sTypoDescender+n.sTypoLineGap)*u,this.metrics.lineGap=Math.ceil(r.lineGap*u);var c=i.xMin*u,p=Math.ceil(this.metrics.macAscent+this.metrics.lineGap),d=i.xMax*u,f=this.metrics.macDescent;this.metrics.fontBox=new N(c,p,d,f),this.metrics.stemV=80,this.metrics.widthTable=this.updateWidth(),this.metrics.contains=this.tableDirectory.containsKey("CFF"),this.metrics.subScriptSizeFactor=i.unitsPerEm/n.ySubscriptYSize,this.metrics.superscriptSizeFactor=i.unitsPerEm/n.ySuperscriptYSize},e.prototype.updateWidth=function(){var t=[];if(this.metrics.isSymbol)for(n=0;n<256;n++){var e=this.getGlyph(String.fromCharCode(n));t[n]=e.empty?0:e.width}else for(var i=[],r=String.fromCharCode(32),n=0;n<256;n++){i[0]=n;var o=this.getString(i,0,i.length),s=o.length>0?o[0]:"?";(e=this.getGlyph(s)).empty?(e=this.getGlyph(r),t[n]=e.empty?0:e.width):t[n]=e.width}return t},e.prototype.getDefaultGlyph=function(){return this.getGlyph(A.whiteSpace)},e.prototype.getString=function(t,e,i){for(var r="",n=0;n<i;n++)r+=String.fromCharCode(t[n+e]);return r},e.prototype.readLocaTable=function(t){var e=this.getTable("loca");this.offset=e.offset;var i=new Rt,r=null;if(t){n=e.length/2;r=[];for(o=0;o<n;o++)r[o]=2*this.readUInt16(this.offset)}else{var n=e.length/4;r=[];for(var o=0;o<n;o++)r[o]=this.readUInt32(this.offset)}return i.offsets=r,i},e.prototype.updateGlyphChars=function(t,e){t.containsKey(0)||t.setValue(0,0);for(var i=new n,r=t.keys(),o=0;o<r.length;o++)i.setValue(r[o],t.getValue(r[o]));for(o=0;o<r.length;o++){var s=r[o];this.processCompositeGlyph(t,s,e)}},e.prototype.processCompositeGlyph=function(e,i,r){if(i<r.offsets.length-1){var n=r.offsets[i];if(n!==r.offsets[i+1]){var o=this.getTable("glyf");this.offset=o.offset+n;var s=new It;if(s.numberOfContours=this.readInt16(this.offset),s.xMin=this.readInt16(this.offset),s.yMin=this.readInt16(this.offset),s.xMax=this.readInt16(this.offset),s.yMax=this.readInt16(this.offset),s.numberOfContours<0)for(var a=0;;){var h=this.readUInt16(this.offset),l=this.readUInt16(this.offset);if(e.containsKey(l)||e.setValue(l,0),0==(h&t.TtfCompositeGlyphFlags.MoreComponents))break;a=0!=(h&t.TtfCompositeGlyphFlags.Arg1And2AreWords)?4:2,0!=(h&t.TtfCompositeGlyphFlags.WeHaveScale)?a+=2:0!=(h&t.TtfCompositeGlyphFlags.WeHaveAnXyScale)?a+=4:0!=(h&t.TtfCompositeGlyphFlags.WeHaveTwoByTwo)&&(a+=8),this.offset+=a}}}},e.prototype.generateGlyphTable=function(t,e,i,r){i=[];var n=t.keys();n.sort(function(t,e){return t-e});for(var o=0,s=0;s<n.length;s++){var a=n[s];e.offsets.length>0&&(o+=e.offsets[a+1]-e.offsets[a])}var h=this.align(o);r=[];for(s=0;s<h;s++)r.push(0);for(var l=0,u=0,c=this.getTable("glyf"),s=0;s<e.offsets.length;s++)if(i.push(l),u<n.length&&n[u]===s){++u,i[s]=l;var p=e.offsets[s],d=e.offsets[s+1]-p;d>0&&(this.offset=c.offset+p,r=this.read(r,l,d).buffer,l+=d)}return{glyphTableSize:o,newLocaTable:i,newGlyphTable:r}},e.prototype.updateLocaTable=function(t,e,i){if(null===t)throw new Error("Argument Null Exception : newLocaTable");for(var r=e?2*t.length:4*t.length,n=this.align(r),o=new Ft(n),s=0;s<t.length;s++){var a=t[s];e?(a/=2,o.writeShort(a)):o.writeInt(a)}return{newLocaUpdated:o.data,newLocaSize:r}},e.prototype.align=function(t){return t+3&-4},e.prototype.getFontProgram=function(t,e,i,r){if(null===t)throw new Error("Argument Null Exception : newLocaTableOut");if(null===e)throw new Error("Argument Null Exception : newGlyphTable");this.tableNames;var n=this.getFontProgramLength(t,e,0),o=n.fontProgramLength,s=n.numTables,a=new Ft(o);a.writeInt(65536),a.writeShort(s);var h=this.entrySelectors[s];return a.writeShort(16*(1<<(31&h))),a.writeShort(h),a.writeShort(16*(s-(1<<(31&h)))),this.writeCheckSums(a,s,t,e,i,r),this.writeGlyphs(a,t,e),a.data},e.prototype.getFontProgramLength=function(t,e,i){if(null===t)throw new Error("Argument Null Exception : newLocaTableOut");if(null===e)throw new Error("Argument Null Exception : newGlyphTable");i=2;for(var r=this.tableNames,n=0,o=0;o<r.length;o++){var s=r[o];if("glyf"!==s&&"loca"!==s){var a=this.getTable(s);a.empty||(++i,n+=this.align(a.length))}}return n+=t.length,n+=e.length,n+=16*i+12,{fontProgramLength:n,numTables:i}},e.prototype.writeCheckSums=function(t,e,i,r,n,o){if(null===t)throw new Error("Argument Null Exception : writer");if(null===i)throw new Error("Argument Null Exception : newLocaTableOut");if(null===r)throw new Error("Argument Null Exception : newGlyphTable");for(var s=this.tableNames,a=16*e+12,h=0,l=0;l<s.length;l++){var u=s[l],c=this.getTable(u);if(!c.empty){if(t.writeString(u),"glyf"===u){p=this.calculateCheckSum(r);t.writeInt(p),h=n}else if("loca"===u){var p=this.calculateCheckSum(i);t.writeInt(p),h=o}else t.writeInt(c.checksum),h=c.length;t.writeUInt(a),t.writeUInt(h),a+=this.align(h)}}},e.prototype.calculateCheckSum=function(t){if(null===t)throw new Error("Argument Null Exception : bytes");for(var e=0,i=0,r=0,n=0,o=0,s=0;s<(t.length+1)/4;s++)o+=255&t[e++],n+=255&t[e++],r+=255&t[e++],i+=255&t[e++];var a=i;return a+=r<<8,a+=n<<16,a+=o<<24},e.prototype.writeGlyphs=function(t,e,i){if(null===t)throw new Error("Argument Null Exception : writer");if(null===e)throw new Error("Argument Null Exception : newLocaTableOut");if(null===i)throw new Error("Argument Null Exception : newGlyphTable");for(var r=this.tableNames,n=0;n<r.length;n++){var o=r[n],s=this.getTable(o);if(!s.empty)if("glyf"===o)t.writeBytes(i);else if("loca"===o)t.writeBytes(e);else{for(var a=this.align(s.length),h=[],l=0;l<a;l++)h.push(0);this.offset=s.offset;var u=this.read(h,0,s.length);t.writeBytes(u.buffer)}}},e.prototype.setOffset=function(t){this.offset=t},e.prototype.createInternals=function(){this.metrics=new Pt;var t=this.readNameTable(),e=this.readHeadTable();this.bIsLocaShort=0===e.indexToLocalFormat;var i=this.readHorizontalHeaderTable(),r=this.readOS2Table(),n=this.readPostTable();this.width=this.readWidthTable(i.numberOfHMetrics,e.unitsPerEm);var o=this.readCmapTable();this.initializeMetrics(t,e,i,r,n,o)},e.prototype.getGlyph=function(t){if("number"==typeof t){var e=null;return this.metrics.isSymbol||null==this.microsoftGlyphs?this.metrics.isSymbol&&null!=this.macintoshGlyphs&&this.macintoshGlyphs.containsKey(t)&&(e=this.macintoshGlyphs.getValue(t)):this.microsoftGlyphs.containsKey(t)&&(e=this.microsoftGlyphs.getValue(t)),n=null!=e?e:this.getDefaultGlyph()}var i=null,r=t.charCodeAt(0);this.metrics.isSymbol||null===this.microsoft?(this.metrics.isSymbol&&null!==this.macintosh||this.isMacTTF)&&(0!==this.maxMacIndex?r%=this.maxMacIndex+1:r=61440==(65280&r)?255&r:r,this.macintosh.containsKey(r)&&(i=this.macintosh.getValue(r),this.isFontPresent=!0)):this.microsoft.containsKey(r)?(i=this.microsoft.getValue(r),r!==A.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!0)):r!==A.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!1),t===A.whiteSpace&&null===i&&(i=new jt);var n=null!==i?i:this.getDefaultGlyph();return n},e.prototype.getGlyphChars=function(t){if(null===t||void 0===t)throw new Error("Argument Null Exception : chars");for(var e=new n,i=t.keys(),r=0;r<i.length;r++){var o=i[r],s=this.getGlyph(o);s.empty||e.setValue(s.index,o.charCodeAt(0))}return e},e.prototype.getAllGlyphs=function(){for(var t=[],e=new jt,i=0,r=0;r<this.width.length;r++){var n=this.width[r];e.index=i,e.width=n,t.push(e),i++}return t},e.prototype.readFontProgram=function(t){var e=this.getGlyphChars(t),i=this.readLocaTable(this.bIsLocaShort);e.size()<t.size()&&(this.missedGlyphs=t.size()-e.size()),this.updateGlyphChars(e,i);var r=this.generateGlyphTable(e,i,null,null),n=r.glyphTableSize,o=r.newLocaTable,s=r.newGlyphTable,a=this.updateLocaTable(o,this.bIsLocaShort,null),h=a.newLocaSize,l=a.newLocaUpdated;return this.getFontProgram(l,s,n,h)},e.prototype.convertString=function(t){if(null===t)throw new Error("Argument Null Exception : text");for(var e="",i=0;i<t.length;i++){var r=t[i],n=this.getGlyph(r);n.empty||(e+=String.fromCharCode(n.index))}return e},e.prototype.getCharWidth=function(t){var e=this.getGlyph(t);return(e=e.empty?this.getDefaultGlyph():e).empty?0:e.width},e.prototype.readString=function(t,e){if(void 0===e)return this.readString(t,!1);var i="";if(e)for(r=0;r<t;r++)r%2!=0&&(i+=String.fromCharCode(this.fontData[this.offset])),this.offset+=1;else for(var r=0;r<t;r++)i+=String.fromCharCode(this.fontData[this.offset]),this.offset+=1;return i},e.prototype.readFixed=function(t){return this.readInt16(t)+this.readInt16(t+2)/16384},e.prototype.readInt32=function(t){var e=this.fontData[t+3],i=this.fontData[t+2],r=this.fontData[t+1],n=this.fontData[t];return this.offset+=4,e+(i<<8)+(r<<16)+(n<<24)},e.prototype.readUInt32=function(t){var e=this.fontData[t+3],i=this.fontData[t+2],r=this.fontData[t+1],n=this.fontData[t];return this.offset+=4,e|i<<8|r<<16|n<<24},e.prototype.readInt16=function(t){var e=(this.fontData[t]<<8)+this.fontData[t+1];return e=32768&e?e-65536:e,this.offset+=2,e},e.prototype.readInt64=function(t){var e=this.readInt32(t+4),i=4294967296*this.readInt32(t)+e;return e<0&&(i+=4294967296),i},e.prototype.readUInt16=function(t){var e=this.fontData[t]<<8|this.fontData[t+1];return this.offset+=2,e},e.prototype.readUshortArray=function(t){for(var e=[],i=0;i<t;i++)e[i]=this.readUInt16(this.offset);return e},e.prototype.readBytes=function(t){for(var e=[],i=0;i<t;i++)e.push(this.fontData[this.offset]),this.offset+=1;return e},e.prototype.readByte=function(t){var e=this.fontData[t];return this.offset+=1,e},e.prototype.read=function(t,e,i){if(null===t)throw new Error("Argument Null Exception : buffer");var r=0,n=0;do{for(var o=0;o<i-r&&this.offset+o<this.fontData.length;o++)t[e+o]=this.fontData[this.offset+o];n=i-r,this.offset+=n,r+=n}while(r<i);return{buffer:t,written:r}},e}(),At=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Mt=function(){function e(){this.lineGap=0}return e.prototype.getAscent=function(t){return this.ascent*z.charSizeMultiplier*this.getSize(t)},e.prototype.getDescent=function(t){return this.descent*z.charSizeMultiplier*this.getSize(t)},e.prototype.getLineGap=function(t){return this.lineGap*z.charSizeMultiplier*this.getSize(t)},e.prototype.getHeight=function(t){for(var e=["cambria","candara","constantia","corbel","cariadings"],i=[],r=0;r<e.length;r++){var n=e[r];i.push(n)}return this.getDescent(t)<0?this.getAscent(t)-this.getDescent(t)+this.getLineGap(t):this.getAscent(t)+this.getDescent(t)+this.getLineGap(t)},e.prototype.getSize=function(e){var i=this.size;if(null!=e)switch(e.subSuperScript){case t.PdfSubSuperScript.SubScript:i/=this.subScriptSizeFactor;break;case t.PdfSubSuperScript.SuperScript:i/=this.superscriptSizeFactor}return i},e.prototype.clone=function(){var t=this;return t.widthTable=Dt.clone(),t},Object.defineProperty(e.prototype,"widthTable",{get:function(){return this.internalWidthTable},set:function(t){this.internalWidthTable=t},enumerable:!0,configurable:!0}),e}(),Dt=function(){function t(){}return t.clone=function(){return null},t}(),kt=function(t){function e(e){var i=t.call(this)||this;if(null==e)throw new Error("ArgumentNullException:widths");return i.widths=e,i}return At(e,t),e.prototype.items=function(t){if(t<0||t>=this.widths.length)throw new Error("ArgumentOutOfRangeException:index, The character is not supported by the font.");return this.widths[t]},Object.defineProperty(e.prototype,"length",{get:function(){return this.widths.length},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=this;return t.widths=this.widths,t},e.prototype.toArray=function(){return new m(this.widths)},e}(Dt),zt=function(){function e(t,e){if(this.nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.dictionaryProperties=new a,this.isCompress=!1,this.isEmbedFont=!1,this.cmapPrefix="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap"+s.newLine+"/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange"+s.newLine,this.cmapEndCodespaceRange="endcodespacerange"+s.newLine,this.cmapBeginRange="beginbfrange"+s.newLine,this.cmapEndRange="endbfrange"+s.newLine,this.cmapSuffix="endbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend end"+s.newLine,null===t||void 0===t)throw new Error("ArgumentNullException:base64String");this.fontSize=e,this.fontString=t,this.Initialize()}return e.prototype.getCharWidth=function(t){return this.ttfReader.getCharWidth(t)},e.prototype.getLineWidth=function(t){for(var e=0,i=0,r=t.length;i<r;i++){var n=t[i];e+=this.getCharWidth(n)}return e},e.prototype.Initialize=function(){var t=new ut(this.fontString.length);t.writeFromBase64String(this.fontString),this.fontData=t.internalBuffer,this.ttfReader=new Et(this.fontData),this.ttfMetrics=this.ttfReader.metrics},e.prototype.createInternals=function(){this.fontDictionary=new h,this.fontProgram=new b,this.cmap=new b,this.descendantFont=new h,this.metrics=new Mt,this.ttfReader.createInternals(),this.ttfMetrics=this.ttfReader.metrics,this.initializeMetrics(),this.subsetName=this.getFontName(),this.createDescendantFont(),this.createCmap(),this.createFontDictionary(),this.createFontProgram()},e.prototype.getInternals=function(){return this.fontDictionary},e.prototype.initializeMetrics=function(){var t=this.ttfReader.metrics;this.metrics.ascent=t.macAscent,this.metrics.descent=t.macDescent,this.metrics.height=t.macAscent-t.macDescent+t.lineGap,this.metrics.name=t.fontFamily,this.metrics.postScriptName=t.postScriptName,this.metrics.size=this.fontSize,this.metrics.widthTable=new kt(t.widthTable),this.metrics.lineGap=t.lineGap,this.metrics.subScriptSizeFactor=t.subScriptSizeFactor,this.metrics.superscriptSizeFactor=t.superscriptSizeFactor,this.metrics.isBold=t.isBold},e.prototype.getFontName=function(){for(var t,e="",i=0;i<6;i++){var r=Math.floor(26*Math.random())+0;e+=this.nameString[r]}return e+="+",e+=this.ttfReader.metrics.postScriptName,t=e.toString(),t=this.formatName(t)},e.prototype.formatName=function(t){var e=t.replace("(","#28");return e=e.replace(")","#29"),e=e.replace("[","#5B"),e=e.replace("]","#5D"),e=e.replace("<","#3C"),e=e.replace(">","#3E"),e=e.replace("{","#7B"),e=e.replace("}","#7D"),e=e.replace("/","#2F"),(e=e.replace("%","#25")).replace(" ","#20")},e.prototype.createDescendantFont=function(){this.descendantFont.isFont=!0,this.descendantFont.descendantFontBeginSave=new u(this),this.descendantFont.items.setValue(this.dictionaryProperties.type,new o(this.dictionaryProperties.font)),this.descendantFont.items.setValue(this.dictionaryProperties.subtype,new o(this.dictionaryProperties.cIDFontType2)),this.descendantFont.items.setValue(this.dictionaryProperties.baseFont,new o(this.subsetName)),this.descendantFont.items.setValue(this.dictionaryProperties.cIDToGIDMap,new o(this.dictionaryProperties.identity)),this.descendantFont.items.setValue(this.dictionaryProperties.dw,new g(1e3)),this.fontDescriptor=this.createFontDescriptor(),this.descendantFont.items.setValue(this.dictionaryProperties.fontDescriptor,new C(this.fontDescriptor));var t=this.createSystemInfo();this.descendantFont.items.setValue(this.dictionaryProperties.cIDSystemInfo,t)},e.prototype.createFontDescriptor=function(){var t=new h,e=this.ttfReader.metrics;return t.isFont=!0,t.items.setValue(this.dictionaryProperties.type,new o(this.dictionaryProperties.fontDescriptor)),t.items.setValue(this.dictionaryProperties.fontName,new o(this.subsetName)),t.items.setValue(this.dictionaryProperties.flags,new g(this.getDescriptorFlags())),t.items.setValue(this.dictionaryProperties.fontBBox,m.fromRectangle(this.getBoundBox())),t.items.setValue(this.dictionaryProperties.missingWidth,new g(e.widthTable[32])),t.items.setValue(this.dictionaryProperties.stemV,new g(e.stemV)),t.items.setValue(this.dictionaryProperties.italicAngle,new g(e.italicAngle)),t.items.setValue(this.dictionaryProperties.capHeight,new g(e.capHeight)),t.items.setValue(this.dictionaryProperties.ascent,new g(e.winAscent)),t.items.setValue(this.dictionaryProperties.descent,new g(e.winDescent)),t.items.setValue(this.dictionaryProperties.leading,new g(e.leading)),t.items.setValue(this.dictionaryProperties.avgWidth,new g(e.widthTable[32])),t.items.setValue(this.dictionaryProperties.fontFile2,new C(this.fontProgram)),t.items.setValue(this.dictionaryProperties.maxWidth,new g(e.widthTable[32])),t.items.setValue(this.dictionaryProperties.xHeight,new g(0)),t.items.setValue(this.dictionaryProperties.stemH,new g(0)),t},e.prototype.createCmap=function(){this.cmap.cmapBeginSave=new w(this)},e.prototype.createFontDictionary=function(){this.fontDictionary.isFont=!0,this.fontDictionary.fontDictionaryBeginSave=new c(this),this.fontDictionary.items.setValue(this.dictionaryProperties.type,new o(this.dictionaryProperties.font)),this.fontDictionary.items.setValue(this.dictionaryProperties.baseFont,new o(this.subsetName)),this.fontDictionary.items.setValue(this.dictionaryProperties.subtype,new o(this.dictionaryProperties.type0)),this.fontDictionary.items.setValue(this.dictionaryProperties.encoding,new o(this.dictionaryProperties.identityH));var t=new m,e=new C(this.descendantFont);t.isFont=!0,t.add(e),this.fontDictionary.items.setValue(this.dictionaryProperties.descendantFonts,t)},e.prototype.createFontProgram=function(){this.fontProgram.fontProgramBeginSave=new S(this)},e.prototype.createSystemInfo=function(){var t=new h;return t.items.setValue(this.dictionaryProperties.registry,new P("Adobe")),t.items.setValue(this.dictionaryProperties.ordering,new P(this.dictionaryProperties.identity)),t.items.setValue(this.dictionaryProperties.supplement,new g(0)),t},e.prototype.descendantFontBeginSave=function(){if(null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0){var t=this.getDescendantWidth();null!==t&&this.descendantFont.items.setValue(this.dictionaryProperties.w,t)}},e.prototype.cmapBeginSave=function(){this.generateCmap()},e.prototype.fontDictionaryBeginSave=function(){null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0&&!this.fontDictionary.containsKey(this.dictionaryProperties.toUnicode)&&this.fontDictionary.items.setValue(this.dictionaryProperties.toUnicode,new C(this.cmap))},e.prototype.fontProgramBeginSave=function(){this.isCompress=!0,this.generateFontProgram()},e.prototype.getDescendantWidth=function(){var t=new m;if(null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0){for(var e=[],i=this.usedChars.keys(),r=0;r<i.length;r++){var n=i[r];(l=this.ttfReader.getGlyph(n)).empty||e.push(l)}e.sort(function(t,e){return t.index-e.index});for(var o=0,s=0,a=!1,h=new m,r=0;r<e.length;r++){var l=e[r];a||(a=!0,o=l.index,s=l.index-1),(s+1!==l.index||r+1===e.length)&&e.length>1&&(t.add(new g(o)),0!==r&&t.add(h),o=l.index,h=new m),h.add(new g(l.width)),r+1===e.length&&(t.add(new g(o)),t.add(h)),s=l.index}}return t},e.prototype.generateCmap=function(){if(null!==this.usedChars&&void 0!==this.usedChars&&this.usedChars.size()>0){var t=this.ttfReader.getGlyphChars(this.usedChars);if(t.size()>0){var e=t.keys().sort(),i=e[0],r=e[e.length-1],n=this.toHexString(i,!1)+this.toHexString(r,!1)+s.newLine,o="";o+=this.cmapPrefix,o+=n,o+=this.cmapEndCodespaceRange;for(var a=0,h=0;h<e.length;h++){0===a&&(0!==h&&(o+=this.cmapEndRange),o+=a=Math.min(100,e.length-h),o+=s.whiteSpace,o+=this.cmapBeginRange),a-=1;var l=e[h];o+=this.toHexString(l,!0)+this.toHexString(l,!0)+this.toHexString(t.getValue(l),!0)+"\n"}o+=this.cmapSuffix,this.cmap.clearStream(),this.cmap.isFont=!0,this.cmap.write(o)}}},e.prototype.generateFontProgram=function(){var t=null;this.usedChars=null===this.usedChars||void 0===this.usedChars?new n:this.usedChars,this.ttfReader.setOffset(0),t=this.ttfReader.readFontProgram(this.usedChars),this.fontProgram.clearStream(),this.fontProgram.isFont=!0,this.fontProgram.writeBytes(t)},e.prototype.getDescriptorFlags=function(){var e=0,i=this.ttfReader.metrics;return i.isFixedPitch&&(e|=t.FontDescriptorFlags.FixedPitch),i.isSymbol?e|=t.FontDescriptorFlags.Symbolic:e|=t.FontDescriptorFlags.Nonsymbolic,i.isItalic&&(e|=t.FontDescriptorFlags.Italic),i.isBold&&(e|=t.FontDescriptorFlags.ForceBold),e},e.prototype.getBoundBox=function(){var t=this.ttfReader.metrics.fontBox,e=Math.abs(t.right-t.left),i=Math.abs(t.top-t.bottom);return new B(t.left,t.bottom,e,i)},e.prototype.toHexString=function(t,e){var i=t.toString(16);return e&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"},e.prototype.setSymbols=function(t){if(null===t)throw new Error("Argument Null Exception : text");null!==this.usedChars&&void 0!==this.usedChars||(this.usedChars=new n);for(var e=0;e<t.length;e++){var i=t[e];this.usedChars.setValue(i,String.fromCharCode(0))}!1===this.isEmbedFont&&this.getDescendantWidth()},e}(),Wt=function(){function t(){this.arabicCharTable=[["Ø¡","ïº"],["Ø¢","ïº","ïº"],["Ø£","ïº","ïº"],["Ø¤","ïº","ïº"],["Ø¥","ïº","ïº"],["Ø¦","ïº","ïº","ïº","ïº"],["Ø§","ïº","ïº"],["Ø¨","ïº","ïº","ïº","ïº"],["Ø©","ïº","ïº"],["Øª","ïº","ïº","ïº","ïº"],["Ø«","ïº","ïº","ïº","ïº"],["Ø¬","ïº","ïº","ïº","ïº "],["Ø­","ïº¡","ïº¢","ïº£","ïº¤"],["Ø®","ïº¥","ïº¦","ïº§","ïº¨"],["Ø¯","ïº©","ïºª"],["Ø°","ïº«","ïº¬"],["Ø±","ïº­","ïº®"],["Ø²","ïº¯","ïº°"],["Ø³","ïº±","ïº²","ïº³","ïº´"],["Ø´","ïºµ","ïº¶","ïº·","ïº¸"],["Øµ","ïº¹","ïºº","ïº»","ïº¼"],["Ø¶","ïº½","ïº¾","ïº¿","ï»"],["Ø·","ï»","ï»","ï»","ï»"],["Ø¸","ï»","ï»","ï»","ï»"],["Ø¹","ï»","ï»","ï»","ï»"],["Øº","ï»","ï»","ï»","ï»"],["Ù","Ù","Ù","Ù","Ù"],["Ù","ï»","ï»","ï»","ï»"],["Ù","ï»","ï»","ï»","ï»"],["Ù","ï»","ï»","ï»","ï»"],["Ù","ï»","ï»","ï»","ï» "],["Ù","ï»¡","ï»¢","ï»£","ï»¤"],["Ù","ï»¥","ï»¦","ï»§","ï»¨"],["Ù","ï»©","ï»ª","ï»«","ï»¬"],["Ù","ï»­","ï»®"],["Ù","ï»¯","ï»°","ï¯¨","ï¯©"],["Ù","ï»±","ï»²","ï»³","ï»´"],["Ù±","ï­","ï­"],["Ù¹","ï­¦","ï­§","ï­¨","ï­©"],["Ùº","ï­","ï­","ï­ ","ï­¡"],["Ù»","ï­","ï­","ï­","ï­"],["Ù¾","ï­","ï­","ï­","ï­"],["Ù¿","ï­¢","ï­£","ï­¤","ï­¥"],["Ú","ï­","ï­","ï­","ï­"],["Ú","ï­¶","ï­·","ï­¸","ï­¹"],["Ú","ï­²","ï­³","ï­´","ï­µ"],["Ú","ï­º","ï­»","ï­¼","ï­½"],["Ú","ï­¾","ï­¿","ï®","ï®"],["Ú","ï®","ï®"],["Ú","ï®","ï®"],["Ú","ï®","ï®"],["Ú","ï®","ï®"],["Ú","ï®","ï®"],["Ú","ï®","ï®"],["Ú¤","ï­ª","ï­«","ï­¬","ï­­"],["Ú¦","ï­®","ï­¯","ï­°","ï­±"],["Ú©","ï®","ï®","ï®","ï®"],["Ú­","ï¯","ï¯","ï¯","ï¯"],["Ú¯","ï®","ï®","ï®","ï®"],["Ú±","ï®","ï®","ï®","ï®"],["Ú³","ï®","ï®","ï®","ï®"],["Úº","ï®","ï®"],["Ú»","ï® ","ï®¡","ï®¢","ï®£"],["Ú¾","ï®ª","ï®«","ï®¬","ï®­"],["Û","ï®¤","ï®¥"],["Û","ï®¦","ï®§","ï®¨","ï®©"],["Û","ï¯ ","ï¯¡"],["Û","ï¯","ï¯"],["Û","ï¯","ï¯"],["Û","ï¯","ï¯"],["Û","ï¯¢","ï¯£"],["Û","ï¯","ï¯"],["Û","ï¯¼","ï¯½","ï¯¾","ï¯¿"],["Û","ï¯¤","ï¯¥","ï¯¦","ï¯§"],["Û","ï®®","ï®¯"],["Û","ï®°","ï®±"]],this.alef="Ø§",this.alefHamza="Ø£",this.alefHamzaBelow="Ø¥",this.alefMadda="Ø¢",this.lam="Ù",this.hamza="Ø¡",this.zeroWidthJoiner="â",this.hamzaAbove="Ù",this.hamzaBelow="Ù",this.wawHamza="Ø¤",this.yehHamza="Ø¦",this.waw="Ù",this.alefMaksura="Ù",this.yeh="Ù",this.farsiYeh="Û",this.shadda="Ù",this.madda="Ù",this.lwa="ï»»",this.lwawh="ï»·",this.lwawhb="ï»¹",this.lwawm="ï»µ",this.bwhb="Û",this.fathatan="Ù",this.superScriptalef="Ù°",this.vowel=1,this.arabicMapTable=new n;for(var t=0;t<this.arabicCharTable.length;t++)this.arabicMapTable.setValue(this.arabicCharTable[t][0],this.arabicCharTable[t])}return t.prototype.getCharacterShape=function(t,e){if(t>=this.hamza&&t<=this.bwhb){if(this.arabicMapTable.getValue(t))return this.arabicMapTable.getValue(t)[e+1]}else if(t>=this.lwawm&&t<=this.lwa)return t;return t},t.prototype.shape=function(t,e){for(var i="",r="",n=0;n<t.length;n++){var o=t[n];o>="Ø"&&o<="Û¿"?r+=o:(r.length>0&&(i+=s=this.doShape(r.toString(),0),r=""),i+=o)}if(r.length>0){var s=this.doShape(r.toString(),0);i+=s}return i.toString()},t.prototype.doShape=function(t,e){for(var i="",r=0,n=0,o="",s=new Gt,a=new Gt;n<t.length;)if(o=t[n++],0===this.ligature(o,a)){var h=this.getShapeCount(o);r=1===h?0:2,s.Shapes>2&&(r+=1),r%=a.Shapes,a.Value=this.getCharacterShape(a.Value,r),i=this.append(i,s,e),s=a,(a=new Gt).Value=o,a.Shapes=h,a.Ligature++}return r=s.Shapes>2?1:0,r%=a.Shapes,a.Value=this.getCharacterShape(a.Value,r),i=this.append(i,s,e),(i=this.append(i,a,e)).toString()},t.prototype.append=function(t,e,i){return""!==e.Value&&(t+=e.Value,e.Ligature-=1,""!==e.Type&&(0==(i&this.vowel)?(t+=e.Type,e.Ligature-=1):e.Ligature-=1),""!==e.vowel&&(0==(i&this.vowel)?(t+=e.vowel,e.Ligature-=1):e.Ligature-=1)),t},t.prototype.ligature=function(t,e){if(""!==e.Value){var i=0;if(t>=this.fathatan&&t<=this.hamzaBelow||t===this.superScriptalef){if(i=1,""!==e.vowel&&t!==this.shadda&&(i=2),t===this.shadda){if(null!=e.Type)return 0;e.Type=this.shadda}else t===this.hamzaBelow?e.Value===this.alef?(e.Value=this.alefHamzaBelow,i=2):t===this.lwa?(e.Value=this.lwawhb,i=2):e.Type=this.hamzaBelow:t===this.hamzaAbove?e.Value===this.alef?(e.Value=this.alefHamza,i=2):e.Value===this.lwa?(e.Value=this.lwawh,i=2):e.Value===this.waw?(e.Value=this.wawHamza,i=2):e.Value===this.yeh||e.Value===this.alefMaksura||e.Value===this.farsiYeh?(e.Value=this.yehHamza,i=2):e.Type=this.hamzaAbove:t===this.madda?e.Value===this.alef&&(e.Value=this.alefMadda,i=2):e.vowel=t;return 1===i&&e.Ligature++,i}return""!==e.vowel?0:(e.Value===this.lam&&(t===this.alef?(e.Value=this.lwa,e.Shapes=2,i=3):t===this.alefHamza?(e.Value=this.lwawh,e.Shapes=2,i=3):t===this.alefHamzaBelow?(e.Value=this.lwawhb,e.Shapes=2,i=3):t===this.alefMadda&&(e.Value=this.lwawm,e.Shapes=2,i=3)),i)}return 0},t.prototype.getShapeCount=function(t){if(t>=this.hamza&&t<=this.bwhb&&!(t>=this.fathatan&&t<=this.hamzaBelow||t===this.superScriptalef)){if(this.arabicMapTable.getValue(t))return this.arabicMapTable.getValue(t).length-1}else if(t===this.zeroWidthJoiner)return 4;return 1},t}(),Gt=function(){function t(){this.shapeValue="",this.shapeType="",this.shapeVowel="",this.shapeLigature=0,this.shapeShapes=1}return Object.defineProperty(t.prototype,"Value",{get:function(){return this.shapeValue},set:function(t){this.shapeValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Type",{get:function(){return this.shapeType},set:function(t){this.shapeType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vowel",{get:function(){return this.shapeVowel},set:function(t){this.shapeVowel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ligature",{get:function(){return this.shapeLigature},set:function(t){this.shapeLigature=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Shapes",{get:function(){return this.shapeShapes},set:function(t){this.shapeShapes=t},enumerable:!0,configurable:!0}),t}(),Ht=function(){function t(){this.indexes=[],this.indexLevels=[],this.mirroringShapeCharacters=new n,this.update()}return t.prototype.doMirrorShaping=function(t){for(var e=[],i=0;i<t.length;i++)1==(1&this.indexLevels[i])&&this.mirroringShapeCharacters.containsKey(t[i].charCodeAt(0))?e[i]=String.fromCharCode(this.mirroringShapeCharacters.getValue(t[i].charCodeAt(0))):e[i]=t[i].toString();for(var r="",n=0;n<e.length;n++)r+=e[n];return r},t.prototype.getLogicalToVisualString=function(t,e){var i=new _t;this.indexLevels=i.getVisualOrder(t,e),this.setDefaultIndexLevel(),this.doOrder(0,this.indexLevels.length-1);for(var r=this.doMirrorShaping(t),n="",o=0;o<this.indexes.length;o++)n+=r[this.indexes[o]];return n.toString()},t.prototype.setDefaultIndexLevel=function(){for(var t=0;t<this.indexLevels.length;t++)this.indexes[t]=t},t.prototype.doOrder=function(t,e){for(var i=this.indexLevels[t],r=i,n=i,o=i,s=t+1;s<=e;++s){var a=this.indexLevels[s];a>i?i=a:a<r&&(r=a),n&=a,o|=a}if(0!=(1&o)){if(1==(1&n))return void this.reArrange(t,e+1);for(r|=1;i>=r;){for(var h=t;;){for(;h<=e&&!(this.indexLevels[h]>=i);)h+=1;if(h>e)break;for(var l=h+1;l<=e&&!(this.indexLevels[l]<i);)l+=1;this.reArrange(h,l),h=l+1}i-=1}}},t.prototype.reArrange=function(t,e){var i=(t+e)/2;for(--e;t<i;++t,--e){var r=this.indexes[t];this.indexes[t]=this.indexes[e],this.indexes[e]=r}},t.prototype.update=function(){this.mirroringShapeCharacters.setValue(40,41),this.mirroringShapeCharacters.setValue(41,40),this.mirroringShapeCharacters.setValue(60,62),this.mirroringShapeCharacters.setValue(62,60),this.mirroringShapeCharacters.setValue(91,93),this.mirroringShapeCharacters.setValue(93,91),this.mirroringShapeCharacters.setValue(123,125),this.mirroringShapeCharacters.setValue(125,123),this.mirroringShapeCharacters.setValue(171,187),this.mirroringShapeCharacters.setValue(187,171),this.mirroringShapeCharacters.setValue(8249,8250),this.mirroringShapeCharacters.setValue(8250,8249),this.mirroringShapeCharacters.setValue(8261,8262),this.mirroringShapeCharacters.setValue(8262,8261),this.mirroringShapeCharacters.setValue(8317,8318),this.mirroringShapeCharacters.setValue(8318,8317),this.mirroringShapeCharacters.setValue(8333,8334),this.mirroringShapeCharacters.setValue(8334,8333),this.mirroringShapeCharacters.setValue(8712,8715),this.mirroringShapeCharacters.setValue(8713,8716),this.mirroringShapeCharacters.setValue(8714,8717),this.mirroringShapeCharacters.setValue(8715,8712),this.mirroringShapeCharacters.setValue(8716,8713),this.mirroringShapeCharacters.setValue(8717,8714),this.mirroringShapeCharacters.setValue(8725,10741),this.mirroringShapeCharacters.setValue(8764,8765),this.mirroringShapeCharacters.setValue(8765,8764),this.mirroringShapeCharacters.setValue(8771,8909),this.mirroringShapeCharacters.setValue(8786,8787),this.mirroringShapeCharacters.setValue(8787,8786),this.mirroringShapeCharacters.setValue(8788,8789),this.mirroringShapeCharacters.setValue(8789,8788),this.mirroringShapeCharacters.setValue(8804,8805),this.mirroringShapeCharacters.setValue(8805,8804),this.mirroringShapeCharacters.setValue(8806,8807),this.mirroringShapeCharacters.setValue(8807,8806),this.mirroringShapeCharacters.setValue(8808,8809),this.mirroringShapeCharacters.setValue(8809,8808),this.mirroringShapeCharacters.setValue(8810,8811),this.mirroringShapeCharacters.setValue(8811,8810),this.mirroringShapeCharacters.setValue(8814,8815),this.mirroringShapeCharacters.setValue(8815,8814),this.mirroringShapeCharacters.setValue(8816,8817),this.mirroringShapeCharacters.setValue(8817,8816),this.mirroringShapeCharacters.setValue(8818,8819),this.mirroringShapeCharacters.setValue(8819,8818),this.mirroringShapeCharacters.setValue(8820,8821),this.mirroringShapeCharacters.setValue(8821,8820),this.mirroringShapeCharacters.setValue(8822,8823),this.mirroringShapeCharacters.setValue(8823,8822),this.mirroringShapeCharacters.setValue(8824,8825),this.mirroringShapeCharacters.setValue(8825,8824),this.mirroringShapeCharacters.setValue(8826,8827),this.mirroringShapeCharacters.setValue(8827,8826),this.mirroringShapeCharacters.setValue(8828,8829),this.mirroringShapeCharacters.setValue(8829,8828),this.mirroringShapeCharacters.setValue(8830,8831),this.mirroringShapeCharacters.setValue(8831,8830),this.mirroringShapeCharacters.setValue(8832,8833),this.mirroringShapeCharacters.setValue(8833,8832),this.mirroringShapeCharacters.setValue(8834,8835),this.mirroringShapeCharacters.setValue(8835,8834),this.mirroringShapeCharacters.setValue(8836,8837),this.mirroringShapeCharacters.setValue(8837,8836),this.mirroringShapeCharacters.setValue(8838,8839),this.mirroringShapeCharacters.setValue(8839,8838),this.mirroringShapeCharacters.setValue(8840,8841),this.mirroringShapeCharacters.setValue(8841,8840),this.mirroringShapeCharacters.setValue(8842,8843),this.mirroringShapeCharacters.setValue(8843,8842),this.mirroringShapeCharacters.setValue(8847,8848),this.mirroringShapeCharacters.setValue(8848,8847),this.mirroringShapeCharacters.setValue(8849,8850),this.mirroringShapeCharacters.setValue(8850,8849),this.mirroringShapeCharacters.setValue(8856,10680),this.mirroringShapeCharacters.setValue(8866,8867),this.mirroringShapeCharacters.setValue(8867,8866),this.mirroringShapeCharacters.setValue(8870,10974),this.mirroringShapeCharacters.setValue(8872,10980),this.mirroringShapeCharacters.setValue(8873,10979),this.mirroringShapeCharacters.setValue(8875,10981),this.mirroringShapeCharacters.setValue(8880,8881),this.mirroringShapeCharacters.setValue(8881,8880),this.mirroringShapeCharacters.setValue(8882,8883),this.mirroringShapeCharacters.setValue(8883,8882),this.mirroringShapeCharacters.setValue(8884,8885),this.mirroringShapeCharacters.setValue(8885,8884),this.mirroringShapeCharacters.setValue(8886,8887),this.mirroringShapeCharacters.setValue(8887,8886),this.mirroringShapeCharacters.setValue(8905,8906),this.mirroringShapeCharacters.setValue(8906,8905),this.mirroringShapeCharacters.setValue(8907,8908),this.mirroringShapeCharacters.setValue(8908,8907),this.mirroringShapeCharacters.setValue(8909,8771),this.mirroringShapeCharacters.setValue(8912,8913),this.mirroringShapeCharacters.setValue(8913,8912),this.mirroringShapeCharacters.setValue(8918,8919),this.mirroringShapeCharacters.setValue(8919,8918),this.mirroringShapeCharacters.setValue(8920,8921),this.mirroringShapeCharacters.setValue(8921,8920),this.mirroringShapeCharacters.setValue(8922,8923),this.mirroringShapeCharacters.setValue(8923,8922),this.mirroringShapeCharacters.setValue(8924,8925),this.mirroringShapeCharacters.setValue(8925,8924),this.mirroringShapeCharacters.setValue(8926,8927),this.mirroringShapeCharacters.setValue(8927,8926),this.mirroringShapeCharacters.setValue(8928,8929),this.mirroringShapeCharacters.setValue(8929,8928),this.mirroringShapeCharacters.setValue(8930,8931),this.mirroringShapeCharacters.setValue(8931,8930),this.mirroringShapeCharacters.setValue(8932,8933),this.mirroringShapeCharacters.setValue(8933,8932),this.mirroringShapeCharacters.setValue(8934,8935),this.mirroringShapeCharacters.setValue(8935,8934),this.mirroringShapeCharacters.setValue(8936,8937),this.mirroringShapeCharacters.setValue(8937,8936),this.mirroringShapeCharacters.setValue(8938,8939),this.mirroringShapeCharacters.setValue(8939,8938),this.mirroringShapeCharacters.setValue(8940,8941),this.mirroringShapeCharacters.setValue(8941,8940),this.mirroringShapeCharacters.setValue(8944,8945),this.mirroringShapeCharacters.setValue(8945,8944),this.mirroringShapeCharacters.setValue(8946,8954),this.mirroringShapeCharacters.setValue(8947,8955),this.mirroringShapeCharacters.setValue(8948,8956),this.mirroringShapeCharacters.setValue(8950,8957),this.mirroringShapeCharacters.setValue(8951,8958),this.mirroringShapeCharacters.setValue(8954,8946),this.mirroringShapeCharacters.setValue(8955,8947),this.mirroringShapeCharacters.setValue(8956,8948),this.mirroringShapeCharacters.setValue(8957,8950),this.mirroringShapeCharacters.setValue(8958,8951),this.mirroringShapeCharacters.setValue(8968,8969),this.mirroringShapeCharacters.setValue(8969,8968),this.mirroringShapeCharacters.setValue(8970,8971),this.mirroringShapeCharacters.setValue(8971,8970),this.mirroringShapeCharacters.setValue(9001,9002),this.mirroringShapeCharacters.setValue(9002,9001),this.mirroringShapeCharacters.setValue(10088,10089),this.mirroringShapeCharacters.setValue(10089,10088),this.mirroringShapeCharacters.setValue(10090,10091),this.mirroringShapeCharacters.setValue(10091,10090),this.mirroringShapeCharacters.setValue(10092,10093),this.mirroringShapeCharacters.setValue(10093,10092),this.mirroringShapeCharacters.setValue(10094,10095),this.mirroringShapeCharacters.setValue(10095,10094),this.mirroringShapeCharacters.setValue(10096,10097),this.mirroringShapeCharacters.setValue(10097,10096),this.mirroringShapeCharacters.setValue(10098,10099),this.mirroringShapeCharacters.setValue(10099,10098),this.mirroringShapeCharacters.setValue(10100,10101),this.mirroringShapeCharacters.setValue(10101,10100),this.mirroringShapeCharacters.setValue(10197,10198),this.mirroringShapeCharacters.setValue(10198,10197),this.mirroringShapeCharacters.setValue(10205,10206),this.mirroringShapeCharacters.setValue(10206,10205),this.mirroringShapeCharacters.setValue(10210,10211),this.mirroringShapeCharacters.setValue(10211,10210),this.mirroringShapeCharacters.setValue(10212,10213),this.mirroringShapeCharacters.setValue(10213,10212),this.mirroringShapeCharacters.setValue(10214,10215),this.mirroringShapeCharacters.setValue(10215,10214),this.mirroringShapeCharacters.setValue(10216,10217),this.mirroringShapeCharacters.setValue(10217,10216),this.mirroringShapeCharacters.setValue(10218,10219),this.mirroringShapeCharacters.setValue(10219,10218),this.mirroringShapeCharacters.setValue(10627,10628),this.mirroringShapeCharacters.setValue(10628,10627),this.mirroringShapeCharacters.setValue(10629,10630),this.mirroringShapeCharacters.setValue(10630,10629),this.mirroringShapeCharacters.setValue(10631,10632),this.mirroringShapeCharacters.setValue(10632,10631),this.mirroringShapeCharacters.setValue(10633,10634),this.mirroringShapeCharacters.setValue(10634,10633),this.mirroringShapeCharacters.setValue(10635,10636),this.mirroringShapeCharacters.setValue(10636,10635),this.mirroringShapeCharacters.setValue(10637,10640),this.mirroringShapeCharacters.setValue(10638,10639),this.mirroringShapeCharacters.setValue(10639,10638),this.mirroringShapeCharacters.setValue(10640,10637),this.mirroringShapeCharacters.setValue(10641,10642),this.mirroringShapeCharacters.setValue(10642,10641),this.mirroringShapeCharacters.setValue(10643,10644),this.mirroringShapeCharacters.setValue(10644,10643),this.mirroringShapeCharacters.setValue(10645,10646),this.mirroringShapeCharacters.setValue(10646,10645),this.mirroringShapeCharacters.setValue(10647,10648),this.mirroringShapeCharacters.setValue(10648,10647),this.mirroringShapeCharacters.setValue(10680,8856),this.mirroringShapeCharacters.setValue(10688,10689),this.mirroringShapeCharacters.setValue(10689,10688),this.mirroringShapeCharacters.setValue(10692,10693),this.mirroringShapeCharacters.setValue(10693,10692),this.mirroringShapeCharacters.setValue(10703,10704),this.mirroringShapeCharacters.setValue(10704,10703),this.mirroringShapeCharacters.setValue(10705,10706),this.mirroringShapeCharacters.setValue(10706,10705),this.mirroringShapeCharacters.setValue(10708,10709),this.mirroringShapeCharacters.setValue(10709,10708),this.mirroringShapeCharacters.setValue(10712,10713),this.mirroringShapeCharacters.setValue(10713,10712),this.mirroringShapeCharacters.setValue(10714,10715),this.mirroringShapeCharacters.setValue(10715,10714),this.mirroringShapeCharacters.setValue(10741,8725),this.mirroringShapeCharacters.setValue(10744,10745),this.mirroringShapeCharacters.setValue(10745,10744),this.mirroringShapeCharacters.setValue(10748,10749),this.mirroringShapeCharacters.setValue(10749,10748),this.mirroringShapeCharacters.setValue(10795,10796),this.mirroringShapeCharacters.setValue(10796,10795),this.mirroringShapeCharacters.setValue(10797,10796),this.mirroringShapeCharacters.setValue(10798,10797),this.mirroringShapeCharacters.setValue(10804,10805),this.mirroringShapeCharacters.setValue(10805,10804),this.mirroringShapeCharacters.setValue(10812,10813),this.mirroringShapeCharacters.setValue(10813,10812),this.mirroringShapeCharacters.setValue(10852,10853),this.mirroringShapeCharacters.setValue(10853,10852),this.mirroringShapeCharacters.setValue(10873,10874),this.mirroringShapeCharacters.setValue(10874,10873),this.mirroringShapeCharacters.setValue(10877,10878),this.mirroringShapeCharacters.setValue(10878,10877),this.mirroringShapeCharacters.setValue(10879,10880),this.mirroringShapeCharacters.setValue(10880,10879),this.mirroringShapeCharacters.setValue(10881,10882),this.mirroringShapeCharacters.setValue(10882,10881),this.mirroringShapeCharacters.setValue(10883,10884),this.mirroringShapeCharacters.setValue(10884,10883),this.mirroringShapeCharacters.setValue(10891,10892),this.mirroringShapeCharacters.setValue(10892,10891),this.mirroringShapeCharacters.setValue(10897,10898),this.mirroringShapeCharacters.setValue(10898,10897),this.mirroringShapeCharacters.setValue(10899,10900),this.mirroringShapeCharacters.setValue(10900,10899),this.mirroringShapeCharacters.setValue(10901,10902),this.mirroringShapeCharacters.setValue(10902,10901),this.mirroringShapeCharacters.setValue(10903,10904),this.mirroringShapeCharacters.setValue(10904,10903),this.mirroringShapeCharacters.setValue(10905,10906),this.mirroringShapeCharacters.setValue(10906,10905),this.mirroringShapeCharacters.setValue(10907,10908),this.mirroringShapeCharacters.setValue(10908,10907),this.mirroringShapeCharacters.setValue(10913,10914),this.mirroringShapeCharacters.setValue(10914,10913),this.mirroringShapeCharacters.setValue(10918,10919),this.mirroringShapeCharacters.setValue(10919,10918),this.mirroringShapeCharacters.setValue(10920,10921),this.mirroringShapeCharacters.setValue(10921,10920),this.mirroringShapeCharacters.setValue(10922,10923),this.mirroringShapeCharacters.setValue(10923,10922),this.mirroringShapeCharacters.setValue(10924,10925),this.mirroringShapeCharacters.setValue(10925,10924),this.mirroringShapeCharacters.setValue(10927,10928),this.mirroringShapeCharacters.setValue(10928,10927),this.mirroringShapeCharacters.setValue(10931,10932),this.mirroringShapeCharacters.setValue(10932,10931),this.mirroringShapeCharacters.setValue(10939,10940),this.mirroringShapeCharacters.setValue(10940,10939),this.mirroringShapeCharacters.setValue(10941,10942),this.mirroringShapeCharacters.setValue(10942,10941),this.mirroringShapeCharacters.setValue(10943,10944),this.mirroringShapeCharacters.setValue(10944,10943),this.mirroringShapeCharacters.setValue(10945,10946),this.mirroringShapeCharacters.setValue(10946,10945),this.mirroringShapeCharacters.setValue(10947,10948),this.mirroringShapeCharacters.setValue(10948,10947),this.mirroringShapeCharacters.setValue(10949,10950),this.mirroringShapeCharacters.setValue(10950,10949),this.mirroringShapeCharacters.setValue(10957,10958),this.mirroringShapeCharacters.setValue(10958,10957),this.mirroringShapeCharacters.setValue(10959,10960),this.mirroringShapeCharacters.setValue(10960,10959),this.mirroringShapeCharacters.setValue(10961,10962),this.mirroringShapeCharacters.setValue(10962,10961),this.mirroringShapeCharacters.setValue(10963,10964),this.mirroringShapeCharacters.setValue(10964,10963),this.mirroringShapeCharacters.setValue(10965,10966),this.mirroringShapeCharacters.setValue(10966,10965),this.mirroringShapeCharacters.setValue(10974,8870),this.mirroringShapeCharacters.setValue(10979,8873),this.mirroringShapeCharacters.setValue(10980,8872),this.mirroringShapeCharacters.setValue(10981,8875),this.mirroringShapeCharacters.setValue(10988,10989),this.mirroringShapeCharacters.setValue(10989,10988),this.mirroringShapeCharacters.setValue(10999,11e3),this.mirroringShapeCharacters.setValue(11e3,10999),this.mirroringShapeCharacters.setValue(11001,11002),this.mirroringShapeCharacters.setValue(11002,11001),this.mirroringShapeCharacters.setValue(12296,12297),this.mirroringShapeCharacters.setValue(12297,12296),this.mirroringShapeCharacters.setValue(12298,12299),this.mirroringShapeCharacters.setValue(12299,12298),this.mirroringShapeCharacters.setValue(12300,12301),this.mirroringShapeCharacters.setValue(12301,12300),this.mirroringShapeCharacters.setValue(12302,12303),this.mirroringShapeCharacters.setValue(12303,12302),this.mirroringShapeCharacters.setValue(12304,12305),this.mirroringShapeCharacters.setValue(12305,12304),this.mirroringShapeCharacters.setValue(12308,12309),this.mirroringShapeCharacters.setValue(12309,12308),this.mirroringShapeCharacters.setValue(12310,12311),this.mirroringShapeCharacters.setValue(12311,12310),this.mirroringShapeCharacters.setValue(12312,12313),this.mirroringShapeCharacters.setValue(12313,12312),this.mirroringShapeCharacters.setValue(12314,12315),this.mirroringShapeCharacters.setValue(12315,12314),this.mirroringShapeCharacters.setValue(65288,65289),this.mirroringShapeCharacters.setValue(65289,65288),this.mirroringShapeCharacters.setValue(65308,65310),this.mirroringShapeCharacters.setValue(65310,65308),this.mirroringShapeCharacters.setValue(65339,65341),this.mirroringShapeCharacters.setValue(65341,65339),this.mirroringShapeCharacters.setValue(65371,65373),this.mirroringShapeCharacters.setValue(65373,65371),this.mirroringShapeCharacters.setValue(65375,65376),this.mirroringShapeCharacters.setValue(65376,65375),this.mirroringShapeCharacters.setValue(65378,65379),this.mirroringShapeCharacters.setValue(65379,65378)},t}(),_t=function(){function t(){this.types=[],this.textOrder=-1,this.rtlCharacterTypes=new Array(65536),this.L=0,this.LRE=1,this.LRO=2,this.R=3,this.AL=4,this.RLE=5,this.RLO=6,this.PDF=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.NSM=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this.charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.NSM,this.NSM,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.NSM,856,860,this.L,861,879,this.NSM,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.NSM,1159,1159,this.L,1160,1161,this.NSM,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.NSM,1442,1442,this.L,1443,1465,this.NSM,1466,1466,this.L,1467,1469,this.NSM,1470,1470,this.R,1471,1471,this.NSM,1472,1472,this.R,1473,1474,this.NSM,1475,1475,this.R,1476,1476,this.NSM,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.NSM,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.NSM,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.NSM,1649,1749,this.AL,1750,1756,this.NSM,1757,1757,this.AL,1758,1764,this.NSM,1765,1766,this.AL,1767,1768,this.NSM,1769,1769,this.ON,1770,1773,this.NSM,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.NSM,1810,1839,this.AL,1840,1866,this.NSM,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.NSM,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.NSM,2307,2363,this.L,2364,2364,this.NSM,2365,2368,this.L,2369,2376,this.NSM,2377,2380,this.L,2381,2381,this.NSM,2382,2384,this.L,2385,2388,this.NSM,2389,2401,this.L,2402,2403,this.NSM,2404,2432,this.L,2433,2433,this.NSM,2434,2491,this.L,2492,2492,this.NSM,2493,2496,this.L,2497,2500,this.NSM,2501,2508,this.L,2509,2509,this.NSM,2510,2529,this.L,2530,2531,this.NSM,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.NSM,2563,2619,this.L,2620,2620,this.NSM,2621,2624,this.L,2625,2626,this.NSM,2627,2630,this.L,2631,2632,this.NSM,2633,2634,this.L,2635,2637,this.NSM,2638,2671,this.L,2672,2673,this.NSM,2674,2688,this.L,2689,2690,this.NSM,2691,2747,this.L,2748,2748,this.NSM,2749,2752,this.L,2753,2757,this.NSM,2758,2758,this.L,2759,2760,this.NSM,2761,2764,this.L,2765,2765,this.NSM,2766,2785,this.L,2786,2787,this.NSM,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.NSM,2818,2875,this.L,2876,2876,this.NSM,2877,2878,this.L,2879,2879,this.NSM,2880,2880,this.L,2881,2883,this.NSM,2884,2892,this.L,2893,2893,this.NSM,2894,2901,this.L,2902,2902,this.NSM,2903,2945,this.L,2946,2946,this.NSM,2947,3007,this.L,3008,3008,this.NSM,3009,3020,this.L,3021,3021,this.NSM,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.NSM,3137,3141,this.L,3142,3144,this.NSM,3145,3145,this.L,3146,3149,this.NSM,3150,3156,this.L,3157,3158,this.NSM,3159,3259,this.L,3260,3260,this.NSM,3261,3275,this.L,3276,3277,this.NSM,3278,3392,this.L,3393,3395,this.NSM,3396,3404,this.L,3405,3405,this.NSM,3406,3529,this.L,3530,3530,this.NSM,3531,3537,this.L,3538,3540,this.NSM,3541,3541,this.L,3542,3542,this.NSM,3543,3632,this.L,3633,3633,this.NSM,3634,3635,this.L,3636,3642,this.NSM,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.NSM,3663,3760,this.L,3761,3761,this.NSM,3762,3763,this.L,3764,3769,this.NSM,3770,3770,this.L,3771,3772,this.NSM,3773,3783,this.L,3784,3789,this.NSM,3790,3863,this.L,3864,3865,this.NSM,3866,3892,this.L,3893,3893,this.NSM,3894,3894,this.L,3895,3895,this.NSM,3896,3896,this.L,3897,3897,this.NSM,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.NSM,3967,3967,this.L,3968,3972,this.NSM,3973,3973,this.L,3974,3975,this.NSM,3976,3983,this.L,3984,3991,this.NSM,3992,3992,this.L,3993,4028,this.NSM,4029,4037,this.L,4038,4038,this.NSM,4039,4140,this.L,4141,4144,this.NSM,4145,4145,this.L,4146,4146,this.NSM,4147,4149,this.L,4150,4151,this.NSM,4152,4152,this.L,4153,4153,this.NSM,4154,4183,this.L,4184,4185,this.NSM,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.NSM,5909,5937,this.L,5938,5940,this.NSM,5941,5969,this.L,5970,5971,this.NSM,5972,6001,this.L,6002,6003,this.NSM,6004,6070,this.L,6071,6077,this.NSM,6078,6085,this.L,6086,6086,this.NSM,6087,6088,this.L,6089,6099,this.NSM,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.NSM,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.NSM,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.NSM,6314,6431,this.L,6432,6434,this.NSM,6435,6438,this.L,6439,6443,this.NSM,6444,6449,this.L,6450,6450,this.NSM,6451,6456,this.L,6457,6459,this.NSM,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.LRE,8235,8235,this.RLE,8236,8236,this.PDF,8237,8237,this.LRO,8238,8238,this.RLO,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.NSM,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.NSM,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.NSM,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.NSM,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.NSM,65040,65055,this.L,65056,65059,this.NSM,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(var t=0;t<this.charTypes.length;++t)for(var e=this.charTypes[t],i=this.charTypes[++t],r=this.charTypes[++t];e<=i;)this.rtlCharacterTypes[e++]=r}return t.prototype.getVisualOrder=function(t,e){this.types=this.getCharacterCode(t),this.textOrder=e?this.LRE:this.L,this.doVisualOrder();for(var i=[],r=0;r<this.levels.length;r++)i[r]=this.levels[r];return i},t.prototype.getCharacterCode=function(t){for(var e=[],i=0;i<t.length;i++)e[i]=this.rtlCharacterTypes[t[i].charCodeAt(0)];return e},t.prototype.setDefaultLevels=function(){for(var t=0;t<this.length;t++)this.levels[t]=this.textOrder},t.prototype.setLevels=function(){this.setDefaultLevels();for(var t=0;t<this.length;++t){var e=this.levels[t];0!=(128&e)&&(e&=127,this.result[t]=0==(1&e)?this.L:this.R),this.levels[t]=e}},t.prototype.updateLevels=function(t,e,i){if(0==(1&e))for(r=t;r<i;++r)this.result[r]===this.R?this.levels[r]+=1:this.result[r]!==this.L&&(this.levels[r]+=2);else for(var r=t;r<i;++r)this.result[r]!==this.R&&(this.levels[r]+=1)},t.prototype.doVisualOrder=function(){this.length=this.types.length,this.result=this.types,this.levels=[],this.setLevels(),this.length=this.getEmbeddedCharactersLength();for(var t=this.textOrder,e=0;e<this.length;){for(var i=this.levels[e],r=0==(1&Math.max(t,i))?this.L:this.R,n=e+1;n<this.length&&this.levels[n]===i;)++n;var o=n<this.length?this.levels[n]:this.textOrder,s=0==(1&Math.max(o,i))?this.L:this.R;this.checkNSM(e,n,i,r,s),this.updateLevels(e,i,n),t=i,e=n}this.checkEmbeddedCharacters(this.length)},t.prototype.getEmbeddedCharactersLength=function(){for(var t=0,e=0;e<this.length;++e)this.types[e]!==this.LRE&&this.types[e]!==this.RLE&&this.types[e]!==this.LRO&&this.types[e]!==this.RLO&&this.types[e]!==this.PDF&&this.types[e]!==this.BN&&(this.result[t]=this.result[e],this.levels[t]=this.levels[e],t++);return t},t.prototype.checkEmbeddedCharacters=function(t){for(e=this.types.length-1;e>=0;--e)this.types[e]===this.LRE||this.types[e]===this.RLE||this.types[e]===this.LRO||this.types[e]===this.RLO||this.types[e]===this.PDF||this.types[e]===this.BN?(this.result[e]=this.types[e],this.levels[e]=-1):(t-=1,this.result[e]=this.result[t],this.levels[e]=this.levels[t]);for(var e=0;e<this.types.length;e++)-1===this.levels[e]&&(this.levels[e]=0===e?this.textOrder:this.levels[e-1])},t.prototype.checkNSM=function(t,e,i,r,n){for(var o=r,s=t;s<e;++s)this.result[s]===this.NSM?this.result[s]=o:o=this.result[s];this.checkEuropeanDigits(t,e,i,r,n)},t.prototype.checkEuropeanDigits=function(t,e,i,r,n){for(var o=t;o<e;++o)if(this.result[o]===this.EN)for(var s=o-1;s>=t;--s)if(this.result[s]===this.L||this.result[s]===this.R||this.result[s]===this.AL){this.result[s]===this.AL&&(this.result[o]=this.AN);break}this.checkArabicCharacters(t,e,i,r,n)},t.prototype.checkArabicCharacters=function(t,e,i,r,n){for(var o=t;o<e;++o)this.result[o]===this.AL&&(this.result[o]=this.R);this.checkEuropeanNumberSeparator(t,e,i,r,n)},t.prototype.checkEuropeanNumberSeparator=function(t,e,i,r,n){for(var o=t+1;o<e-1;++o)if(this.result[o]===this.ES||this.result[o]===this.CS){var s=this.result[o-1],a=this.result[o+1];s===this.EN&&a===this.EN?this.result[o]=this.EN:this.result[o]===this.CS&&s===this.AN&&a===this.AN&&(this.result[o]=this.AN)}this.checkEuropeanNumberTerminator(t,e,i,r,n)},t.prototype.checkEuropeanNumberTerminator=function(t,e,i,r,n){for(var o=t;o<e;++o)if(this.result[o]===this.ET){var s=o,a=[];a.push(this.ET);var h=this.getLength(s,e,a),l=s===t?r:this.result[s-1];if(l!==this.EN&&(l=h===e?n:this.result[h]),l===this.EN)for(var u=s;u<h;++u)this.result[u]=this.EN;o=h}this.checkOtherNeutrals(t,e,i,r,n)},t.prototype.checkOtherNeutrals=function(t,e,i,r,n){for(var o=t;o<e;++o)this.result[o]!==this.ES&&this.result[o]!==this.ET&&this.result[o]!==this.CS||(this.result[o]=this.ON);this.checkOtherCharacters(t,e,i,r,n)},t.prototype.checkOtherCharacters=function(t,e,i,r,n){for(var o=t;o<e;++o)if(this.result[o]===this.EN){for(var s=r,a=o-1;a>=t;--a)if(this.result[a]===this.L||this.result[a]===this.R){s=this.result[a];break}s===this.L&&(this.result[o]=this.L)}this.checkCommanCharacters(t,e,i,r,n)},t.prototype.getLength=function(t,e,i){for(--t;++t<e;){for(var r=this.result[t],n=0;n<i.length;++n)r===i[n]&&(t=this.getLength(++t,e,i));return t}return e},t.prototype.checkCommanCharacters=function(t,e,i,r,n){for(var o=t;o<e;++o)if(this.result[o]===this.WS||this.result[o]===this.ON||this.result[o]===this.B||this.result[o]===this.S){var s=o,a=[this.B,this.S,this.WS,this.ON],h=this.getLength(s,e,a),l=0,u=0,c=0;s===t?l=r:(l=this.result[s-1])===this.AN?l=this.R:l===this.EN&&(l=this.R),h===e?u=n:(u=this.result[h])===this.AN?u=this.R:u===this.EN&&(u=this.R),c=l===u?l:0==(1&i)?this.L:this.R;for(var p=s;p<h;++p)this.result[p]=c;o=h}},t}(),Ut=function(){function e(){this.openBracket="(",this.closeBracket=")"}return e.prototype.layout=function(t,e,i,r,n){if(null==t)throw new Error("ArgumentNullException : line");if(null==e)throw new Error("ArgumentNullException : font");var o=[];return e.Unicode?o=this.customLayout(t,i,n,e,r):(o=[])[0]=t,o},e.prototype.splitLayout=function(t,e,i,r,n){if(null==t)throw new Error("ArgumentNullException : line");if(null==e)throw new Error("ArgumentNullException : font");return this.customSplitLayout(t,e,i,r,n)},e.prototype.getGlyphIndex=function(t,e,i,r,n){if(null==t)throw new Error("ArgumentNullException : line");if(null==e)throw new Error("ArgumentNullException : font");if(r=null,0===t.length)return{success:!1,glyphs:r};var o=(new Wt).shape(t,0),s=e.fontInternal.ttfReader;r=new Uint16Array(o.length);for(var a=0,h=0,l=o.length;h<l;h++){var u=o[h],c=s.getGlyph(u);null!==c&&void 0!==c&&(r[a++]=c.index)}return{success:!0,glyphs:r}},e.prototype.customLayout=function(e,i,r,n,o){if(null===o||void 0===o){if(null==e)throw new Error("ArgumentNullException : line");h=null;return null!==r&&r.textDirection!==t.PdfTextDirection.None&&(h=(new Ht).getLogicalToVisualString(e,i)),h}if(null==e)throw new Error("ArgumentNullException : line");if(null==n)throw new Error("ArgumentNullException : font");var s=null;if(null!==r&&r.textDirection!==t.PdfTextDirection.None){var a=(new Wt).shape(e,0);s=this.customLayout(a,i,r)}var h=[];if(o){for(var l=s.split(""),u=l.length,c=0;c<u;c++)l[c]=this.addChars(n,l[c]);h=l}else(h=[])[0]=this.addChars(n,s);return h},e.prototype.addChars=function(t,e){var i=e;if(null==t)throw new Error("ArgumentNullException : font");if(null==i)throw new Error("ArgumentNullException : line");var r=i,n=t.fontInternal.ttfReader;t.setSymbols(r),r=n.convertString(r);var o=P.toUnicodeArray(r,!1);return r=P.byteToString(o)},e.prototype.customSplitLayout=function(t,e,i,r,n){if(null==t)throw new Error("ArgumentNullException : line");if(null==e)throw new Error("ArgumentNullException : font");return this.customLayout(t,i,n).split("")},e}(),Kt=function(){function e(e,i,r){this.currentColorSpace=t.PdfColorSpace.Rgb,this.previousTextRenderingMode=t.TextRenderingMode.Fill,this.previousCharacterSpacing=0,this.previousWordSpacing=0,this.previousTextScaling=100,this.procedureSets=new it,this.isNormalRender=!0,this.isUseFontSize=!1,this.isItalic=!1,this.isEmfTextScaled=!1,this.isEmf=!1,this.isEmfPlus=!1,this.isBaselineFormat=!0,this.emfScalingFactor=new R(0,0),this.colorSpaceChanged=!1,this.dictionaryProperties=new a,this.isOverloadWithPosition=!1,this.isPointOverload=!1,this.currentColorSpaces=["RGB","CMYK","GrayScale","Indexed"],this.isImageOptimized=!1,this.graphicsState=[],this.istransparencySet=!1,this.internalAutomaticFields=null,this.startCutIndex=-1,this.getResources=i,this.canvasSize=e,this.pdfStreamWriter=r instanceof $?r:new $(r),this.initialize()}return Object.defineProperty(e.prototype,"stringLayoutResult",{get:function(){return this.pdfStringLayoutResult},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaBoxUpperRightBound",{get:function(){return void 0===this.internalMediaBoxUpperRightBound&&(this.internalMediaBoxUpperRightBound=0),this.internalMediaBoxUpperRightBound},set:function(t){this.internalMediaBoxUpperRightBound=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientSize",{get:function(){return new R(this.clipBounds.width,this.clipBounds.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.currentColorSpace},set:function(t){this.currentColorSpace=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"streamWriter",{get:function(){return this.pdfStreamWriter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return null==this.transformationMatrix&&(this.transformationMatrix=new tt),this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return this.pageLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pageLayer.page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"automaticFields",{get:function(){return null!=this.internalAutomaticFields&&void 0!==this.internalAutomaticFields||(this.internalAutomaticFields=new ot),this.internalAutomaticFields},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.bStateSaved=!1,this.currentPen=null,this.currentBrush=null,this.currentFont=null,this.currentColorSpace=t.PdfColorSpace.Rgb,this.bCSInitialized=!1,this.transformationMatrix=null,this.previousTextRenderingMode=-1,this.previousCharacterSpacing=-1,this.previousWordSpacing=-1,this.previousTextScaling=-100,this.currentStringFormat=null,this.clipBounds=new B(new j(0,0),this.size),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)},e.prototype.drawPdfTemplate=function(t,e,i){if(void 0===i){if(null==t)throw Error("ArgumentNullException-template");this.drawPdfTemplate(t,e,t.size)}else{if(null==t)throw Error("ArgumentNullException-template");var r=t.width>0?i.width/t.width:1,n=t.height>0?i.height/t.height:1,o=!(1===r&&1===n),s=this.save(),a=new tt;null!=this.pageLayer&&this.getTranslateTransform(e.x,e.y+i.height,a),o&&this.getScaleTransform(r,n,a),this.pdfStreamWriter.modifyCtm(a);var h=this.getResources.getResources().getName(t);this.pdfStreamWriter.executeObject(h),this.restore(s);var l=t.graphics;if(null!=l)for(var u=0;u<l.automaticFields.automaticFields.length;u++){var c=l.automaticFields.automaticFields[u],p=new j(c.location.x+e.x,c.location.y+e.y),d=0==t.size.width?0:i.width/t.size.width,f=0==t.size.height?0:i.height/t.size.height;this.automaticFields.add(new lt(c.field,p,d,f)),this.page.dictionary.modify()}this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI),this.getResources.getResources().requireProcedureSet(this.procedureSets.text)}},e.prototype.drawString=function(t,e,i,r,n,o,s,a,h){if("string"==typeof t&&e instanceof z&&(i instanceof Q||null===i)&&(r instanceof V||null===r)&&"number"==typeof n&&"number"==typeof o&&(s instanceof E||null===s)&&void 0===a)this.isOverloadWithPosition=!0,this.drawString(t,e,i,r,n,o,this.clientSize.width-n,0,s);else{var l=i,u=r,c=n,p=o,d=s,f=a,g=h,m=(new M).layout(t,e,g,new R(d,f),this.isOverloadWithPosition,this.clientSize);if(!m.empty){var y=this.checkCorrectLayoutRectangle(m.actualSize,c,p,g);d<=0&&(c=y.x,d=y.width),f<=0&&(p=y.y,f=y.height),this.drawStringLayoutResult(m,e,l,u,new B(c,p,d,f),g),this.isEmfTextScaled=!1,this.emfScalingFactor=new R(0,0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),this.isNormalRender=!0,this.pdfStringLayoutResult=m,this.isUseFontSize=!1}},e.prototype.drawLine=function(t,e,i,r,n){if(e instanceof j){var o=e,s=i;this.drawLine(t,o.x,o.y,s.x,s.y)}else{var o=e,s=i,a=r,h=n;this.stateControl(t,null,null);var l=this.streamWriter;l.beginPath(o,s),l.appendLineSegment(a,h),l.strokePath(),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}},e.prototype.drawRectangle=function(t,e,i,r,n,o){if(t instanceof Q&&"number"==typeof e){s=i;this.drawRectangle(t,null,e,s,r,n)}else if(t instanceof V&&"number"==typeof e){s=i;this.drawRectangle(null,t,e,s,r,n)}else{var s=i,a=r,h=n,l=o;e instanceof F&&e.color.isEmpty&&(e=null);var u=t,c=e;this.stateControl(u,c,null),this.streamWriter.appendRectangle(s,a,h,l),this.drawPath(u,c,!1)}},e.prototype.drawPath=function(e,i,r,n){if("boolean"==typeof r){var o=r;this.drawPath(e,i,t.PdfFillMode.Winding,o)}else{var s=null!=e,a=null!=i,h=(o=r)===t.PdfFillMode.Alternate;s&&a?this.streamWriter.fillStrokePath(h):s||a?s?this.streamWriter.strokePath():this.streamWriter.fillPath(h):this.streamWriter.endPath()}},e.prototype.drawImage=function(t,e,i,r,n){if("number"==typeof e&&"number"==typeof i&&void 0===r){var o=t.physicalDimension;this.drawImage(t,e,i,o.width,o.height)}else{var a=e,h=i,l=n;t.save();var u=new tt;this.getTranslateTransform(a,h+l,u),this.getScaleTransform(r,n,u),this.pdfStreamWriter.write("q"),this.pdfStreamWriter.modifyCtm(u);var c=this.getResources.getResources();void 0!==this.pageLayer&&null!=this.page&&(c.document=this.page.document);var p=c.getName(t);void 0!==this.pageLayer&&this.page.setResources(c),this.pdfStreamWriter.executeObject(p),this.pdfStreamWriter.write(s.restoreState),this.pdfStreamWriter.write(s.newLine);var d=this.getResources.getResources();d.requireProcedureSet(this.procedureSets.imageB),d.requireProcedureSet(this.procedureSets.imageC),d.requireProcedureSet(this.procedureSets.imageI),d.requireProcedureSet(this.procedureSets.text)}},e.prototype.getLineBounds=function(t,e,i,r,n){var o;if(!e.empty&&t<e.lineCount&&t>=0){var s=e.lines[t],a=this.getTextVerticalAlignShift(e.actualSize.height,r.height,n)+r.y+e.lineHeight*t,h=s.width,l=this.getHorizontalAlignShift(h,r.width,n),u=this.getLineIndent(s,n,r,0===t);l+=this.rightToLeft(n)?0:u;var c=r.x+l,p=this.shouldJustify(s,r.width,n)?r.width-u:h-u,d=e.lineHeight;o=new B(c,a,p,d)}else o=new B(0,0,0,0);return o},e.prototype.checkCorrectLayoutRectangle=function(e,i,r,n){var o=new B(i,r,e.width,e.width);if(null!=n){switch(n.alignment){case t.PdfTextAlignment.Center:o.x-=o.width/2;break;case t.PdfTextAlignment.Right:o.x-=o.width}switch(n.lineAlignment){case t.PdfVerticalAlignment.Middle:o.y-=o.height/2;break;case t.PdfVerticalAlignment.Bottom:o.y-=o.height}}return o},e.prototype.setLayer=function(t){this.pageLayer=t;var e=t.page;null!=e&&void 0!==e&&(e.beginSave=this.pageSave)},e.prototype.pageSave=function(t){if(null!=t.graphics.automaticFields)for(var e=0;e<t.graphics.automaticFields.automaticFields.length;e++){var i=t.graphics.automaticFields.automaticFields[e];i.field.performDraw(t.graphics,i.location,i.scalingX,i.scalingY)}},e.prototype.drawStringLayoutResult=function(e,i,r,n,o,s){if(e.empty)throw new Error("ArgumentNullException:result");this.applyStringSettings(i,r,n,s,o);var a=null!=s?s.horizontalScalingFactor:100;a===this.previousTextScaling||this.isEmfTextScaled||(this.pdfStreamWriter.setTextScaling(a),this.previousTextScaling=a);var h=null==s||0===s.lineSpacing?i.height:s.lineSpacing+i.height,l=0;l=null!=s&&s.subSuperScript===t.PdfSubSuperScript.SubScript?h-(i.height+i.metrics.getDescent(s)):h-i.metrics.getAscent(s),this.shift=l,this.pdfStreamWriter.startNextLine(o.x,o.y-l),this.pdfStreamWriter.setLeading(+h);for(var u=0,c="",p=0;p<e.lines.length;p++)if(u+=e.lineHeight,o.y+u>this.clientSize.height){this.startCutIndex=p;break}for(var d=this.startCutIndex;d<e.lines.length&&d>=0;d++)c+=e.lines[d].text;var f=new B(o.x,o.y,o.width,o.height);this.drawLayoutResult(e,i,s,o),this.underlineStrikeoutText(r,n,e,i,f,s),this.isEmfPlus=!1,this.isUseFontSize=!1,-1!==this.startCutIndex&&this.getNextPage().graphics.drawString(c,i,r,n,o.x,0,o.width,0,s)},e.prototype.getNextPage=function(){var t=this.currentPage.section,e=t.indexOf(this.currentPage);return e===t.count-1?t.add():t.getPages()[e+1]},e.prototype.setClip=function(e,i){void 0===i?this.setClip(e,t.PdfFillMode.Winding):(this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.clipPath(i===t.PdfFillMode.Alternate))},e.prototype.applyStringSettings=function(t,e,i,r,n){var o=this.getTextRenderingMode(e,i,r);this.stateControl(e,i,t,r),this.pdfStreamWriter.beginText(),o!==this.previousTextRenderingMode&&(this.pdfStreamWriter.setTextRenderingMode(o),this.previousTextRenderingMode=o);var s=null!=r?r.characterSpacing:0;s===this.previousCharacterSpacing||this.isEmfTextScaled||(this.pdfStreamWriter.setCharacterSpacing(s),this.previousCharacterSpacing=s);var a=null!=r?r.wordSpacing:0;a!==this.previousWordSpacing&&(this.pdfStreamWriter.setWordSpacing(a),this.previousWordSpacing=a)},e.prototype.getTextVerticalAlignShift=function(e,i,r){var n=0;if(i>=0&&null!=r&&r.lineAlignment!==t.PdfVerticalAlignment.Top)switch(r.lineAlignment){case t.PdfVerticalAlignment.Middle:n=(i-e)/2;break;case t.PdfVerticalAlignment.Bottom:n=i-e}return n},e.prototype.drawLayoutResult=function(t,e,i,r){var n=this.getTextVerticalAlignShift(t.actualSize.height,r.height,i);0!==n&&this.pdfStreamWriter.startNextLine(0,n);for(var o=e,s=null!=o&&o.isUnicode,a=(null!=o&&o.isEmbedFont,t.lines),h=0,l=a.length;h<l&&h!==this.startCutIndex;h++){var u=a[h],c=(u.text,u.width),p=this.getHorizontalAlignShift(c,r.width,i),d=this.getLineIndent(u,i,r,0===h);0===(p+=this.rightToLeft(i)?0:d)||this.isEmfTextScaled||this.pdfStreamWriter.startNextLine(p,0),s?this.drawUnicodeLine(u,r,e,i):this.drawAsciiLine(u,r,e,i),0===p||this.isEmfTextScaled||this.pdfStreamWriter.startNextLine(-p,0),this.isOverloadWithPosition&&a.length>1&&(this.pdfStreamWriter.startNextLine(-r.x,0),r.x=0,r.width=this.clientSize.width,this.isOverloadWithPosition=!1,this.isPointOverload=!0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),0!==n&&this.pdfStreamWriter.startNextLine(0,-(n-t.lineHeight)),this.pdfStreamWriter.endText()},e.prototype.drawAsciiLine=function(t,e,i,r){this.justifyLine(t,e.width,r);var n="";if(-1!==t.text.indexOf("(")||-1!==t.text.indexOf(")"))for(var o=0;o<t.text.length;o++)"("===t.text[o]?n+="\\(":")"===t.text[o]?n+="\\)":n+=t.text[o];""===n&&(n=t.text);var s="("+n+")";this.pdfStreamWriter.showNextLineText(new P(s))},e.prototype.drawUnicodeLine=function(e,i,r,n){var o=e.text,s=(e.width,null!==n&&n.rightToLeft),a=null!==n&&(0!==n.wordSpacing||n.alignment===t.PdfTextAlignment.Justify),h=r,l=this.justifyLine(e,i.width,n),u=new Ut;if(s||null!==n&&n.textDirection!==t.PdfTextDirection.None){var c=null,p=null!==n&&n.alignment===t.PdfTextAlignment.Right,d=null;d=(c=null!==n&&n.textDirection!==t.PdfTextDirection.None?u.layout(o,h,n.textDirection===t.PdfTextDirection.RightToLeft,a,n):u.layout(o,h,p,a,n)).length>1?null!==n&&n.textDirection!==t.PdfTextDirection.None?u.splitLayout(o,h,n.textDirection===t.PdfTextDirection.RightToLeft,a,n):u.splitLayout(o,h,p,a,n):[o],this.drawUnicodeBlocks(c,d,h,n,l)}else if(a){var f=this.breakUnicodeLine(o,h,null),c=f.tokens,d=f.words;this.drawUnicodeBlocks(c,d,h,n,l)}else{var g=this.convertToUnicode(o,h),m=this.getUnicodeString(g);this.streamWriter.showNextLineText(m)}},e.prototype.drawUnicodeBlocks=function(t,e,i,r,n){if(null==t)throw new Error("Argument Null Exception : blocks");if(null==e)throw new Error("Argument Null Exception : words");if(null==i)throw new Error("Argument Null Exception : font");this.streamWriter.startNextLine();var o=0,s=0,a=0,h=0;try{null!==r&&(a=r.firstLineIndent,h=r.paragraphIndent,r.firstLineIndent=0,r.paragraphIndent=0);var l=i.getCharWidth(A.whiteSpace,r)+n,u=null!=r?r.characterSpacing:0;l+=u+(null!==r&&0===n?r.wordSpacing:0);for(var c=0;c<t.length;c++){var p=t[c],d=e[c],f=0;if(0!==o&&this.streamWriter.startNextLine(o,0),d.length>0){f+=i.measureString(d,r).width,f+=u;var g=this.getUnicodeString(p);this.streamWriter.showText(g)}c!==t.length-1&&(s+=o=f+l)}s>0&&this.streamWriter.startNextLine(-s,0)}finally{null!==r&&(r.firstLineIndent=a,r.paragraphIndent=h)}},e.prototype.breakUnicodeLine=function(t,e,i){if(null===t)throw new Error("Argument Null Exception : line");i=t.split(null);for(var r=[],n=0;n<i.length;n++){var o=i[n],s=this.convertToUnicode(o,e);r[n]=s}return{tokens:r,words:i}},e.prototype.getUnicodeString=function(e){if(null===e)throw new Error("Argument Null Exception : token");var i=new P(e);return i.converted=!0,i.encode=t.InternalEnum.ForceEncoding.Ascii,i},e.prototype.convertToUnicode=function(t,e){var i=null;if(null==t)throw new Error("Argument Null Exception : text");if(null==e)throw new Error("Argument Null Exception : ttfFont");if(e.fontInternal instanceof zt){var r=e.fontInternal.ttfReader;e.setSymbols(t),i=r.convertString(t);var n=P.toUnicodeArray(i,!1);i=P.byteToString(n)}return i},e.prototype.justifyLine=function(t,e,i){var r=t.text,n=t.width,o=this.shouldJustify(t,e,i),s=null!=i&&0!==i.wordSpacing,a=A.spaces,h=A.getCharsCount(r,a),l=0;return o?(s&&(n-=h*i.wordSpacing),l=(e-n)/h,this.pdfStreamWriter.setWordSpacing(l)):s?this.pdfStreamWriter.setWordSpacing(i.wordSpacing):this.pdfStreamWriter.setWordSpacing(0),l},e.prototype.reset=function(t){this.canvasSize=t,this.streamWriter.clear(),this.initialize(),this.initializeCoordinates()},e.prototype.shouldJustify=function(e,i,r){var n=e.text,o=e.width,s=null!=r&&r.alignment===t.PdfTextAlignment.Justify,a=i>=0&&o<i,h=A.spaces,l=A.getCharsCount(n,h)>0&&n[0]!==A.whiteSpace,u=(e.lineType&t.LineType.LayoutBreak)>0;return s&&a&&l&&(u||r.alignment===t.PdfTextAlignment.Justify)},e.prototype.underlineStrikeoutText=function(t,e,i,r,n,o){if(r.underline||r.strikeout){var s=this.createUnderlineStikeoutPen(t,e,r,o);if(null!=s){var a=this.getTextVerticalAlignShift(i.actualSize.height,n.height,o),h=0;h=n.y+a+r.metrics.getAscent(o)+1.5*s.width;for(var l=n.y+a+r.metrics.getHeight(o)/2+1.5*s.width,u=i.lines,c=0,p=i.lineCount;c<p;c++){var d=u[c],f=(d.text,d.width),g=this.getHorizontalAlignShift(f,n.width,o),m=this.getLineIndent(d,o,n,0===c);g+=this.rightToLeft(o)?0:m;var y=n.x+g,b=this.shouldJustify(d,n.width,o)?y+n.width-m:y+f-m;if(r.underline){w=h;this.drawLine(s,y,w,b,w),h+=i.lineHeight}if(r.strikeout){var w=l;this.drawLine(s,y,w,b,w),l+=i.lineHeight}this.isPointOverload&&u.length>1&&(n.x=0,n.width=this.clientSize.width)}this.isPointOverload=!1}}},e.prototype.createUnderlineStikeoutPen=function(t,e,i,r){var n=i.metrics.getSize(r)/20,o=null;return null!=t?o=new Q(t.color,n):null!=e&&(o=new Q(e,n)),o},e.prototype.getTextRenderingMode=function(e,i,r){var n=t.TextRenderingMode.None;return n=null!=e&&null!=i?t.TextRenderingMode.FillStroke:null!=e?t.TextRenderingMode.Stroke:t.TextRenderingMode.Fill,null!=r&&r.clipPath&&(n|=t.TextRenderingMode.ClipFlag),n},e.prototype.getLineIndent=function(e,i,r,n){var o=0,s=(e.lineType&t.LineType.FirstParagraphLine)>0;return null!=i&&s&&(o=n?i.firstLineIndent:i.paragraphIndent,o=r.width>0?Math.min(r.width,o):o),o},e.prototype.getHorizontalAlignShift=function(e,i,r){var n=0;if(i>=0&&null!=r&&r.alignment!==t.PdfTextAlignment.Left)switch(r.alignment){case t.PdfTextAlignment.Center:n=(i-e)/2;break;case t.PdfTextAlignment.Right:n=i-e}return n},e.prototype.rightToLeft=function(e){var i=null!=e&&e.rightToLeft;return null!==e&&void 0!==e&&e.textDirection!==t.PdfTextDirection.None&&void 0!==e.textDirection&&(i=!0),i},e.prototype.stateControl=function(t,e,i,r){if(void 0===r)this.stateControl(t,e,i,null);else{null!==e?(void 0!==this.pageLayer&&null!=this.pageLayer&&!1===this.colorSpaceChanged&&(this.lastDocumentCS=this.pageLayer.page.document.colorSpace,this.lastGraphicsCS=this.pageLayer.page.graphics.colorSpace,this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace,this.colorSpaceChanged=!0),this.initCurrentColorSpace(this.currentColorSpace)):null!=t&&(void 0!==this.pageLayer&&null!=this.pageLayer&&(this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace),this.initCurrentColorSpace(this.currentColorSpace)),this.penControl(t,!1),this.brushControl(e,!1),this.fontControl(i,r,!1)}},e.prototype.initCurrentColorSpace=function(t){this.getResources.getResources();this.bCSInitialized||(this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!0),this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!1),this.bCSInitialized=!0)},e.prototype.penControl=function(e,i){null!=e&&(this.currentPen=e,this.colorSpace=t.PdfColorSpace.Rgb,e.monitorChanges(this.currentPen,this.pdfStreamWriter,this.getResources,i,this.colorSpace,this.matrix.clone()),this.currentPen=e.clone())},e.prototype.brushControl=function(t,e){null!=t&&(this.currentBrush=t,t.monitorChanges(this.currentBrush,this.pdfStreamWriter,this.getResources,e,this.colorSpace),this.currentBrush=t,t=null)},e.prototype.fontControl=function(e,i,r){if(null!=e){var n=null!=i?i.subSuperScript:t.PdfSubSuperScript.None,o=null!=this.currentStringFormat?this.currentStringFormat.subSuperScript:t.PdfSubSuperScript.None;if(r||e!==this.currentFont||n!==o){var s=this.getResources.getResources();this.currentFont=e,this.currentStringFormat=i;var a=e.metrics.getSize(i);this.isEmfTextScaled=!1;var h=s.getName(e);this.pdfStreamWriter.setFont(e,h,a)}}},e.prototype.setTransparency=function(e,i,r){if(void 0===i)this.istransparencySet=!0,this.setTransparency(e,e,t.PdfBlendMode.Normal);else if("number"==typeof i&&void 0===r)this.setTransparency(e,i,t.PdfBlendMode.Normal);else{null==this.trasparencies&&(this.trasparencies=new rt);var n=null,o=new Yt(e,i,r);this.trasparencies.containsKey(o)&&(n=this.trasparencies.getValue(o)),null==n&&(n=new nt(e,i,r),this.trasparencies.setValue(o,n));var s=this.getResources.getResources().getName(n);this.streamWriter.setGraphicsState(s)}},e.prototype.clipTranslateMargins=function(t,e,i,r,n,o){if(t instanceof B&&void 0===e)this.clipBounds=t,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(t),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(t.x,t.y);else if("number"==typeof t){var s=new B(i,r,this.size.width-i-n,this.size.height-r-o);this.clipBounds=s,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(s),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(t,e)}},e.prototype.updateY=function(t){return-t},e.prototype.translateTransform=function(t,e){var i=new tt;this.getTranslateTransform(t,e,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},e.prototype.getTranslateTransform=function(t,e,i){return i.translate(t,this.updateY(e)),i},e.prototype.scaleTransform=function(t,e){var i=new tt;this.getScaleTransform(t,e,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},e.prototype.getScaleTransform=function(t,e,i){return null==i&&(i=new tt),i.scale(t,e),i},e.prototype.rotateTransform=function(t){var e=new tt;this.getRotateTransform(t,e),this.pdfStreamWriter.modifyCtm(e),this.matrix.multiply(e)},e.prototype.initializeCoordinates=function(){this.pdfStreamWriter.writeComment("Change co-ordinate system to left/top."),this.mediaBoxUpperRightBound!==-this.size.height&&null==this.cropBox&&(this.mediaBoxUpperRightBound===this.size.height||0===this.mediaBoxUpperRightBound?this.translateTransform(0,this.updateY(this.size.height)):this.translateTransform(0,this.updateY(this.mediaBoxUpperRightBound)))},e.prototype.getRotateTransform=function(t,e){return null!=e&&void 0!==e||(e=new tt),e.rotate(this.updateY(t)),e},e.prototype.save=function(){var t=new Xt(this,this.matrix.clone());return t.brush=this.currentBrush,t.pen=this.currentPen,t.font=this.currentFont,t.colorSpace=this.currentColorSpace,t.characterSpacing=this.previousCharacterSpacing,t.wordSpacing=this.previousWordSpacing,t.textScaling=this.previousTextScaling,t.textRenderingMode=this.previousTextRenderingMode,this.graphicsState.push(t),this.pdfStreamWriter.saveGraphicsState(),t},e.prototype.restore=function(t){if(void 0===t)this.graphicsState.length>0&&this.doRestoreState();else if(-1!==this.graphicsState.indexOf(t))for(;0!==this.graphicsState.length&&this.doRestoreState()!==t;);},e.prototype.doRestoreState=function(){var t=this.graphicsState.pop();return this.transformationMatrix=t.matrix,this.currentBrush=t.brush,this.currentPen=t.pen,this.currentFont=t.font,this.currentColorSpace=t.colorSpace,this.previousCharacterSpacing=t.characterSpacing,this.previousWordSpacing=t.wordSpacing,this.previousTextScaling=t.textScaling,this.previousTextRenderingMode=t.textRenderingMode,this.pdfStreamWriter.restoreGraphicsState(),t},e.pathTypesValuesMask=15,e.transparencyObject=!1,e}(),Jt=function(){function t(t){this.sender=t}return t.prototype.getResources=function(){return this.sender.getResources()},t}(),Xt=function(){function e(e,i){this.internalTextRenderingMode=t.TextRenderingMode.Fill,this.internalCharacterSpacing=0,this.internalWordSpacing=0,this.internalTextScaling=100,this.pdfColorSpace=t.PdfColorSpace.Rgb,void 0!==e&&(this.pdfGraphics=e,this.transformationMatrix=i)}return Object.defineProperty(e.prototype,"graphics",{get:function(){return this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"characterSpacing",{get:function(){return this.internalCharacterSpacing},set:function(t){this.internalCharacterSpacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordSpacing",{get:function(){return this.internalWordSpacing},set:function(t){this.internalWordSpacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textScaling",{get:function(){return this.internalTextScaling},set:function(t){this.internalTextScaling=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pen",{get:function(){return this.pdfPen},set:function(t){this.pdfPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brush",{get:function(){return this.pdfBrush},set:function(t){this.pdfBrush=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.pdfFont},set:function(t){this.pdfFont=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(t){this.pdfColorSpace=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textRenderingMode",{get:function(){return this.internalTextRenderingMode},set:function(t){this.internalTextRenderingMode=t},enumerable:!0,configurable:!0}),e}(),Yt=function(){function t(t,e,i){this.alphaPen=t,this.alphaBrush=e,this.blendMode=i}return t}(),qt=function(){function e(e,i){if(this.pdfColorSpace=t.PdfColorSpace.Rgb,this.isVisible=!0,this.sublayer=!1,this.contentLength=0,this.dictionaryProperties=new a,null===e)throw new Error("ArgumentNullException:page");if(this.pdfPage=e,this.clipPageTemplates=!0,void 0===i)this.content=new b;else if(i instanceof b||null===i){if(null===i)throw new Error("ArgumentNullException:stream");this.content=i}else this.content=new b,this.clipPageTemplates=i}return Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(t){this.pdfColorSpace=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layerId",{get:function(){return this.layerid},set:function(t){this.layerid=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.layerName},set:function(t){this.layerName=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.isVisible},set:function(t){this.isVisible=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){return null==this.pdfGraphics&&this.initializeGraphics(this.page),this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layers",{get:function(){return null==this.layer?(this.layer=new Qt(this.page),this.layer.sublayer=!0,this.layer):this.layer},enumerable:!0,configurable:!0}),e.prototype.add=function(){var t=new e(this.pdfPage);return t.name="",t},e.prototype.sign=function(t){return 0===t?0:t>0?1:-1},e.prototype.initializeGraphics=function(t){var e=t,i=new Jt(this.page);if(this.pdfGraphics=new Kt(t.size,i,this.content),this.pdfGraphics.mediaBoxUpperRightBound=0,null!=e){var r=e.section.parent;null!=r&&(this.pdfGraphics.colorSpace=r.document.colorSpace,this.colorSpace=r.document.colorSpace)}var n=this.sign(t.origin.y)===this.sign(t.origin.x);(t.origin.x>=0&&t.origin.y>=0||!n)&&this.pdfGraphics.initializeCoordinates();var o=e.section.getActualBounds(e,!0),s=e.section.pageSettings.margins;this.clipPageTemplates?t.origin.x>=0&&t.origin.y>=0&&this.pdfGraphics.clipTranslateMargins(o):this.graphics.clipTranslateMargins(o.x,o.y,s.left,s.top,s.right,s.bottom),this.pdfGraphics.setLayer(this)},Object.defineProperty(e.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),e}(),Zt=function(){function t(){}return Object.defineProperty(t.prototype,"count",{get:function(){return void 0===this.collection&&(this.collection=[]),this.collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"list",{get:function(){return void 0===this.collection&&(this.collection=[]),this.collection},enumerable:!0,configurable:!0}),t}(),$t=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Qt=function(t){function e(e){var i=t.call(this)||this;if(i.parentLayerCount=0,i.sublayer=!1,i.optionalContent=new h,e instanceof ne){i.page=e;var r=e;i.parseLayers(r)}return i}return $t(e,t),e.prototype.items=function(t,e){if("number"==typeof t&&void 0===e)return this.list[t];if(null==e)throw new Error("ArgumentNullException: layer");if(e.page!==this.page)throw new Error("ArgumentException: The layer belongs to another page")},e.prototype.add=function(t,e){if(void 0===t){var i=new qt(this.page);return i.name="",this.add(i),i}if(t instanceof qt){var r=this.list.push(t);return this.addLayer(r,t),r}return 0},e.prototype.addLayer=function(t,e){var i=new C(e);this.page.contents.add(i)},e.prototype.insert=function(t,e){for(var i=[],r=this.list.length,n=t;n<r;n++)i.push(this.list.pop());this.list.push(e);for(n=0;n<i.length;n++)this.list.push(i[n]);this.insertLayer(t,e)},e.prototype.insertLayer=function(t,e){if(null==e)throw new Error("ArgumentNullException:layer");var i=new C(e);this.page.contents.insert(t,i)},e.prototype.parseLayers=function(t){var e=this.page.contents;this.page.getResources();t.crossTable;var i=new b,r=new b,n=[];n.push("q"),i.data=n,e.insert(0,new C(i)),(n=[]).push("Q"),r.data=n,e.insert(e.count,new C(r))},e.prototype.indexOf=function(t){if(null==t)throw new Error("ArgumentNullException: layer");return this.list.indexOf(t)},e}(Zt),te=function(){function t(t,e){if(this.dictionaryProperties=new a,this.writeTransformation=!0,void 0===t);else if(t instanceof R&&void 0===e){this.content=new b;var i=new R(t.width,t.height);this.setSize(i),this.initialize()}else this.content=new b,this.setSize(new R(t,e)),this.initialize()}return Object.defineProperty(t.prototype,"size",{get:function(){return this.templateSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"graphics",{get:function(){if(null==this.pdfGraphics||void 0===this.pdfGraphics){var t=new Jt(this),e=new Kt(this.size,t,this.content);this.pdfGraphics=e,this.pdfGraphics.initializeCoordinates()}return this.pdfGraphics},enumerable:!0,configurable:!0}),t.prototype.getResources=function(){return null==this.resources&&(this.resources=new ie,this.content.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},t.prototype.initialize=function(){this.addType(),this.addSubType()},t.prototype.addType=function(){var t=new o(this.dictionaryProperties.xObject);this.content.items.setValue(this.dictionaryProperties.type,t)},t.prototype.addSubType=function(){var t=new o(this.dictionaryProperties.form);this.content.items.setValue(this.dictionaryProperties.subtype,t)},t.prototype.reset=function(t){void 0===t?(null!=this.resources&&(this.resources=null,this.content.remove(this.dictionaryProperties.resources)),null!=this.graphics&&this.graphics.reset(this.size)):(this.setSize(t),this.reset())},t.prototype.setSize=function(t){var e=new B(new j(0,0),t),i=m.fromRectangle(e);this.content.items.setValue(this.dictionaryProperties.bBox,i),this.templateSize=t},Object.defineProperty(t.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),t}(),ee=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ie=function(t){function e(e){var i=t.call(this,e)||this;return i.properties=new h,i}return ee(e,t),Object.defineProperty(e.prototype,"names",{get:function(){return this.getNames()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},set:function(t){this.pdfDocument=t},enumerable:!0,configurable:!0}),e.prototype.getName=function(t){var e=t.element,i=null;if(this.names.containsKey(e)&&(i=this.names.getValue(e)),null==i){var r=this.generateName();i=new o(r),this.names.setValue(e,i),t instanceof z?this.add(t,i):t instanceof te?this.add(t,i):t instanceof nt?this.add(t,i):(t instanceof ft||t instanceof mt)&&this.add(t,i)}return i},e.prototype.getNames=function(){null==this.pdfNames&&(this.pdfNames=new rt);var t=this.items.getValue(this.dictionaryProperties.font);if(null!=t){J.dereference(t)}return this.pdfNames},e.prototype.requireProcedureSet=function(t){if(null==t)throw new Error("ArgumentNullException:procedureSetName");var e=this.items.getValue(this.dictionaryProperties.procset);null==e&&(e=new m,this.items.setValue(this.dictionaryProperties.procset,e));var i=new o(t);e.contains(i)||e.add(i)},e.prototype.removeFont=function(t){for(var e=null,i=this.pdfNames.keys(),r=0;r<this.pdfNames.size();r++)if(this.pdfNames.getValue(i[r])===new o(t)){e=i[r];break}null!=e&&this.pdfNames.remove(e)},e.prototype.generateName=function(){return re.getNewGuidString()},e.prototype.add=function(t,e){if(t instanceof z){var i=null,r=this.items.getValue(this.dictionaryProperties.font);if(null!=r){d=r;i=r,i=r}else i=new h,this.items.setValue(this.dictionaryProperties.font,i);i.items.setValue(e.value,new C(t.element))}else if(t instanceof te){s=void 0;null==(s=this.items.getValue(this.dictionaryProperties.xObject))&&(s=new h,this.items.setValue(this.dictionaryProperties.xObject,s)),s.items.setValue(e.value,new C(t.element))}else if(t instanceof V);else if(t instanceof nt){var n=t.element,o=null;null==(o=this.items.getValue(this.dictionaryProperties.extGState))&&(o=new h,this.items.setValue(this.dictionaryProperties.extGState,o)),o.items.setValue(e.value,new C(n))}else{var s=this.Dictionary.items.getValue(this.dictionaryProperties.xObject),a=void 0;void 0!==this.pdfDocument&&(a=this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject));this.Dictionary.items.values();var l=!1,u=void 0;if(void 0===this.pdfDocument||void 0!==typeof a&&null!=a){if(void 0!==this.pdfDocument)for(var c=a.items.values(),p=0;p<c.length;p++)void 0!==c[p]&&void 0!==c[p].element&&c[p].element.data[0]===t.element.data[0]&&(u=c[p],l=!0)}else a=new h,this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject,a);if(null==s&&(s=new h,this.Dictionary.items.setValue(this.dictionaryProperties.xObject,s)),l&&void 0!==u)s.items.setValue(e.value,u);else{var d=new C(t.element);s.items.setValue(e.value,d),void 0!==this.pdfDocument&&a.items.setValue(e.value,d)}}},e}(h),re=function(){function t(){}return t.getNewGuidString=function(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,function(t){var e=16*Math.random()|0;return("a"===t?e:3&e|8).toString(16)})},t}(),ne=function(){function t(t){this.defLayerIndex=-1,this.modified=!1,this.dictionaryProperties=new a,this.pageDictionary=t}return Object.defineProperty(t.prototype,"section",{get:function(){return this.pdfSection},set:function(t){this.pdfSection=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dictionary",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultLayer",{get:function(){var t=this.layers,e=this.defaultLayerIndex;return t.items(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultLayerIndex",{get:function(){if(0===this.layerCollection.count||-1===this.defLayerIndex){var t=this.layerCollection.add();this.defLayerIndex=this.layerCollection.indexOf(t)}return this.defLayerIndex},set:function(t){if(t<0||t>this.layers.count-1)throw new Error("ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1");this.defLayerIndex=t,this.modified=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layers",{get:function(){return null!=this.layerCollection&&void 0!==this.layerCollection||(this.layerCollection=new Qt(this)),this.layerCollection},enumerable:!0,configurable:!0}),t.prototype.getResources=function(){return null==this.resources&&(this.resources=new ie,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},Object.defineProperty(t.prototype,"contents",{get:function(){var t=this.pageDictionary.items.getValue(this.dictionaryProperties.contents);return null==t&&(t=new m,this.pageDictionary.items.setValue(this.dictionaryProperties.contents,t)),t},enumerable:!0,configurable:!0}),t.prototype.setResources=function(t){this.resources=t,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources),this.modified=!0},t}(),oe=function(){function e(t){this.alreadyExistsAnnotationError="This annotatation had been already added to page",this.missingAnnotationException="Annotation is not contained in collection.",this.dictionaryProperties=new a,this.internalAnnotations=new m,this.lists=[],void 0!==t&&(this.page=t)}return Object.defineProperty(e.prototype,"annotations",{get:function(){return this.internalAnnotations},set:function(t){this.internalAnnotations=t},enumerable:!0,configurable:!0}),e.prototype.add=function(t){this.doAdd(t)},e.prototype.doAdd=function(t){if(void 0===t.destination)return t.setPage(this.page),this.internalAnnotations.add(new C(t)),this.lists.push(t);var e=(new M).layout(t.text,t.font,t.stringFormat,new R(t.bounds.width,0),!1,new R(0,0)),i=t.bounds.y;if(1===e.lines.length){n=t.font.measureString(e.lines[0].text);t.bounds=new B(new j(t.bounds.x,i),n),t.text=e.lines[0].text,this.page.graphics.drawString(t.text,t.font,null,t.brush,t.bounds.x,t.bounds.y,t.bounds.width,t.bounds.height,null),t.setPage(this.page),this.setColor(t),this.internalAnnotations.add(new C(t)),this.lists.push(t)}else for(var r=0;r<e.lines.length;r++){var n=t.font.measureString(e.lines[r].text);if(0===r)t.bounds=new B(t.bounds.x,i,n.width,n.height),t.text=e.lines[r].text,this.page.graphics.drawString(t.text,t.font,null,t.brush,t.bounds.x,i,n.width,n.height,null),t.setPage(this.page),this.setColor(t),this.internalAnnotations.add(new C(t)),this.lists.push(t),i+=t.bounds.height;else{var o=t.clone();o.bounds=new B(new j(t.bounds.x,i),n),o.text=e.lines[r].text,this.page.graphics.drawString(o.text,o.font,null,o.brush,o.bounds.x,o.bounds.y,o.bounds.width,o.bounds.height,null),o.setPage(this.page),this.setColor(o),this.internalAnnotations.add(new C(o)),this.lists.push(o),i+=o.bounds.height}}},e.prototype.setColor=function(e){var i=t.PdfColorSpace.Rgb,r=e.color.toArray(i);e.dictionary.items.setValue(this.dictionaryProperties.c,r)},Object.defineProperty(e.prototype,"element",{get:function(){return this.internalAnnotations},enumerable:!0,configurable:!0}),e}(),se=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ae=function(t){function e(){var e=t.call(this,new h)||this;return e.annotationCollection=null,e.beginSave=null,e.initialize(),e}return se(e,t),Object.defineProperty(e.prototype,"document",{get:function(){return null!==this.section&&null!==this.section.parent?this.section.parent.document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){var t=this.defaultLayer.graphics;return t.currentPage=this,t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crossTable",{get:function(){if(null===this.section)throw new Error("PdfDocumentException : Page is not created");return null===this.section.parent?this.section.parentDocument.crossTable:this.section.parent.document.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.section.pageSettings.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.section.pageSettings.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"annotations",{get:function(){return null==this.annotationCollection&&(this.annotationCollection=new oe(this),this.dictionary.items.setValue(this.dictionaryProperties.annots,this.annotationCollection.element),this.annotationCollection.annotations=this.dictionary.items.getValue(this.dictionaryProperties.annots)),this.annotationCollection},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.dictionary.items.setValue(this.dictionaryProperties.type,new o("Page")),this.dictionary.pageBeginDrawTemplate=new f(this)},e.prototype.setSection=function(t){this.section=t,this.dictionary.items.setValue(this.dictionaryProperties.parent,new C(t))},e.prototype.resetProgress=function(){this.isProgressOn=!1},e.prototype.getClientSize=function(){var t=this.section.getActualBounds(this,!0);return new R(t.width,t.height)},e.prototype.pageBeginSave=function(){var t=this.document;void 0!==typeof t&&null!=t&&this.drawPageTemplates(t),null!=this.beginSave&&void 0!==this.beginSave&&this.beginSave(this)},e.prototype.drawPageTemplates=function(t){if(this.section.containsTemplates(t,this,!1)){var e=new qt(this,!1);if(this.layers.insert(0,e),this.section.drawTemplates(this,e,t,!1),null!==e.graphics&&void 0!==e.graphics)for(var i=0;i<e.graphics.automaticFields.automaticFields.length;i++){var r=e.graphics.automaticFields.automaticFields[i];r.field.performDraw(e.graphics,r.location,r.scalingX,r.scalingY)}}if(this.section.containsTemplates(t,this,!0)){var n=new qt(this,!1);this.layers.add(n),this.section.drawTemplates(this,n,t,!0)}},e}(ne),he=function(){function t(t){this.pdfPage=void 0!==t?t:null}return Object.defineProperty(t.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),t}(),le=function(){function t(t){if(this.pdfSection=null,null==t)throw Error('ArgumentNullException("section")');this.section=t}return Object.defineProperty(t.prototype,"section",{get:function(){return this.pdfSection},set:function(t){this.pdfSection=t},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){return this.section.contains(t)},t.prototype.remove=function(t){this.section.remove(t)},t.prototype.add=function(){return this.section.add()},t}(),ue=function(){function e(){}return Object.defineProperty(e.prototype,"left",{get:function(){return this.leftTemplate},set:function(e){this.leftTemplate=this.checkElement(e,t.TemplateType.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.topTemplate},set:function(e){this.topTemplate=this.checkElement(e,t.TemplateType.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.rightTemplate},set:function(e){this.rightTemplate=this.checkElement(e,t.TemplateType.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.bottomTemplate},set:function(e){this.bottomTemplate=this.checkElement(e,t.TemplateType.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenLeft",{get:function(){return this.evenLeft},set:function(e){this.evenLeft=this.checkElement(e,t.TemplateType.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenTop",{get:function(){return this.evenTop},set:function(e){this.evenTop=this.checkElement(e,t.TemplateType.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenRight",{get:function(){return this.evenRight},set:function(e){this.evenRight=this.checkElement(e,t.TemplateType.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EvenBottom",{get:function(){return this.evenBottom},set:function(e){this.evenBottom=this.checkElement(e,t.TemplateType.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddLeft",{get:function(){return this.oddLeft},set:function(e){this.oddLeft=this.checkElement(e,t.TemplateType.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddTop",{get:function(){return this.oddTop},set:function(e){this.oddTop=this.checkElement(e,t.TemplateType.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddRight",{get:function(){return this.oddRight},set:function(e){this.oddRight=this.checkElement(e,t.TemplateType.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OddBottom",{get:function(){return this.oddBottom},set:function(e){this.oddBottom=this.checkElement(e,t.TemplateType.Bottom)},enumerable:!0,configurable:!0}),e.prototype.getLeft=function(t){if(null==t)throw new Error("ArgumentNullException:page");return this.isEven(t)?null!=this.EvenLeft?this.EvenLeft:this.left:null!=this.OddLeft?this.OddLeft:this.left},e.prototype.getTop=function(t){if(null==t)throw new Error("ArgumentNullException:page");return this.isEven(t)?null!=this.EvenTop?this.EvenTop:this.top:null!=this.OddTop?this.OddTop:this.top},e.prototype.getRight=function(t){if(null==t)throw new Error("ArgumentNullException:page");return this.isEven(t)?null!=this.EvenRight?this.EvenRight:this.right:null!=this.OddRight?this.OddRight:this.right},e.prototype.getBottom=function(t){if(null==t)throw new Error("ArgumentNullException:page");return this.isEven(t)?null!=this.EvenBottom?this.EvenBottom:this.bottom:null!=this.OddBottom?this.OddBottom:this.bottom},e.prototype.isEven=function(t){var e=t.section.document.pages;return(e.pageCollectionIndex.containsKey(t)?e.pageCollectionIndex.getValue(t)+1:e.indexOf(t)+1)%2==0},e.prototype.checkElement=function(e,i){if(null!=e){if(void 0!==e.type&&e.type!==t.TemplateType.None)throw new Error("NotSupportedException:Can not reassign the template element. Please, create new one.");e.type=i}return e},e}(),ce=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),pe=function(t){function e(){var e=t.call(this)||this;return e.leftValue=e.topValue=e.rightValue=e.bottomValue=e.stampValue=!0,e}return ce(e,t),Object.defineProperty(e.prototype,"applyDocumentLeftTemplate",{get:function(){return this.leftValue},set:function(t){this.leftValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentTopTemplate",{get:function(){return this.topValue},set:function(t){this.topValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentRightTemplate",{get:function(){return this.rightValue},set:function(t){this.rightValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentBottomTemplate",{get:function(){return this.bottomValue},set:function(t){this.bottomValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentStamps",{get:function(){return this.stampValue},set:function(t){this.stampValue=t},enumerable:!0,configurable:!0}),e}(ue),de=function(){function t(t,e){this.pageAdded=new he,this.pdfPages=[],this.dictionaryProperties=new a,this.pdfDocument=t,void 0===e?(this.settings=t.pageSettings.clone(),this.initialSettings=this.settings.clone()):(this.settings=e.clone(),this.initialSettings=this.settings.clone()),this.initialize()}return Object.defineProperty(t.prototype,"parent",{get:function(){return this.sectionCollection},set:function(t){this.sectionCollection=t,this.section.items.setValue(this.dictionaryProperties.parent,new C(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentDocument",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSettings",{get:function(){return this.settings},set:function(t){if(null==t)throw Error("Value can not be null.");this.settings=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.section},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.pagesReferences.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return null==this.pageTemplate&&(this.pageTemplate=new pe),this.pageTemplate},set:function(t){this.pageTemplate=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this.sectionCollection.document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pages",{get:function(){return null!=this.pagesCollection&&void 0!==this.pagesCollection||(this.pagesCollection=new le(this)),this.pagesCollection},enumerable:!0,configurable:!0}),t.prototype.getPages=function(){return this.pdfPages},t.prototype.pointToNativePdf=function(t,e){var i=this.getActualBounds(t,!0);return e.x+=i.x,e.y=this.pageSettings.height-e.y,e},t.prototype.setPageSettings=function(t){this.settings=t,this.state.orientation=t.orientation,this.state.rotate=t.rotate,this.state.size=t.size,this.state.origin=t.origin},t.prototype.initialize=function(){this.pagesReferences=new m,this.section=new h,this.state=new fe(this.pdfDocument),this.section.sectionBeginSave=new d(this,this.state),this.pageCount=new g(0),this.section.items.setValue(this.dictionaryProperties.count,this.pageCount),this.section.items.setValue(this.dictionaryProperties.type,new o(this.dictionaryProperties.pages)),this.section.items.setValue(this.dictionaryProperties.kids,this.pagesReferences)},t.prototype.containsTemplates=function(t,e,i){var r=this.getDocumentTemplates(t,e,i),n=this.getSectionTemplates(e,i);return r.length>0||n.length>0},t.prototype.getDocumentTemplates=function(t,e,i){var r=[];return this.template.applyDocumentTopTemplate&&null!=t.template.getTop(e)&&(!t.template.getTop(e).foreground&&!i||t.template.getTop(e).foreground&&i)&&r.push(t.template.getTop(e)),this.template.applyDocumentBottomTemplate&&null!=t.template.getBottom(e)&&(!t.template.getBottom(e).foreground&&!i||t.template.getBottom(e).foreground&&i)&&r.push(t.template.getBottom(e)),this.template.applyDocumentLeftTemplate&&null!=t.template.getLeft(e)&&(!t.template.getLeft(e).foreground&&!i||t.template.getLeft(e).foreground&&i)&&r.push(t.template.getLeft(e)),this.template.applyDocumentRightTemplate&&null!=t.template.getRight(e)&&(!t.template.getRight(e).foreground&&!i||t.template.getRight(e).foreground&&i)&&r.push(t.template.getRight(e)),r},t.prototype.getSectionTemplates=function(t,e){var i=[];if(null!=this.template.getTop(t)&&(!(r=this.template.getTop(t)).foreground&&!e||r.foreground&&e)&&i.push(r),null!=this.template.getBottom(t)&&(!(r=this.template.getBottom(t)).foreground&&!e||r.foreground&&e)&&i.push(r),null!=this.template.getLeft(t)&&(!(r=this.template.getLeft(t)).foreground&&!e||r.foreground&&e)&&i.push(r),null!=this.template.getRight(t)){var r=this.template.getRight(t);(!r.foreground&&!e||r.foreground&&e)&&i.push(r)}return i},t.prototype.add=function(t){if(void 0===t){var e=new ae;return this.add(e),e}var i=this.checkPresence(t);this.pdfPages.push(t),this.pagesReferences.add(i),t.setSection(this),t.resetProgress(),this.pageAddedMethod(t)},t.prototype.checkPresence=function(t){for(var e=new C(t),i=!1,r=this.parent,n=0;n<r.section.length;n++){var o=r.section[n];i=i||o.contains(t)}return e},t.prototype.contains=function(t){return 0<=this.indexOf(t)},t.prototype.indexOf=function(t){for(var e=0;e<this.pdfPages.length;e++)if(this.pdfPages[e]===t)return this.pdfPages.indexOf(t);var i=new C(t);return this.pagesReferences.indexOf(i)},t.prototype.pageAddedMethod=function(t){var e=new he(t);this.onPageAdded(e),this.parent.document.pages.onPageAdded(e),this.pageCount.intValue=this.count},t.prototype.onPageAdded=function(t){},t.prototype.getActualBounds=function(t,e,i){if(t instanceof ae&&"boolean"==typeof e){var r=this.parent.document;return this.getActualBounds(r,t,e)}t=t,e=e,i=i;var n=new B(0,0,0,0);n.height=i?this.pageSettings.size.height:this.pageSettings.getActualSize().height,n.width=i?this.pageSettings.size.width:this.pageSettings.getActualSize().width;var o=this.getLeftIndentWidth(t,e,i),s=this.getTopIndentHeight(t,e,i),a=this.getRightIndentWidth(t,e,i),h=this.getBottomIndentHeight(t,e,i);return n.x+=o,n.y+=s,n.width-=o+a,n.height-=s+h,n},t.prototype.getLeftIndentWidth=function(t,e,i){if(null==t)throw new Error("ArgumentNullException:document");if(null==e)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.left:0,n=null!=this.template.getLeft(e)?this.template.getLeft(e).width:0,o=null!=t.template.getLeft(e)?t.template.getLeft(e).width:0;return r+=this.template.applyDocumentLeftTemplate?Math.max(n,o):n},t.prototype.getTopIndentHeight=function(t,e,i){if(null==t)throw new Error("ArgumentNullException:document");if(null==e)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.top:0,n=null!=this.template.getTop(e)?this.template.getTop(e).height:0,o=null!=t.template.getTop(e)?t.template.getTop(e).height:0;return r+=this.template.applyDocumentTopTemplate?Math.max(n,o):n},t.prototype.getRightIndentWidth=function(t,e,i){if(null==t)throw new Error("ArgumentNullException:document");if(null==e)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.right:0,n=null!=this.template.getRight(e)?this.template.getRight(e).width:0,o=null!=t.template.getRight(e)?t.template.getRight(e).width:0;return r+=this.template.applyDocumentRightTemplate?Math.max(n,o):n},t.prototype.getBottomIndentHeight=function(t,e,i){if(null==t)throw new Error("ArgumentNullException:document");if(null==e)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.bottom:0,n=null!=this.template.getBottom(e)?this.template.getBottom(e).height:0,o=null!=t.template.getBottom(e)?t.template.getBottom(e).height:0;return r+=this.template.applyDocumentBottomTemplate?Math.max(n,o):n},t.prototype.remove=function(t){if(null==t)throw Error('ArgumentNullException("page")');var e=this.pdfPages.indexOf(t);this.pagesReferences.removeAt(e);for(var i=[],r=0;r<e;r++)i.push(this.pdfPages[r]);for(r=e+1;r<this.pdfPages.length;r++)i.push(this.pdfPages[r]);this.pdfPages=i},t.prototype.applyPageSettings=function(t,e,i){var r=new B(i.origin,i.size);t.items.setValue(this.dictionaryProperties.mediaBox,m.fromRectangle(r));var n=0;n=ge.rotateFactor*i.rotate;var o=new g(n);t.items.setValue(this.dictionaryProperties.rotate,o)},t.prototype.beginSave=function(t,e){var i=e.document;this.applyPageSettings(this.section,i.pageSettings,t)},t.prototype.drawTemplates=function(t,e,i,r){var n=this.getDocumentTemplates(i,t,r),o=this.getSectionTemplates(t,r);this.drawTemplatesHelper(e,i,n),this.drawTemplatesHelper(e,i,o)},t.prototype.drawTemplatesHelper=function(t,e,i){if(null!=i&&i.length>0)for(var r=i.length,n=0;n<r;n++)i[n].draw(t,e)},t}(),fe=function(){function t(t){this.pageOrientation=t.pageSettings.orientation,this.pageRotate=t.pageSettings.rotate,this.pageSize=t.pageSettings.size,this.pageOrigin=t.pageSettings.origin}return Object.defineProperty(t.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(t){this.pageOrientation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.pageRotate},set:function(t){this.pageRotate=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.pageSize},set:function(t){this.pageSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this.pageOrigin},set:function(t){this.pageOrigin=t},enumerable:!0,configurable:!0}),t}(),ge=function(){function t(t){this.sections=[],this.dictionaryProperties=new a,this.pdfDocument=t.clone(),this.initialize()}return Object.defineProperty(t.prototype,"section",{get:function(){return this.sections},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this.sections.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.pages},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){this.sectionCount=new g(0),this.sectionCollection=new m,this.pages=new h,this.pages.beginSave=new l(this),this.pages.items.setValue(this.dictionaryProperties.type,new o("Pages")),this.pages.items.setValue(this.dictionaryProperties.kids,this.sectionCollection),this.pages.items.setValue(this.dictionaryProperties.count,this.sectionCount),this.pages.items.setValue(this.dictionaryProperties.resources,new h),this.setPageSettings(this.pages,this.pdfDocument.pageSettings)},t.prototype.pdfSectionCollection=function(t){if(t<0||t>=this.count)throw new Error("IndexOutOfRangeException()");return this.sections[t]},t.prototype.setPageSettings=function(t,e){var i=new B(new j,e.size);t.items.setValue(this.dictionaryProperties.mediaBox,m.fromRectangle(i))},t.prototype.add=function(t){if(void 0===t){var e=new de(this.pdfDocument);return this.add(e),e}var i=this.checkSection(t);return this.sections.push(t),t.parent=this,this.sectionCollection.add(i),this.sections.indexOf(t)},t.prototype.checkSection=function(t){var e=new C(t);this.sectionCollection.contains(e);return e},t.prototype.countPages=function(){var t=0;return this.sections.forEach(function(e){return t+=e.count}),t},t.prototype.beginSave=function(){this.sectionCount.intValue=this.countPages()},t.rotateFactor=90,t}(),me=function(){function t(t){this.pdfPageCollectionIndex=new n,this.document=t}return Object.defineProperty(t.prototype,"count",{get:function(){return this.countPages()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageCollectionIndex",{get:function(){return this.pdfPageCollectionIndex},enumerable:!0,configurable:!0}),t.prototype.add=function(t){if(void 0===t){var e=new ae;return this.add(e),e}this.getLastSection().add(t)},t.prototype.getLastSection=function(){var t=this.document.sections;return 0===t.section.length&&t.add(),t.section[t.section.length-1]},t.prototype.onPageAdded=function(t){},t.prototype.countPages=function(){for(var t=this.document.sections,e=0,i=0;i<t.section.length;i++)e+=t.section[i].count;return e},t.prototype.getPageByIndex=function(t){return this.getPage(t)},t.prototype.getPage=function(t){if(t<0||t>=this.count)throw Error('ArgumentOutOfRangeException("index", "Value can not be less 0")');for(var e=null,i=0,r=0,n=0,o=this.document.sections.count,s=0;s<o;s++){var a=this.document.sections.section[s];if(r=a.count,n=t-i,t>=i&&n<r){e=a.getPages()[n];break}i+=r}return e},t.prototype.indexOf=function(t){var e=-1;if(null==t)throw new Error("ArgumentNullException: page");for(var i=0,r=0,n=this.document.sections.count;r<n;r++){var o=this.document.sections.pdfSectionCollection(r);if((e=o.indexOf(t))>=0){e+=i;break}e=-1,i+=o.count}return e},t.prototype.remove=function(t){if(null==t)throw Error('ArgumentNullException("page")');for(var e=null,i=0,r=this.document.sections.count;i<r;i++)if((e=this.document.sections.pdfSectionCollection(i)).pages.contains(t)){e.pages.remove(t);break}return e},t}(),ye=function(){function t(){this.referenceObjects=[],this.pdfFontCollection=new n}return t.prototype.search=function(t){var e=null,i=this.getGroup(t);return null==i?i=this.createNewGroup():i.length>0&&(e=i[0]),i.push(t),e},t.prototype.createNewGroup=function(){var t=[];return this.referenceObjects.push(t),t},t.prototype.getGroup=function(t){var e=null;if(null!==t)for(var i=this.referenceObjects.length,r=0;r<i;r++){if(this.referenceObjects.length>0){var n=this.referenceObjects[r];if(n.length>0){var o=n[0];if(t.equalsTo(o)){e=n;break}}else this.removeGroup(n)}i=this.referenceObjects.length}return e},t.prototype.removeGroup=function(t){if(null!==t){var e=this.referenceObjects.indexOf(t);this.referenceObjects.slice(e,e+1)}},t.prototype.destroy=function(){this.pdfFontCollection=void 0,this.referenceObjects=void 0},t}(),be=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),we=function(e){function i(t){var r=e.call(this)||this;r.defaultMargin=40,r.streamWriter=null,r.document=r;var n=!1;void 0===t?(i.cacheCollection=new ye,n=!1):n=t;var o=new G;r.setMainObjectCollection(o);var s=new J;s.isMerging=n,s.document=r,r.setCrossTable(s);var a=new K;return r.setCatalog(a),o.add(a),a.position=-1,r.sectionCollection=new ge(r),r.documentPageCollection=new me(r),a.pages=r.sectionCollection,r}return be(i,e),Object.defineProperty(i,"defaultFont",{get:function(){return null==this.defaultStandardFont&&(this.defaultStandardFont=new ve(t.PdfFontFamily.Helvetica,8)),this.defaultStandardFont},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sections",{get:function(){return this.sectionCollection},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pageSettings",{get:function(){return null==this.settings&&(this.settings=new Z(this.defaultMargin)),this.settings},set:function(t){this.settings=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pages",{get:function(){return this.documentPageCollection},enumerable:!0,configurable:!0}),Object.defineProperty(i,"cache",{get:function(){return void 0===i.cacheCollection||null==i.cacheCollection?new ye:i.cacheCollection},set:function(t){this.cacheCollection=t},enumerable:!0,configurable:!0}),Object.defineProperty(i,"enableCache",{get:function(){return this.isCacheEnabled},set:function(t){this.isCacheEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"colorSpace",{get:function(){return this.pdfColorSpace===t.PdfColorSpace.Rgb||this.pdfColorSpace===t.PdfColorSpace.Cmyk||this.pdfColorSpace===t.PdfColorSpace.GrayScale?this.pdfColorSpace:t.PdfColorSpace.Rgb},set:function(e){e===t.PdfColorSpace.Rgb||e===t.PdfColorSpace.Cmyk||e===t.PdfColorSpace.GrayScale?this.pdfColorSpace=e:this.pdfColorSpace=t.PdfColorSpace.Rgb},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"template",{get:function(){return null==this.pageTemplate&&(this.pageTemplate=new ue),this.pageTemplate},set:function(t){this.pageTemplate=t},enumerable:!0,configurable:!0}),i.prototype.docSave=function(t,e,i){if(this.checkPagesPresence(),null===t)throw new Error("ArgumentNullException : stream");this.streamWriter=t;var r=new W(t);if(r.document=this,"boolean"==typeof e&&void 0===i)return this.crossTable.save(r);this.crossTable.save(r,e)},i.prototype.checkPagesPresence=function(){0===this.pages.count&&this.pages.add()},i.prototype.destroy=function(){this.catalog=void 0,this.colorSpace=void 0,this.currentSavingObj=void 0,this.documentPageCollection=void 0,this.isStreamCopied=void 0,this.pageSettings=void 0,this.pageTemplate=void 0,this.pdfColorSpace=void 0,this.sectionCollection=void 0,i.cache.destroy(),this.crossTable.pdfObjects.destroy(),i.cache=void 0,this.streamWriter.destroy()},i.defaultStandardFont=null,i.isCacheEnabled=!0,i}(_),Se=function(){function e(){}return e.getMetrics=function(e,i,r){var n=null;switch(e){case t.PdfFontFamily.Helvetica:n=this.getHelveticaMetrics(e,i,r);break;case t.PdfFontFamily.Courier:n=this.getCourierMetrics(e,i,r);break;case t.PdfFontFamily.TimesRoman:n=this.getTimesMetrics(e,i,r);break;case t.PdfFontFamily.Symbol:n=this.getSymbolMetrics(e,i,r);break;case t.PdfFontFamily.ZapfDingbats:n=this.getZapfDingbatsMetrics(e,i,r);break;default:n=this.getHelveticaMetrics(t.PdfFontFamily.Helvetica,i,r)}return n.name=e.toString(),n.subScriptSizeFactor=this.subSuperScriptFactor,n.superscriptSizeFactor=this.subSuperScriptFactor,n},e.getHelveticaMetrics=function(e,i,r){var n=new Mt;return(i&t.PdfFontStyle.Bold)>0&&(i&t.PdfFontStyle.Italic)>0?(n.ascent=this.helveticaBoldItalicAscent,n.descent=this.helveticaBoldItalicDescent,n.postScriptName=this.helveticaBoldItalicName,n.size=r,n.widthTable=new kt(this.arialBoldWidth),n.height=n.ascent-n.descent):(i&t.PdfFontStyle.Bold)>0?(n.ascent=this.helveticaBoldAscent,n.descent=this.helveticaBoldDescent,n.postScriptName=this.helveticaBoldName,n.size=r,n.widthTable=new kt(this.arialBoldWidth),n.height=n.ascent-n.descent):(i&t.PdfFontStyle.Italic)>0?(n.ascent=this.helveticaItalicAscent,n.descent=this.helveticaItalicDescent,n.postScriptName=this.helveticaItalicName,n.size=r,n.widthTable=new kt(this.arialWidth),n.height=n.ascent-n.descent):(n.ascent=this.helveticaAscent,n.descent=this.helveticaDescent,n.postScriptName=this.helveticaName,n.size=r,n.widthTable=new kt(this.arialWidth),n.height=n.ascent-n.descent),n},e.getCourierMetrics=function(e,i,r){var n=new Mt;return(i&t.PdfFontStyle.Bold)>0&&(i&t.PdfFontStyle.Italic)>0?(n.ascent=this.courierBoldItalicAscent,n.descent=this.courierBoldItalicDescent,n.postScriptName=this.courierBoldItalicName,n.size=r,n.widthTable=new kt(this.fixedWidth),n.height=n.ascent-n.descent):(i&t.PdfFontStyle.Bold)>0?(n.ascent=this.courierBoldAscent,n.descent=this.courierBoldDescent,n.postScriptName=this.courierBoldName,n.size=r,n.widthTable=new kt(this.fixedWidth),n.height=n.ascent-n.descent):(i&t.PdfFontStyle.Italic)>0?(n.ascent=this.courierItalicAscent,n.descent=this.courierItalicDescent,n.postScriptName=this.courierItalicName,n.size=r,n.widthTable=new kt(this.fixedWidth),n.height=n.ascent-n.descent):(n.ascent=this.courierAscent,n.descent=this.courierDescent,n.postScriptName=this.courierName,n.size=r,n.widthTable=new kt(this.fixedWidth),n.height=n.ascent-n.descent),n},e.getTimesMetrics=function(e,i,r){var n=new Mt;return(i&t.PdfFontStyle.Bold)>0&&(i&t.PdfFontStyle.Italic)>0?(n.ascent=this.timesBoldItalicAscent,n.descent=this.timesBoldItalicDescent,n.postScriptName=this.timesBoldItalicName,n.size=r,n.widthTable=new kt(this.timesRomanBoldItalicWidths),n.height=n.ascent-n.descent):(i&t.PdfFontStyle.Bold)>0?(n.ascent=this.timesBoldAscent,n.descent=this.timesBoldDescent,n.postScriptName=this.timesBoldName,n.size=r,n.widthTable=new kt(this.timesRomanBoldWidth),n.height=n.ascent-n.descent):(i&t.PdfFontStyle.Italic)>0?(n.ascent=this.timesItalicAscent,n.descent=this.timesItalicDescent,n.postScriptName=this.timesItalicName,n.size=r,n.widthTable=new kt(this.timesRomanItalicWidth),n.height=n.ascent-n.descent):(n.ascent=this.timesAscent,n.descent=this.timesDescent,n.postScriptName=this.timesName,n.size=r,n.widthTable=new kt(this.timesRomanWidth),n.height=n.ascent-n.descent),n},e.getSymbolMetrics=function(t,e,i){var r=new Mt;return r.ascent=this.symbolAscent,r.descent=this.symbolDescent,r.postScriptName=this.symbolName,r.size=i,r.widthTable=new kt(this.symbolWidth),r.height=r.ascent-r.descent,r},e.getZapfDingbatsMetrics=function(t,e,i){var r=new Mt;return r.ascent=this.zapfDingbatsAscent,r.descent=this.zapfDingbatsDescent,r.postScriptName=this.zapfDingbatsName,r.size=i,r.widthTable=new kt(this.zapfDingbatsWidth),r.height=r.ascent-r.descent,r},e.subSuperScriptFactor=1.52,e.helveticaAscent=931,e.helveticaDescent=-225,e.helveticaName="Helvetica",e.helveticaBoldAscent=962,e.helveticaBoldDescent=-228,e.helveticaBoldName="Helvetica-Bold",e.helveticaItalicAscent=931,e.helveticaItalicDescent=-225,e.helveticaItalicName="Helvetica-Oblique",e.helveticaBoldItalicAscent=962,e.helveticaBoldItalicDescent=-228,e.helveticaBoldItalicName="Helvetica-BoldOblique",e.courierAscent=805,e.courierDescent=-250,e.courierName="Courier",e.courierBoldAscent=801,e.courierBoldDescent=-250,e.courierBoldName="Courier-Bold",e.courierItalicAscent=805,e.courierItalicDescent=-250,e.courierItalicName="Courier-Oblique",e.courierBoldItalicAscent=801,e.courierBoldItalicDescent=-250,e.courierBoldItalicName="Courier-BoldOblique",e.timesAscent=898,e.timesDescent=-218,e.timesName="Times-Roman",e.timesBoldAscent=935,e.timesBoldDescent=-218,e.timesBoldName="Times-Bold",e.timesItalicAscent=883,e.timesItalicDescent=-217,e.timesItalicName="Times-Italic",e.timesBoldItalicAscent=921,e.timesBoldItalicDescent=-218,e.timesBoldItalicName="Times-BoldItalic",e.symbolAscent=1010,e.symbolDescent=-293,e.symbolName="Symbol",e.zapfDingbatsAscent=820,e.zapfDingbatsDescent=-143,e.zapfDingbatsName="ZapfDingbats",e.arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],e.arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],e.fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],e.timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],e.timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],e.timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],e.timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],e.symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],e.zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],e}(),Pe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ve=function(e){function i(r,n,o){var s=e.call(this,n,void 0===o?r instanceof i?r.style:t.PdfFontStyle.Regular:o)||this;return s.dictionaryProperties=new a,s.encodings=["Unknown","StandardEncoding","MacRomanEncoding","MacExpertEncoding","WinAnsiEncoding","PDFDocEncoding","IdentityH"],s.pdfFontFamily=void 0===r?t.PdfFontFamily.Helvetica:r instanceof i?r.fontFamily:r,s.checkStyle(),s.initializeInternals(),s}return Pe(i,e),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this.pdfFontFamily},enumerable:!0,configurable:!0}),i.prototype.checkStyle=function(){if(this.fontFamily===t.PdfFontFamily.Symbol||this.fontFamily===t.PdfFontFamily.ZapfDingbats){var e=this.style;e&=~(t.PdfFontStyle.Bold|t.PdfFontStyle.Italic),this.setStyle(e)}},i.prototype.getLineWidth=function(t,e){if(null==t)throw new Error("ArgumentNullException:line");for(var r=0,n=(this.name,0),o=(t=i.convert(t)).length;n<o;n++){var s=t[n];r+=this.getCharWidthInternal(s,e)}var a=this.metrics.getSize(e);return r*=z.charSizeMultiplier*a,r=this.applyFormatSettings(t,e,r)},i.prototype.equalsToFont=function(e){var i=!1,r=e;if(null!=r){var n=this.fontFamily===r.fontFamily,o=~(t.PdfFontStyle.Underline|t.PdfFontStyle.Strikeout),s=(this.style&o)==(r.style&o);i=n&&s}return i},i.prototype.initializeInternals=function(){we.cache.search(this);var t=null,e=Se.getMetrics(this.pdfFontFamily,this.style,this.size);this.metrics=e,t=this.createInternals(),this.setInternals(t)},i.prototype.createInternals=function(){var e=new h;if(e.items.setValue(this.dictionaryProperties.type,new o(this.dictionaryProperties.font)),e.items.setValue(this.dictionaryProperties.subtype,new o(this.dictionaryProperties.type1)),e.items.setValue(this.dictionaryProperties.baseFont,new o(this.metrics.postScriptName)),this.fontFamily!==t.PdfFontFamily.Symbol&&this.fontFamily!==t.PdfFontFamily.ZapfDingbats){var i=this.encodings[t.FontEncoding.WinAnsiEncoding];e.items.setValue(this.dictionaryProperties.encoding,new o(i))}return e},i.prototype.getCharWidthInternal=function(t,e){var r=0;return r=t.charCodeAt(0),"0"!==this.name&&"1"!==this.name&&"2"!==this.name&&"3"!==this.name&&"4"!==this.name||(r-=i.charOffset),r=r>=0&&128!==r?r:0,this.metrics.widthTable.items(r)},i.convert=function(t){return t},i.charOffset=32,i}(z),Ce=function(){function e(e){this.dictionaryProperties=new a,this.pdfColor=new T(255,255,255),this.rectangle=new B(0,0,0,0),this.pdfPage=null,this.textBrush=new F(new T(0,0,0)),this.textFont=new ve(t.PdfFontFamily.TimesRoman,10),this.format=new E(t.PdfTextAlignment.Left),this.content="",this.pdfDictionary=new h,this.internalColor=new T,this.darkness=1,void 0===e?this.initialize():(this.initialize(),this.bounds=e)}return Object.defineProperty(e.prototype,"color",{get:function(){return this.pdfColor},set:function(t){this.pdfColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerColor",{get:function(){return this.internalColor},set:function(t){this.internalColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.rectangle},set:function(t){this.rectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.textFont},set:function(t){this.textFont=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return this.format},set:function(t){this.format=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brush",{get:function(){return this.textBrush},set:function(t){this.textBrush=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.content},set:function(t){this.content=t,this.dictionary.items.setValue(this.dictionaryProperties.contents,new P(this.content))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dictionary",{get:function(){return this.pdfDictionary},set:function(t){this.pdfDictionary=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.pdfDictionary.annotationBeginSave=new p(this),this.pdfDictionary.items.setValue(this.dictionaryProperties.type,new o(this.dictionaryProperties.annot))},e.prototype.setPage=function(t){this.pdfPage=t,this.pdfDictionary.items.setValue(this.dictionaryProperties.p,new C(this.pdfPage))},e.prototype.beginSave=function(){this.save()},e.prototype.save=function(){var t=new B(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),e=this.pdfPage.section,i=t.height,r=e.pointToNativePdf(this.page,new j(t.x,t.y));t.x=r.x,t.width=r.x+t.width,t.y=r.y-this.page.document.pageSettings.margins.top,t.height=t.y-i,this.pdfDictionary.items.setValue(this.dictionaryProperties.rect,m.fromRectangle(t)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new g(this.darkness))},Object.defineProperty(e.prototype,"element",{get:function(){return this.pdfDictionary},enumerable:!0,configurable:!0}),e}(),xe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Oe=function(t){function e(e){return t.call(this,e)||this}return xe(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this),this.dictionary.items.setValue(this.dictionaryProperties.subtype,new o(this.dictionaryProperties.link))},e}(Ce),Le=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Te=function(t){function e(e){var i=t.call(this,e)||this;return i.pdfAction=null,i}return Le(e,t),e.prototype.getSetAction=function(t){if(void 0===t)return this.pdfAction;this.pdfAction=t},e}(Oe),je=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Re=function(t){function e(e,i){var r=t.call(this,e)||this;return r.pdfDestination=null,void 0!==i&&(r.destination=i),r}return je(e,t),Object.defineProperty(e.prototype,"destination",{get:function(){return this.pdfDestination},set:function(t){this.pdfDestination=t},enumerable:!0,configurable:!0}),e.prototype.save=function(){t.prototype.save.call(this),null!=this.pdfDestination&&this.dictionary.items.setValue(this.dictionaryProperties.dest,this.pdfDestination.element)},e.prototype.clone=function(){var t=new e(this.bounds,this.destination);return t.color=this.color,t.brush=this.brush,t.destination=this.destination,t.font=this.font,t},e}(Oe),Be=function(){function t(t){this.layoutElement=t}return Object.defineProperty(t.prototype,"elements",{get:function(){return this.layoutElement},enumerable:!0,configurable:!0}),t.prototype.getElement=function(){return this.layoutElement},t.prototype.layout=function(t){return this.layoutInternal(t)},t.prototype.Layouter=function(t){return this.layoutInternal(t)},t.prototype.getNextPage=function(t){return t.section.add()},t}(),Ne=function(){function t(t){void 0===t||(this.break=t.break,this.layout=t.layout,this.paginateBounds=t.paginateBounds,this.boundsSet=t.usePaginateBounds)}return Object.defineProperty(t.prototype,"layout",{get:function(){return this.layoutType},set:function(t){this.layoutType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"break",{get:function(){return this.breakType},set:function(t){this.breakType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paginateBounds",{get:function(){return void 0===this.layoutPaginateBounds&&null==this.layoutPaginateBounds&&(this.layoutPaginateBounds=new B(0,0,0,0)),this.layoutPaginateBounds},set:function(t){this.layoutPaginateBounds=t,this.boundsSet=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"usePaginateBounds",{get:function(){return this.boundsSet},enumerable:!0,configurable:!0}),t}(),Ve=function(){function t(){}return Object.defineProperty(t.prototype,"page",{get:function(){return this.pdfPage},set:function(t){this.pdfPage=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return new B(this.layoutBounds.x,this.layoutBounds.y,this.layoutBounds.width,this.layoutBounds.height)},set:function(t){this.layoutBounds=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.layoutFormat},set:function(t){this.layoutFormat=t},enumerable:!0,configurable:!0}),t}(),Ie=function(){function t(t,e){this.pdfPage=t,this.layoutBounds=e}return Object.defineProperty(t.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.layoutBounds},enumerable:!0,configurable:!0}),t}(),Fe=function(){function t(){}return Object.defineProperty(t.prototype,"raiseBeginPageLayout",{get:function(){return void 0!==this.beginPageLayout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raiseEndPageLayout",{get:function(){return void 0!==this.endPageLayout},enumerable:!0,configurable:!0}),t.prototype.onBeginPageLayout=function(t){this.beginPageLayout&&this.beginPageLayout(this,t)},t.prototype.onEndPageLayout=function(t){this.endPageLayout&&this.endPageLayout(this,t)},t.prototype.drawHelper=function(t,e,i,r){if(e instanceof j&&void 0===e.width&&void 0===i)return this.drawHelper(t,e.x,e.y);if("number"==typeof e&&"number"==typeof i&&void 0===r)return this.drawHelper(t,e,i,null);if(e instanceof B&&void 0!==e.width&&void 0===i)return this.drawHelper(t,e,null);if(e instanceof j&&void 0===e.width&&i instanceof Ne)return this.drawHelper(t,e.x,e.y,i);if("number"==typeof e&&"number"==typeof i&&(r instanceof Ne||null==r)){var n=t.graphics.clientSize.width-e,o=new B(e,i,n,0);return this.drawHelper(t,o,r)}if(e instanceof B&&void 0!==e.width&&"boolean"==typeof i)return this.bEmbedFonts=i,this.drawHelper(t,e,null);var s=new Ve,a=e,h=i;return s.page=t,s.bounds=a,s.format=null!=h?h:new Ne,this.layout(s)},t}();!function(t){t[t.Paginate=0]="Paginate",t[t.OnePage=1]="OnePage"}(t.PdfLayoutType||(t.PdfLayoutType={})),function(t){t[t.FitPage=0]="FitPage",t[t.FitElement=1]="FitElement",t[t.FitColumnsToPage=2]="FitColumnsToPage"}(t.PdfLayoutBreakType||(t.PdfLayoutBreakType={}));var Ee=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Ae=function(e){function i(t){return e.call(this,t)||this}return Ee(i,e),Object.defineProperty(i.prototype,"element",{get:function(){return e.prototype.getElement.call(this)},enumerable:!0,configurable:!0}),i.prototype.layoutInternal=function(t){this.format=null!==this.element.stringFormat&&void 0!==this.element.stringFormat?this.element.stringFormat:null;var e=t.page,i=t.bounds,r=this.element.value,n=null,o=new Me;for(o.page=e,o.remainder=r;;){o=this.layoutOnPage(r,e,i,t),n=this.getLayoutResult(o);break}return n},i.prototype.getLayoutResult=function(t){return new De(t.page,t.bounds,t.remainder,t.lastLineBounds)},i.prototype.layoutOnPage=function(e,i,r,n){var o=new Me;o.remainder=e,o.page=i,r=this.checkCorrectBounds(i,r);var s=(new M).layout(e,this.element.font,this.format,r,i.getClientSize().height,!1,new R(0,0)),a=null==s.remainder,h=(n.format.break===t.PdfLayoutBreakType.FitElement||s.empty,i.graphics),l=this.element.getBrush();this.element instanceof _e&&(l.color=new T(0,0,255)),h.drawStringLayoutResult(s,this.element.font,this.element.pen,l,r,this.format);s.lines[s.lineCount-1];return o.lastLineBounds=h.getLineBounds(s.lineCount-1,s,this.element.font,r,this.format),o.bounds=this.getTextPageBounds(i,r,s),o.remainder=s.remainder,o.end=a,o},i.prototype.checkCorrectBounds=function(t,e){var i=t.graphics.clientSize;return e.height=e.height>0?e.height:i.height-e.y,e},i.prototype.getTextPageBounds=function(t,e,i){var r=i.actualSize,n=e.x,o=e.y,s=e.width>0?e.width:r.width,a=r.height;n=t.graphics.checkCorrectLayoutRectangle(r,e.x,e.y,this.format).x;var h=t.graphics.getTextVerticalAlignShift(r.height,e.height,this.format);return new B(n,o+=h,s,a)},i}(Be),Me=function(){function t(){}return t}(),De=function(t){function e(e,i,r,n){var o=t.call(this,e,i)||this;return o.remainderText=r,o.lastLineTextBounds=n,o}return Ee(e,t),Object.defineProperty(e.prototype,"remainder",{get:function(){return this.remainderText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastLineBounds",{get:function(){return this.lastLineTextBounds},enumerable:!0,configurable:!0}),e}(Ie),ke=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ze=function(e){function i(t,i,r,n,o){var s=e.call(this)||this;return s.content="",s.elementValue="",s.hasPointOverload=!1,s.isPdfTextElement=!1,void 0===t||("string"==typeof t&&void 0===i?(s.content=t,s.elementValue=t):"string"==typeof t&&i instanceof z&&void 0===r?(s.content=t,s.elementValue=t,s.pdfFont=i):"string"==typeof t&&i instanceof z&&r instanceof Q&&void 0===n?(s.content=t,s.elementValue=t,s.pdfFont=i,s.pdfPen=r):"string"==typeof t&&i instanceof z&&r instanceof V&&void 0===n?(s.content=t,s.elementValue=t,s.pdfFont=i,s.pdfBrush=r):(s.content=t,s.elementValue=t,s.pdfFont=i,s.pdfPen=r,s.pdfBrush=n,s.format=o)),s}return ke(i,e),Object.defineProperty(i.prototype,"text",{get:function(){return this.content},set:function(t){this.elementValue=t,this.content=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.elementValue},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pen",{get:function(){return this.pdfPen},set:function(t){this.pdfPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"brush",{get:function(){return this.pdfBrush},set:function(t){this.pdfBrush=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"font",{get:function(){return this.pdfFont},set:function(t){this.pdfFont=t,this.pdfFont instanceof ve&&null!=this.content?this.elementValue=ve.convert(this.content):this.elementValue=this.content},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stringFormat",{get:function(){return this.format},set:function(t){this.format=t},enumerable:!0,configurable:!0}),i.prototype.getBrush=function(){return null==this.pdfBrush||void 0===this.pdfBrush?new F(new T(0,0,0)):this.pdfBrush},i.prototype.layout=function(t){return new Ae(this).layout(t)},i.prototype.drawText=function(t,e,i,r){if(e instanceof j&&void 0===e.width&&void 0===i)return this.hasPointOverload=!0,this.drawText(t,e.x,e.y);if("number"==typeof e&&"number"==typeof i&&void 0===r)return this.hasPointOverload=!0,this.drawText(t,e,i,null);if(e instanceof B&&void 0!==e.width&&void 0===i)return this.drawText(t,e,null);if(e instanceof j&&void 0===e.width&&i instanceof Ne)return this.hasPointOverload=!0,this.drawText(t,e.x,e.y,i);if("number"==typeof e&&"number"==typeof i&&(r instanceof Ne||null==r)){this.hasPointOverload=!0;var n=t.graphics.clientSize.width-e,o=new B(e,i,n,0);return this.drawText(t,o,r)}if(e instanceof B&&void 0!==e.width&&"boolean"==typeof i)return this.drawText(t,e,null);var s=new M;if(this.hasPointOverload){var a=s.layout(this.value,this.font,this.stringFormat,new R(t.graphics.clientSize.width-e.x,0),!0,t.graphics.clientSize),h=void 0,l=e,u=i;if((f=new Ve).page=t,f.bounds=l,f.format=null!=u?u:new Ne,a.lines.length>1){if(this.text=a.layoutLines[0].text,f.bounds.y<=f.page.graphics.clientSize.height){g=new j(f.bounds.x,f.bounds.y);h=this.layout(f);for(var c=new B(0,h.bounds.y+a.lineHeight,t.graphics.clientSize.width,a.lineHeight),p=1;p<a.lines.length;p++)if(f.page=h.page,f.bounds=new B(new j(c.x,c.y),new R(c.width,c.height)),this.text=a.layoutLines[p].text,c.y+a.lineHeight>h.page.graphics.clientSize.height&&(f.page=f.page.graphics.getNextPage(),c=g.y>h.page.graphics.clientSize.height-h.bounds.height?new B(0,h.bounds.height,h.page.graphics.clientSize.width,a.lineHeight):new B(0,0,h.page.graphics.clientSize.width,a.lineHeight),f.bounds=c),h=this.layout(f),p!==a.lines.length-1)c=new B(0,h.bounds.y+a.lineHeight,h.page.graphics.clientSize.width,a.lineHeight);else{m=this.font.measureString(this.text,this.format).width;h=this.calculateResultBounds(h,m,h.page.graphics.clientSize.width,0)}}return h}y=this.font.measureString(this.text,this.format);return f.bounds.y<=f.page.graphics.clientSize.height&&(h=this.layout(f),h=this.calculateResultBounds(h,y.width,h.page.graphics.clientSize.width,0)),h}var h=s.layout(this.value,this.font,this.stringFormat,new R(e.width,0),!1,t.graphics.clientSize),d=void 0,f=new Ve,l=e,u=i;if(f.page=t,f.bounds=l,f.format=null!=u?u:new Ne,h.lines.length>1){if(this.text=h.layoutLines[0].text,f.bounds.y<=f.page.graphics.clientSize.height){var g=new j(f.bounds.x,f.bounds.y);d=this.layout(f);for(var c=new B(l.x,d.bounds.y+h.lineHeight,l.width,h.lineHeight),p=1;p<h.lines.length;p++)if(f.page=d.page,f.bounds=new B(c.x,c.y,c.width,c.height),this.text=h.layoutLines[p].text,c.y+h.lineHeight>d.page.graphics.clientSize.height&&(f.page=f.page.graphics.getNextPage(),c=g.y>d.page.graphics.clientSize.height-d.bounds.height?new B(l.x,h.lineHeight,l.width,h.lineHeight):new B(l.x,0,l.width,h.lineHeight),f.bounds=c),d=this.layout(f),p!==h.lines.length-1)c=new B(l.x,d.bounds.y+h.lineHeight,l.width,h.lineHeight);else{var m=this.font.measureString(this.text,this.format).width;d=this.calculateResultBounds(d,m,l.width,l.x)}}return d}var y=this.font.measureString(this.text,this.format);return f.bounds.y<=f.page.graphics.clientSize.height&&(d=this.layout(f),d=this.calculateResultBounds(d,y.width,l.width,l.x)),d},i.prototype.calculateResultBounds=function(e,i,r,n){return null!=this.stringFormat&&void 0!==this.stringFormat&&this.stringFormat.alignment===t.PdfTextAlignment.Center?(e.bounds.x=n+(r-i)/2,e.bounds.width=i):null!=this.stringFormat&&void 0!==this.stringFormat&&this.stringFormat.alignment===t.PdfTextAlignment.Right?(e.bounds.x=n+(r-i),e.bounds.width=i):null!=this.stringFormat&&void 0!==this.stringFormat&&this.stringFormat.alignment===t.PdfTextAlignment.Justify?(e.bounds.x=n,e.bounds.width=r):(e.bounds.width=n,e.bounds.width=i),e},i}(Fe),We=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Ge=function(t){function e(e,i){var r=t.call(this,e)||this;return void 0!==i&&(r.uri=i),r}return We(e,t),Object.defineProperty(e.prototype,"uriAction",{get:function(){return void 0===this.pdfUriAction&&(this.pdfUriAction=new L),this.pdfUriAction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uri",{get:function(){return this.uriAction.uri},set:function(t){this.uriAction.uri!==t&&(this.uriAction.uri=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"action",{get:function(){return this.getSetAction()},set:function(t){this.getSetAction(t),this.uriAction.next=t},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){t.prototype.initialize.call(this),this.dictionary.items.setValue(this.dictionaryProperties.subtype,new o(this.dictionaryProperties.link));this.uriAction.element;this.dictionary.items.setValue(this.dictionaryProperties.a,this.uriAction.element)},e}(Te),He=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),_e=function(e){function i(){var t=e.call(this)||this;t.uniformResourceLocator="",t.uriAnnotation=null,t.recalculateBounds=!1,t.defaultBorder=new m;for(var i=0;i<3;i++)t.defaultBorder.add(new g(0));return t}return He(i,e),Object.defineProperty(i.prototype,"url",{get:function(){return this.uniformResourceLocator},set:function(t){if(0===t.length)throw new Error("ArgumentException : Url - string can not be empty");this.uniformResourceLocator=t},enumerable:!0,configurable:!0}),i.prototype.draw=function(e,i){if(e instanceof ae){var r=new M,n=this.font.style;if(i instanceof j){if(this.recalculateBounds=!0,this.font.style=t.PdfFontStyle.Underline,1===(h=r.layout(this.value,this.font,this.stringFormat,new R(e.graphics.clientSize.width-i.x,0),!0,e.graphics.clientSize)).lines.length){var o=this.font.measureString(this.value),s=new B(i,o);s=this.calculateBounds(s,o.width,e.graphics.clientSize.width,i.x),this.uriAnnotation=new Ge(s,this.url),this.uriAnnotation.dictionary.items.setValue("Border",this.defaultBorder),e.annotations.add(this.uriAnnotation);a=this.drawText(e,i);return this.font.style=n,a}var a=this.drawMultipleLineWithPoint(h,e,i);return this.font.style=n,a}var h=r.layout(this.value,this.font,this.stringFormat,new R(i.width,0),!1,new R(0,0));if(this.font.style=t.PdfFontStyle.Underline,1===h.lines.length){var o=this.font.measureString(this.value),s=new B(new j(i.x,i.y),o);s=this.calculateBounds(s,o.width,i.width,i.x),this.uriAnnotation=new Ge(s,this.url),this.uriAnnotation.dictionary.items.setValue("Border",this.defaultBorder),e.annotations.add(this.uriAnnotation);l=this.drawText(e,i);return this.font.style=n,l}var l=this.drawMultipleLineWithBounds(h,e,i);return this.font.style=n,l}var u=new ae;return u=e.page,this.draw(u,i)},i.prototype.drawMultipleLineWithPoint=function(t,e,i){for(var r,n=0;n<t.layoutLines.length;n++){var o=this.font.measureString(t.lines[n].text),s=new B(i,o);if(0!==n&&(s.x=0),this.text=t.lines[n].text,s.y+o.height>e.graphics.clientSize.height){if(0===n)break;e=e.graphics.getNextPage(),s=new B(0,0,e.graphics.clientSize.width,o.height),i.y=0}s=this.calculateBounds(s,o.width,e.graphics.clientSize.width,s.x),this.uriAnnotation=new Ge(s,this.url),this.uriAnnotation.dictionary.items.setValue("Border",this.defaultBorder),e.annotations.add(this.uriAnnotation),r=0!==n?this.drawText(e,new j(0,s.y)):this.drawText(e,s.x,s.y),i.y+=o.height}return r},i.prototype.drawMultipleLineWithBounds=function(t,e,i){for(var r,n=0;n<t.layoutLines.length;n++){var o=this.font.measureString(t.lines[n].text),s=new B(new j(i.x,i.y),o);if(s=this.calculateBounds(s,o.width,i.width,i.x),this.text=t.lines[n].text,i.y+o.height>e.graphics.clientSize.height){if(0===n)break;e=e.graphics.getNextPage(),i=new B(i.x,0,i.width,o.height),s.y=0}this.uriAnnotation=new Ge(s,this.url),this.uriAnnotation.dictionary.items.setValue("Border",this.defaultBorder),e.annotations.add(this.uriAnnotation),r=this.drawText(e,i),i.y+=o.height}return r},i.prototype.calculateBounds=function(e,i,r,n){return null!=this.stringFormat&&void 0!==this.stringFormat&&this.stringFormat.alignment===t.PdfTextAlignment.Center?(e.x=n+(r-i)/2,e.width=i):null!=this.stringFormat&&void 0!==this.stringFormat&&this.stringFormat.alignment===t.PdfTextAlignment.Right?(e.x=n+(r-i),e.width=i):null!=this.stringFormat&&void 0!==this.stringFormat&&this.stringFormat.alignment===t.PdfTextAlignment.Justify?(e.x=n,e.width=r):(e.width=n,e.width=i),e},i}(ze),Ue=function(){function e(){}return e.convert=function(e,i){var r="";switch(i){case t.PdfNumberStyle.None:r="";break;case t.PdfNumberStyle.Numeric:r=e.toString();break;case t.PdfNumberStyle.LowerLatin:r=this.arabicToLetter(e).toLowerCase();break;case t.PdfNumberStyle.LowerRoman:r=this.arabicToRoman(e).toLowerCase();break;case t.PdfNumberStyle.UpperLatin:r=this.arabicToLetter(e);break;case t.PdfNumberStyle.UpperRoman:r=this.arabicToRoman(e)}return r},e.arabicToRoman=function(t){var e="";return e+=this.generateNumber(t,1e3,"M"),e+=this.generateNumber(t,900,"CM"),e+=this.generateNumber(t,500,"D"),e+=this.generateNumber(t,400,"CD"),e+=this.generateNumber(t,100,"C"),e+=this.generateNumber(t,90,"XC"),e+=this.generateNumber(t,50,"L"),e+=this.generateNumber(t,40,"XL"),e+=this.generateNumber(t,10,"X"),e+=this.generateNumber(t,9,"IX"),e+=this.generateNumber(t,5,"V"),e+=this.generateNumber(t,4,"IV"),(e+=this.generateNumber(t,1,"I")).toString()},e.arabicToLetter=function(t){for(var e=this.convertToLetter(t),i="";e.length>0;){var r=e.pop();i=this.appendChar(i,r)}return i.toString()},e.generateNumber=function(t,e,i){for(var r="";t>=e;)t-=e,r+=i;return r.toString()},e.convertToLetter=function(t){if(t<=0)throw Error("ArgumentOutOfRangeException-arabic, Value can not be less 0");for(var e=[];t>this.letterLimit;){var i=t%this.letterLimit;0===i?(t=t/this.letterLimit-1,i=this.letterLimit):t/=this.letterLimit,e.push(i)}return e.push(t),e},e.appendChar=function(t,i){return t+=String.fromCharCode(e.acsiiStartIndex+i)},e.letterLimit=26,e.acsiiStartIndex=64,e}(),Ke=function(){function t(t,e){this.pdfTemplate=null,this.content="",void 0===t||(this.template=t,this.value=e)}return Object.defineProperty(t.prototype,"template",{get:function(){return this.pdfTemplate},set:function(t){this.pdfTemplate=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.content},set:function(t){this.content=t},enumerable:!0,configurable:!0}),t}(),Je=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),Xe=function(t){function e(){var e=t.call(this)||this;return e.list=new rt,e}return Je(e,t),e.prototype.performDraw=function(e,i,r,n){t.prototype.performDrawHelper.call(this,e,i,r,n);var o=this.getValue(e),s=new te(this.getSize());this.list.setValue(e,new Ke(s,o));var a=this.getSize();s.graphics.drawString(o,this.getFont(),this.pen,this.getBrush(),0,0,a.width,a.height,this.stringFormat);var h=new j(i.x+this.location.x,i.y+this.location.y);e.drawPdfTemplate(s,h,new R(s.width*r,s.height*n))},e}(ht),Ye=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),qe=function(e){function i(i,r){var n=e.call(this)||this;return n.internalNumberStyle=t.PdfNumberStyle.Numeric,void 0===r?n.font=i:r instanceof V?(n.font=i,n.brush=r):(n.font=i,n.bounds=r),n}return Ye(i,e),Object.defineProperty(i.prototype,"numberStyle",{get:function(){return this.internalNumberStyle},set:function(t){this.internalNumberStyle=t},enumerable:!0,configurable:!0}),i.prototype.getValue=function(t){var e=this.getPageFromGraphics(t);return this.internalGetValue(e)},i.prototype.internalGetValue=function(t){var e=t.document.pages.indexOf(t)+1;return Ue.convert(e,this.numberStyle)},i}(Xe),Ze=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),$e=function(t){function e(e,i,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var s=t.call(this)||this;return s.internalAutomaticFields=null,s.internalText="",s.font=e,s.brush=i,s.text=r,s.automaticFields=n,s}return Ze(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.internalText},set:function(t){this.internalText=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"automaticFields",{get:function(){return this.internalAutomaticFields},set:function(t){this.internalAutomaticFields=t},enumerable:!0,configurable:!0}),e.prototype.getValue=function(t){var e=this.text.toString();if(void 0!==this.automaticFields&&null!=this.automaticFields&&this.automaticFields.length>0)for(var i=0;i<this.automaticFields.length;i++){var r=this.automaticFields[i];e=e.replace("{"+i+"}",r.getValue(t))}return e},e}(Xe),Qe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ti=function(t){function e(){var e=t.call(this)||this;return e.list=new rt,e.painterGraphics=[],e}return Qe(e,t),e.prototype.performDraw=function(e,i,r,n){t.prototype.performDrawHelper.call(this,e,i,r,n);var o=this.getPageFromGraphics(e).document,s=this.getValue(e);if(this.list.containsKey(o)){var a=this.list.getValue(o),h=new j(i.x+this.location.x,i.y+this.location.y);e.drawPdfTemplate(a.template,h,new R(a.template.width*r,a.template.height*n)),this.painterGraphics.push(e)}else{var l=this.getSize(),u=new te(l);this.list.setValue(o,new Ke(u,s)),u.graphics.drawString(s,this.getFont(),this.pen,this.getBrush(),0,0,l.width,l.height,this.stringFormat);h=new j(i.x+this.location.x,i.y+this.location.y);e.drawPdfTemplate(u,h,new R(u.width*r,u.height*n)),this.painterGraphics.push(e)}},e}(ht),ei=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ii=function(e){function i(i,r){var n=e.call(this)||this;return n.internalNumberStyle=t.PdfNumberStyle.Numeric,void 0===r?n.font=i:r instanceof V?(n.font=i,n.brush=r):(n.font=i,n.bounds=r),n}return ei(i,e),Object.defineProperty(i.prototype,"numberStyle",{get:function(){return this.internalNumberStyle},set:function(t){this.internalNumberStyle=t},enumerable:!0,configurable:!0}),i.prototype.getValue=function(t){var e=this.getPageFromGraphics(t).section.parent.document.pages.count;return Ue.convert(e,this.numberStyle)},i}(ti);!function(t){t[t.Location=0]="Location",t[t.FitToPage=1]="FitToPage",t[t.FitR=2]="FitR"}(t.PdfDestinationMode||(t.PdfDestinationMode={}));var ri=function(){function e(e,i){this.dictionaryProperties=new a,this.destinationMode=t.PdfDestinationMode.Location,this.zoomFactor=0,this.destinationLocation=new j(0,0),this.bounds=new B,this.array=new m;t.PdfPageRotateAngle.RotateAngle0;this.destinationLocation=new j(0,this.destinationLocation.y),this.pdfPage=e,i instanceof j?this.destinationLocation=i:this.bounds=i}return Object.defineProperty(e.prototype,"zoom",{get:function(){return this.zoomFactor},set:function(t){this.zoomFactor=t,this.initializePrimitive()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},set:function(t){this.pdfPage=t,this.initializePrimitive()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this.destinationMode},set:function(t){this.destinationMode=t,this.initializePrimitive()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.destinationLocation},set:function(t){this.destinationLocation=t,this.initializePrimitive()},enumerable:!0,configurable:!0}),e.prototype.pointToNativePdf=function(t,e){return t.section.pointToNativePdf(t,e)},e.prototype.initializePrimitive=function(){switch(this.array.clear(),this.array.add(new C(this.pdfPage)),this.destinationMode){case t.PdfDestinationMode.Location:var e=this.pdfPage,i=new j;i=this.pointToNativePdf(e,this.destinationLocation),this.array.add(new o(this.dictionaryProperties.xyz)),this.array.add(new g(i.x)),this.array.add(new g(i.y)),this.array.add(new g(this.zoomFactor));break;case t.PdfDestinationMode.FitToPage:this.array.add(new o(this.dictionaryProperties.fit))}},Object.defineProperty(e.prototype,"element",{get:function(){return this.initializePrimitive(),this.array},enumerable:!0,configurable:!0}),e}(),ni=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),oi=function(e){function i(i,r,n){var o=e.call(this,r)||this;return o.isEmbedFont=!1,o.isUnicode=!0,void 0!==n?o.createFontInternal(i,n):o.createFontInternal(i,t.PdfFontStyle.Regular),o}return ni(i,e),i.prototype.equalsToFont=function(t){return!1},i.prototype.getLineWidth=function(e,i){var r=0;r=null!==i&&i.textDirection!==t.PdfTextDirection.None?this.getUnicodeLineWidth(e,r,i).width:this.fontInternal.getLineWidth(e);var n=this.metrics.getSize(i);return r*=z.charSizeMultiplier*n,r=this.applyFormatSettings(e,i,r)},i.prototype.getCharWidth=function(t,e){var i=this.fontInternal.getCharWidth(t);return i*=.001*this.metrics.getSize(e)},i.prototype.createFontInternal=function(t,e){this.fontInternal=new zt(t,this.size),this.calculateStyle(e),this.initializeInternals()},i.prototype.calculateStyle=function(e){var i=this.fontInternal.ttfMetrics.macStyle;0!=(e&t.PdfFontStyle.Underline)&&(i|=t.PdfFontStyle.Underline),0!=(e&t.PdfFontStyle.Strikeout)&&(i|=t.PdfFontStyle.Strikeout),this.setStyle(i)},i.prototype.initializeInternals=function(){var t=null;we.enableCache&&(t=we.cache.search(this));var e=null;if(null!==t&&void 0!==t){e=t.getInternals();var i=t.metrics;(i=i.clone()).size=this.size,this.metrics=i,this.fontInternal=t.fontInternal}else null==t&&(this.fontInternal instanceof zt&&(this.fontInternal.isEmbed=this.isEmbedFont),this.fontInternal.createInternals(),e=this.fontInternal.getInternals(),this.metrics=this.fontInternal.metrics);this.metrics.isUnicodeFont=!0,this.setInternals(e)},i.prototype.setSymbols=function(t){var e=this.fontInternal;null!=e&&e.setSymbols(t)},Object.defineProperty(i.prototype,"Unicode",{get:function(){return this.isUnicode},enumerable:!0,configurable:!0}),i.prototype.getUnicodeLineWidth=function(e,i,r){i=0;var n=null,o=(new Ut).getGlyphIndex(e,this,r.textDirection===t.PdfTextDirection.RightToLeft,n,!0),s=o.success;if(n=o.glyphs,s&&null!==n)for(var a=this.fontInternal.ttfReader,h=0,l=n.length;h<l;h++){var u=n[h],c=a.getGlyph(u);null!==c&&void 0!==c&&(i+=c.width)}return{success:s,width:i}},i}(z),si=function(){function e(t,e,i,r,n){t instanceof B&&void 0===e?this.InitiateBounds(t.x,t.y,t.width,t.height,null):t instanceof B&&e instanceof ae&&void 0===i?this.InitiateBounds(t.x,t.y,t.width,t.height,e):t instanceof j&&e instanceof R&&void 0===i?this.InitiateBounds(t.x,t.y,e.width,e.height,null):t instanceof j&&e instanceof R&&i instanceof ae&&void 0===r?this.InitiateBounds(t.x,t.y,e.width,e.height,i):t instanceof R&&void 0===e?this.InitiateBounds(0,0,t.width,t.height,null):"number"==typeof t&&"number"==typeof e&&void 0===i?this.InitiateBounds(0,0,t,e,null):"number"==typeof t&&"number"==typeof e&&i instanceof ae&&void 0===r?this.InitiateBounds(0,0,t,e,i):this.InitiateBounds(t,e,i,r,null)}return Object.defineProperty(e.prototype,"dock",{get:function(){return this.dockStyle},set:function(t){this.dockStyle=t,this.resetAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.alignmentStyle},set:function(t){this.setAlignment(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"foreground",{get:function(){return this.isForeground},set:function(t){this.isForeground=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"background",{get:function(){return!this.isForeground},set:function(t){this.isForeground=!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.currentLocation},set:function(e){this.type===t.TemplateType.None&&(this.currentLocation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return void 0!==this.currentLocation?this.currentLocation.x:0},set:function(e){this.type===t.TemplateType.None&&(this.currentLocation.x=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return void 0!==this.currentLocation?this.currentLocation.y:0},set:function(e){this.type===t.TemplateType.None&&(this.currentLocation.y=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.template.size},set:function(e){this.type===t.TemplateType.None&&this.template.reset(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.template.width},set:function(e){if(this.template.width!==e&&this.type===t.TemplateType.None){var i=this.template.size;i.width=e,this.template.reset(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.template.height},set:function(e){if(this.template.height!==e&&this.type===t.TemplateType.None){var i=this.template.size;i.height=e,this.template.reset(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){return this.template.graphics},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.pdfTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.templateType},set:function(t){this.updateDocking(t),this.templateType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return new B(new j(this.x,this.y),this.size)},set:function(e){this.type===t.TemplateType.None&&(this.location=new j(e.x,e.y),this.size=new R(e.width,e.height))},enumerable:!0,configurable:!0}),e.prototype.InitiateBounds=function(t,e,i,r,n){this.x=t,this.y=e,this.pdfTemplate=new te(i,r)},e.prototype.updateDocking=function(e){if(e!==t.TemplateType.None){switch(e){case t.TemplateType.Top:this.dock=t.PdfDockStyle.Top;break;case t.TemplateType.Bottom:this.dock=t.PdfDockStyle.Bottom;break;case t.TemplateType.Left:this.dock=t.PdfDockStyle.Left;break;case t.TemplateType.Right:this.dock=t.PdfDockStyle.Right}this.resetAlignment()}},e.prototype.resetAlignment=function(){this.alignment=t.PdfAlignmentStyle.None},e.prototype.setAlignment=function(e){if(this.dock===t.PdfDockStyle.None)this.alignmentStyle=e;else{var i=!1;switch(this.dock){case t.PdfDockStyle.Left:i=e===t.PdfAlignmentStyle.TopLeft||e===t.PdfAlignmentStyle.MiddleLeft||e===t.PdfAlignmentStyle.BottomLeft||e===t.PdfAlignmentStyle.None;break;case t.PdfDockStyle.Top:i=e===t.PdfAlignmentStyle.TopLeft||e===t.PdfAlignmentStyle.TopCenter||e===t.PdfAlignmentStyle.TopRight||e===t.PdfAlignmentStyle.None;break;case t.PdfDockStyle.Right:i=e===t.PdfAlignmentStyle.TopRight||e===t.PdfAlignmentStyle.MiddleRight||e===t.PdfAlignmentStyle.BottomRight||e===t.PdfAlignmentStyle.None;break;case t.PdfDockStyle.Bottom:i=e===t.PdfAlignmentStyle.BottomLeft||e===t.PdfAlignmentStyle.BottomCenter||e===t.PdfAlignmentStyle.BottomRight||e===t.PdfAlignmentStyle.None;break;case t.PdfDockStyle.Fill:i=e===t.PdfAlignmentStyle.MiddleCenter||e===t.PdfAlignmentStyle.None}i&&(this.alignmentStyle=e)}},e.prototype.draw=function(t,e){var i=t.page,r=this.calculateBounds(i,e);-0===r.x&&(r.x=0),t.graphics.drawPdfTemplate(this.template,new j(r.x,r.y),new R(r.width,r.height))},e.prototype.calculateBounds=function(e,i){var r=this.bounds;return this.alignmentStyle!==t.PdfAlignmentStyle.None?r=this.getAlignmentBounds(e,i):this.dockStyle!==t.PdfDockStyle.None&&(r=this.getDockBounds(e,i)),r},e.prototype.getAlignmentBounds=function(e,i){this.bounds;return this.type===t.TemplateType.None?this.getSimpleAlignmentBounds(e,i):this.getTemplateAlignmentBounds(e,i)},e.prototype.getSimpleAlignmentBounds=function(e,i){var r=this.bounds,n=e.section.getActualBounds(i,e,!1),o=this.x,s=this.y;switch(this.alignmentStyle){case t.PdfAlignmentStyle.TopLeft:o=0,s=0;break;case t.PdfAlignmentStyle.TopCenter:o=(n.width-this.width)/2,s=0;break;case t.PdfAlignmentStyle.TopRight:o=n.width-this.width,s=0;break;case t.PdfAlignmentStyle.MiddleLeft:o=0,s=(n.height-this.height)/2;break;case t.PdfAlignmentStyle.MiddleCenter:o=(n.width-this.width)/2,s=(n.height-this.height)/2;break;case t.PdfAlignmentStyle.MiddleRight:o=n.width-this.width,s=(n.height-this.height)/2;break;case t.PdfAlignmentStyle.BottomLeft:o=0,s=n.height-this.height;break;case t.PdfAlignmentStyle.BottomCenter:o=(n.width-this.width)/2,s=n.height-this.height;break;case t.PdfAlignmentStyle.BottomRight:o=n.width-this.width,s=n.height-this.height}return r.x=o,r.y=s,r},e.prototype.getTemplateAlignmentBounds=function(e,i){var r=this.bounds,n=e.section,o=n.getActualBounds(i,e,!1),s=this.x,a=this.y;switch(this.alignmentStyle){case t.PdfAlignmentStyle.TopLeft:this.type===t.TemplateType.Left?(s=-o.x,a=0):this.type===t.TemplateType.Top&&(s=-o.x,a=-o.y);break;case t.PdfAlignmentStyle.TopCenter:s=(o.width-this.width)/2,a=-o.y;break;case t.PdfAlignmentStyle.TopRight:this.type===t.TemplateType.Right?(s=o.width+n.getRightIndentWidth(i,e,!1)-this.width,a=0):this.type===t.TemplateType.Top&&(s=o.width+n.getRightIndentWidth(i,e,!1)-this.width,a=-o.y);break;case t.PdfAlignmentStyle.MiddleLeft:s=-o.x,a=(o.height-this.height)/2;break;case t.PdfAlignmentStyle.MiddleCenter:s=(o.width-this.width)/2,a=(o.height-this.height)/2;break;case t.PdfAlignmentStyle.MiddleRight:s=o.width+n.getRightIndentWidth(i,e,!1)-this.width,a=(o.height-this.height)/2;break;case t.PdfAlignmentStyle.BottomLeft:this.type===t.TemplateType.Left?(s=-o.x,a=o.height-this.height):this.type===t.TemplateType.Bottom&&(s=-o.x,a=o.height+n.getBottomIndentHeight(i,e,!1)-this.height);break;case t.PdfAlignmentStyle.BottomCenter:s=(o.width-this.width)/2,a=o.height+n.getBottomIndentHeight(i,e,!1)-this.height;break;case t.PdfAlignmentStyle.BottomRight:this.type===t.TemplateType.Right?(s=o.width+n.getRightIndentWidth(i,e,!1)-this.width,a=o.height-this.height):this.type===t.TemplateType.Bottom&&(s=o.width+n.getRightIndentWidth(i,e,!1)-this.width,a=o.height+n.getBottomIndentHeight(i,e,!1)-this.height)}return r.x=s,r.y=a,r},e.prototype.getDockBounds=function(e,i){this.bounds;return this.type===t.TemplateType.None?this.getSimpleDockBounds(e,i):this.getTemplateDockBounds(e,i)},e.prototype.getSimpleDockBounds=function(e,i){this.bounds;var r=e.section.getActualBounds(i,e,!1),n=this.x,o=this.y,s=this.width,a=this.height;switch(this.dockStyle){case t.PdfDockStyle.Left:n=0,o=0,s=this.width,a=r.height;break;case t.PdfDockStyle.Top:n=0,o=0,s=r.width,a=this.height;break;case t.PdfDockStyle.Right:n=r.width-this.width,o=0,s=this.width,a=r.height;break;case t.PdfDockStyle.Bottom:n=0,o=r.height-this.height,s=r.width,a=this.height;break;case t.PdfDockStyle.Fill:n=0,n=0,s=r.width,a=r.height}return new B(n,o,s,a)},e.prototype.getTemplateDockBounds=function(e,i){this.bounds;var r=e.section,n=r.getActualBounds(i,e,!1),o=r.pageSettings.getActualSize(),s=this.x,a=this.y,h=this.width,l=this.height;switch(this.dockStyle){case t.PdfDockStyle.Left:s=-n.x,a=0,h=this.width,l=n.height;break;case t.PdfDockStyle.Top:s=-n.x,a=-n.y,h=o.width,l=this.height,n.height<0&&(a=-n.y+o.height);break;case t.PdfDockStyle.Right:s=n.width+r.getRightIndentWidth(i,e,!1)-this.width,a=0,h=this.width,l=n.height;break;case t.PdfDockStyle.Bottom:s=-n.x,a=n.height+r.getBottomIndentHeight(i,e,!1)-this.height,h=o.width,l=this.height,n.height<0&&(a-=o.height);break;case t.PdfDockStyle.Fill:s=0,s=0,h=n.width,l=n.height}return new B(s,a,h,l)},e}(),ai=function(){function e(){var e=new Q(new T(0,0,0));e.dashStyle=t.PdfDashStyle.Solid;var i=new Q(new T(0,0,0));i.dashStyle=t.PdfDashStyle.Solid;var r=new Q(new T(0,0,0));r.dashStyle=t.PdfDashStyle.Solid;var n=new Q(new T(0,0,0));n.dashStyle=t.PdfDashStyle.Solid,this.leftPen=e,this.rightPen=i,this.topPen=r,this.bottomPen=n}return Object.defineProperty(e.prototype,"left",{get:function(){return this.leftPen},set:function(t){this.leftPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.rightPen},set:function(t){this.rightPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.topPen},set:function(t){this.topPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.bottomPen},set:function(t){this.bottomPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"all",{set:function(t){this.leftPen=this.rightPen=this.topPen=this.bottomPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAll",{get:function(){return this.leftPen===this.rightPen&&this.leftPen===this.topPen&&this.leftPen===this.bottomPen},enumerable:!0,configurable:!0}),Object.defineProperty(e,"default",{get:function(){return new e},enumerable:!0,configurable:!0}),e}(),hi=function(){function t(t,e,i,r){this.hasLeftPad=!1,this.hasRightPad=!1,this.hasTopPad=!1,this.hasBottomPad=!1,void 0===t?(this.leftPad=this.rightPad=5.76,this.bottomPad=this.topPad=.5):(this.leftPad=t,this.rightPad=e,this.topPad=i,this.bottomPad=r,this.hasLeftPad=!0,this.hasRightPad=!0,this.hasTopPad=!0,this.hasBottomPad=!0)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.leftPad},set:function(t){this.leftPad=t,this.hasLeftPad=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.rightPad},set:function(t){this.rightPad=t,this.hasRightPad=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.topPad},set:function(t){this.topPad=t,this.hasTopPad=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.bottomPad},set:function(t){this.bottomPad=t,this.hasBottomPad=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"all",{set:function(t){this.leftPad=this.rightPad=this.topPad=this.bottomPad=t,this.hasLeftPad=!0,this.hasRightPad=!0,this.hasTopPad=!0,this.hasBottomPad=!0},enumerable:!0,configurable:!0}),t}();!function(t){t[t.Overlap=0]="Overlap",t[t.Inside=1]="Inside"}(t.PdfBorderOverlapStyle||(t.PdfBorderOverlapStyle={}));var li=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ui=function(){function t(){}return Object.defineProperty(t.prototype,"backgroundBrush",{get:function(){return this.gridBackgroundBrush},set:function(t){this.gridBackgroundBrush=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBrush",{get:function(){return this.gridTextBrush},set:function(t){this.gridTextBrush=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textPen",{get:function(){return this.gridTextPen},set:function(t){this.gridTextPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.gridFont},set:function(t){this.gridFont=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this.gridBackgroundImage},set:function(t){this.gridBackgroundImage=t},enumerable:!0,configurable:!0}),t}(),ci=function(e){function i(){var i=e.call(this)||this;return i.gridBorderOverlapStyle=t.PdfBorderOverlapStyle.Overlap,i.bAllowHorizontalOverflow=!1,i.gridHorizontalOverflowType=t.PdfHorizontalOverflowType.LastPage,i}return li(i,e),Object.defineProperty(i.prototype,"cellSpacing",{get:function(){return void 0===this.gridCellSpacing&&(this.gridCellSpacing=0),this.gridCellSpacing},set:function(t){this.gridCellSpacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"horizontalOverflowType",{get:function(){return this.gridHorizontalOverflowType},set:function(t){this.gridHorizontalOverflowType=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"allowHorizontalOverflow",{get:function(){return this.bAllowHorizontalOverflow},set:function(t){this.bAllowHorizontalOverflow=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cellPadding",{get:function(){return void 0===this.gridCellPadding&&(this.gridCellPadding=new hi),this.gridCellPadding},set:function(t){void 0===this.gridCellPadding?(this.gridCellPadding=new hi,this.gridCellPadding=t):this.gridCellPadding=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"borderOverlapStyle",{get:function(){return this.gridBorderOverlapStyle},set:function(t){this.gridBorderOverlapStyle=t},enumerable:!0,configurable:!0}),i}(ui),pi=function(t){function e(){var e=t.call(this)||this;return e.gridCellBorders=ai.default,e}return li(e,t),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return this.format},set:function(t){this.format=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borders",{get:function(){return this.gridCellBorders},set:function(t){this.gridCellBorders=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellPadding",{get:function(){return this.gridCellPadding},set:function(t){null!=this.gridCellPadding&&void 0!==this.gridCellPadding||(this.gridCellPadding=new hi),this.gridCellPadding=t},enumerable:!0,configurable:!0}),e}(ui),di=function(){function t(){}return Object.defineProperty(t.prototype,"backgroundBrush",{get:function(){return this.gridRowBackgroundBrush},enumerable:!0,configurable:!0}),t.prototype.setBackgroundBrush=function(t){if(this.gridRowBackgroundBrush=t,void 0!==this.parent)for(var e=0;e<this.parent.cells.count;e++)this.parent.cells.getCell(e).style.backgroundBrush=t},Object.defineProperty(t.prototype,"textBrush",{get:function(){return this.gridRowTextBrush},enumerable:!0,configurable:!0}),t.prototype.setTextBrush=function(t){if(this.gridRowTextBrush=t,void 0!==this.parent)for(var e=0;e<this.parent.cells.count;e++)this.parent.cells.getCell(e).style.textBrush=t},Object.defineProperty(t.prototype,"textPen",{get:function(){return this.gridRowTextPen},enumerable:!0,configurable:!0}),t.prototype.setTextPen=function(t){if(this.gridRowTextPen=t,void 0!==this.parent)for(var e=0;e<this.parent.cells.count;e++)this.parent.cells.getCell(e).style.textPen=t},Object.defineProperty(t.prototype,"font",{get:function(){return this.gridRowFont},enumerable:!0,configurable:!0}),t.prototype.setFont=function(t){if(this.gridRowFont=t,void 0!==this.parent)for(var e=0;e<this.parent.cells.count;e++)this.parent.cells.getCell(e).style.font=t},Object.defineProperty(t.prototype,"border",{get:function(){return void 0===this.gridRowBorder&&this.setBorder(new ai),this.gridRowBorder},enumerable:!0,configurable:!0}),t.prototype.setBorder=function(t){if(this.gridRowBorder=t,void 0!==this.parent)for(var e=0;e<this.parent.cells.count;e++)this.parent.cells.getCell(e).style.borders=t},t.prototype.setParent=function(t){this.parent=t},Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this.gridRowBackgroundImage},enumerable:!0,configurable:!0}),t}();!function(t){t[t.NextPage=0]="NextPage",t[t.LastPage=1]="LastPage"}(t.PdfHorizontalOverflowType||(t.PdfHorizontalOverflowType={}));var fi=function(){function e(t){this.cellWidth=0,this.cellHeight=0,this.tempval=0,this.fontSpilt=!1,this.finsh=!0,this.rowSpanRemainingHeight=0,this.hasRowSpan=!1,this.hasColSpan=!1,this.isFinish=!0,this.present=!1,this.gridRowSpan=1,this.colSpan=1,void 0!==t&&(this.gridRow=t)}return Object.defineProperty(e.prototype,"isCellMergeContinue",{get:function(){return this.internalIsCellMergeContinue},set:function(t){this.internalIsCellMergeContinue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRowMergeContinue",{get:function(){return this.internalIsRowMergeContinue},set:function(t){this.internalIsRowMergeContinue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCellMergeStart",{get:function(){return this.internalIsCellMergeStart},set:function(t){this.internalIsCellMergeStart=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRowMergeStart",{get:function(){return this.internalIsRowMergeStart},set:function(t){this.internalIsRowMergeStart=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remainingString",{get:function(){return this.remaining},set:function(t){this.remaining=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FinishedDrawingCell",{get:function(){return this.isFinish},set:function(t){this.isFinish=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return null==this.format&&(this.format=new E),this.format},set:function(t){this.format=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this.gridRow},set:function(t){this.gridRow=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.objectValue},set:function(t){if(this.objectValue=t,this.objectValue instanceof vi){this.row.grid.isSingleGrid=!1,this.objectValue.ParentCell=this,this.objectValue.isChildGrid=!0;for(var e=this.row.grid.rows.count,i=0;i<e;i++)for(var r=this.row.grid.rows.getRow(i),n=r.cells.count,o=0;o<n;o++)r.cells.getCell(o).parent=this}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowSpan",{get:function(){return this.gridRowSpan},set:function(t){if(t<1)throw new Error("ArgumentException : Invalid span specified, must be greater than or equal to 1");this.gridRowSpan=t,this.row.rowSpanExists=!0,this.row.grid.hasRowSpanSpan=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return null==this.cellStyle&&(this.cellStyle=new pi),this.cellStyle},set:function(t){this.cellStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 0===this.cellHeight&&(this.cellHeight=this.measureHeight()),this.cellHeight},set:function(t){this.cellHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpan",{get:function(){return this.colSpan},set:function(t){if(t<1)throw Error("Invalid span specified, must be greater than or equal to 1");this.colSpan=t,this.row.columnSpanExists=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return(0===this.cellWidth||this.row.grid.isComplete)&&(this.cellWidth=this.measureWidth()),Math.round(this.cellWidth)},set:function(t){this.cellWidth=t},enumerable:!0,configurable:!0}),e.prototype.measureWidth=function(){var t=0,e=new M;if("string"==typeof this.objectValue)t+=e.layout(this.objectValue,this.getTextFont(),this.stringFormat,new R(Number.MAX_VALUE,Number.MAX_VALUE),!1,new R(0,0)).actualSize.width,t+=2*(this.style.borders.left.width+this.style.borders.right.width);else if(this.objectValue instanceof vi)t=this.objectValue.size.width;else if(this.objectValue instanceof ft||this.objectValue instanceof mt)t+=this.objectValue.width;else if(this.objectValue instanceof _e){var i=this.objectValue;t+=e.layout(i.text,i.font,i.stringFormat,new R(0,0),!1,new R(0,0)).actualSize.width,t+=2*(this.style.borders.left.width+this.style.borders.right.width)}return this.objectValue instanceof vi?null!=this.style.cellPadding||void 0!==this.style.cellPadding?(void 0!==this.style.cellPadding.left&&this.style.cellPadding.hasLeftPad&&(t+=this.style.cellPadding.left),void 0!==this.style.cellPadding.right&&this.style.cellPadding.hasRightPad&&(t+=this.style.cellPadding.right)):(void 0!==this.row.grid.style.cellPadding.left&&this.row.grid.style.cellPadding.hasLeftPad&&(t+=this.row.grid.style.cellPadding.left),void 0!==this.row.grid.style.cellPadding.right&&this.row.grid.style.cellPadding.hasRightPad&&(t+=this.row.grid.style.cellPadding.right)):null!=this.style.cellPadding?t+=this.style.cellPadding.left+this.style.cellPadding.right:t+=this.row.grid.style.cellPadding.left+this.row.grid.style.cellPadding.right,t+=this.row.grid.style.cellSpacing},e.prototype.drawCellBackground=function(t,e){var i=this.getBackgroundBrush();if(null!=i&&(t.save(),t.drawRectangle(i,e.x,e.y,e.width,e.height),t.restore()),null!=this.style.backgroundImage){this.getBackgroundImage();t.drawImage(this.style.backgroundImage,e.x,e.y,e.width,e.height)}},e.prototype.adjustContentLayoutArea=function(t){var e=new B(t.x,t.y,t.width,t.height);return this.objectValue instanceof vi?(null==this.style.cellPadding||void 0===this.style.cellPadding?(void 0!==this.gridRow.grid.style.cellPadding.left&&this.gridRow.grid.style.cellPadding.hasLeftPad&&(e.x+=this.gridRow.grid.style.cellPadding.left+this.cellStyle.borders.left.width,e.width-=this.gridRow.grid.style.cellPadding.left),void 0!==this.gridRow.grid.style.cellPadding.top&&this.gridRow.grid.style.cellPadding.hasTopPad&&(e.y+=this.gridRow.grid.style.cellPadding.top+this.cellStyle.borders.top.width,e.height-=this.gridRow.grid.style.cellPadding.top),void 0!==this.gridRow.grid.style.cellPadding.right&&this.gridRow.grid.style.cellPadding.hasRightPad&&(e.width-=this.gridRow.grid.style.cellPadding.right),void 0!==this.gridRow.grid.style.cellPadding.bottom&&this.gridRow.grid.style.cellPadding.hasBottomPad&&(e.height-=this.gridRow.grid.style.cellPadding.bottom)):(void 0!==this.style.cellPadding.left&&this.style.cellPadding.hasLeftPad&&(e.x+=this.style.cellPadding.left+this.cellStyle.borders.left.width,e.width-=this.style.cellPadding.left),void 0!==this.style.cellPadding.top&&this.style.cellPadding.hasTopPad&&(e.y+=this.style.cellPadding.top+this.cellStyle.borders.top.width,e.height-=this.style.cellPadding.top),void 0!==this.style.cellPadding.right&&this.style.cellPadding.hasRightPad&&(e.width-=this.style.cellPadding.right),void 0!==this.style.cellPadding.bottom&&this.style.cellPadding.hasBottomPad&&(e.height-=this.style.cellPadding.bottom)),e.width-=this.cellStyle.borders.left.width+this.cellStyle.borders.right.width,e.height-=this.cellStyle.borders.top.width+this.cellStyle.borders.bottom.width):void 0===this.style.cellPadding||null==this.style.cellPadding?(e.x+=this.gridRow.grid.style.cellPadding.left+this.cellStyle.borders.left.width,e.y+=this.gridRow.grid.style.cellPadding.top+this.cellStyle.borders.top.width,e.width-=this.gridRow.grid.style.cellPadding.right+this.gridRow.grid.style.cellPadding.left,e.height-=this.gridRow.grid.style.cellPadding.bottom+this.gridRow.grid.style.cellPadding.top,e.height-=this.cellStyle.borders.top.width+this.cellStyle.borders.bottom.width):(e.x+=this.style.cellPadding.left+this.cellStyle.borders.left.width,e.y+=this.style.cellPadding.top+this.cellStyle.borders.top.width,e.width-=this.style.cellPadding.right+this.style.cellPadding.left,e.width-=this.cellStyle.borders.left.width+this.cellStyle.borders.right.width,e.height-=this.style.cellPadding.bottom+this.style.cellPadding.top,e.height-=this.cellStyle.borders.top.width+this.cellStyle.borders.bottom.width,1===this.rowSpan&&(e.width-=this.style.borders.left.width)),e},e.prototype.draw=function(e,i,r){var n=null;if(this.internalIsCellMergeContinue||this.internalIsRowMergeContinue){if(!this.internalIsCellMergeContinue||!this.row.grid.style.allowHorizontalOverflow)return n;if(this.row.rowOverflowIndex>0&&this.row.cells.indexOf(this)!=this.row.rowOverflowIndex+1||0==this.row.rowOverflowIndex&&this.internalIsCellMergeContinue)return n}i=this.adjustOuterLayoutArea(i,e),this.drawCellBackground(e,i);var o=this.getTextPen(),s=this.getTextBrush();void 0===o&&void 0===s&&(s=new F(new T(0,0,0)));var a=this.getTextFont(),h=this.getStringFormat(),l=i;if(l.height>=e.clientSize.height&&this.row.grid.allowRowBreakAcrossPages&&(l.height-=l.y),l=this.adjustContentLayoutArea(l),"string"==typeof this.objectValue||"string"==typeof this.remaining){var u=void 0,c=void 0;if(c=l.height<a.height?new B(l.x,l.y,l.width,a.height):l,l.height<a.height&&this.row.grid.isChildGrid&&null!=this.row.grid.ParentCell){var p=c.height-this.row.grid.ParentCell.row.grid.style.cellPadding.bottom-this.row.grid.style.cellPadding.bottom;-1!=this.row.grid.splitChildRowIndex&&(this.fontSpilt=!0,this.row.rowFontSplit=!0),p>0&&p<a.height&&(c.height=p)}0!=this.gridRow.grid.style.cellSpacing&&(c.width-=this.gridRow.grid.style.cellSpacing,i.width-=this.gridRow.grid.style.cellSpacing),this.isFinish?(u=""===this.remaining?this.remaining:this.objectValue,e.drawString(u,a,o,s,c.x,c.y,c.width,c.height,h),-1==this.row.grid.splitChildRowIndex||this.row.grid.isChildGrid||void 0!==this.remaining||(this.remaining="")):(void 0!==this.remaining&&null!==this.remaining||(this.remaining=""),this.row.repeatFlag&&e.drawString(this.remaining,a,o,s,c.x,c.y,c.width,c.height,h),this.isFinish=!0),n=e.stringLayoutResult}else if(this.objectValue instanceof vi){var d=this.objectValue;d.isChildGrid=!0,d.ParentCell=this;var f=void 0;f=l,0!=this.gridRow.grid.style.cellSpacing&&(i.width-=this.gridRow.grid.style.cellSpacing);var g=new xi(d),m=new Li;null!=this.row.grid.LayoutFormat?m=this.row.grid.LayoutFormat:m.layout=t.PdfLayoutType.Paginate;var y=new Ve;if(null!=e.layer){y.page=e.page,y.bounds=f,y.format=m,d.setSpan(),d.checkSpan();var b=g.Layouter(y);this.value=d,-1!==this.row.grid.splitChildRowIndex&&(this.height=this.row.rowBreakHeightValue),y.page!=b.page&&(b.bounds.height=this.row.rowBreakHeightValue,0==this.row.rowBreakHeight?this.row.NestedGridLayoutResult=b:this.row.rowBreakHeight=this.row.rowBreakHeightValue)}}else if(this.objectValue instanceof ft||this.objectValue instanceof mt){var w=void 0;w=this.objectValue.width<=l.width?new B(l.x,l.y,this.objectValue.width,l.height):l,e.drawImage(this.objectValue,w.x,w.y,w.width,w.height)}else this.objectValue instanceof _e?this.objectValue.draw(e.currentPage,l):void 0===this.objectValue&&(this.objectValue="",e.drawString(this.objectValue,a,o,s,l.x,l.y,l.width,l.height,h),null!=this.style.cellPadding&&0==this.style.cellPadding.bottom&&0==this.style.cellPadding.left&&0==this.style.cellPadding.right&&0==this.style.cellPadding.top&&(i.width-=this.style.borders.left.width+this.style.borders.right.width),0!=this.gridRow.grid.style.cellSpacing&&(i.width-=this.gridRow.grid.style.cellSpacing));return null!=this.style.borders&&(this.fontSpilt?-1!=this.row.grid.ParentCell.row.grid.splitChildRowIndex&&(this.row.rowFontSplit=!1,this.drawCellBorders(e,i)):this.drawCellBorders(e,i)),n},e.prototype.drawCellBorders=function(e,i){this.row.grid.style.borderOverlapStyle===t.PdfBorderOverlapStyle.Inside&&(i.x+=this.style.borders.left.width,i.y+=this.style.borders.top.width,i.width-=this.style.borders.right.width,i.height-=this.style.borders.bottom.width);var r=new j(i.x,i.y+i.height),n=new j(i.x,i.y),o=this.cellStyle.borders.left;this.cellStyle.borders.left.dashStyle===t.PdfDashStyle.Solid&&(o.lineCap=t.PdfLineCap.Square),e.drawLine(o,r,n),r=new j(i.x+i.width,i.y),n=new j(i.x+i.width,i.y+i.height),o=this.cellStyle.borders.right,i.x+i.width>e.clientSize.width-o.width/2&&(r=new j(e.clientSize.width-o.width/2,i.y),n=new j(e.clientSize.width-o.width/2,i.y+i.height)),this.cellStyle.borders.right.dashStyle===t.PdfDashStyle.Solid&&(o.lineCap=t.PdfLineCap.Square),e.drawLine(o,r,n),r=new j(i.x,i.y),n=new j(i.x+i.width,i.y),o=this.cellStyle.borders.top,this.cellStyle.borders.top.dashStyle===t.PdfDashStyle.Solid&&(o.lineCap=t.PdfLineCap.Square),e.drawLine(o,r,n),r=new j(i.x+i.width,i.y+i.height),n=new j(i.x,i.y+i.height),o=this.cellStyle.borders.bottom,this.cellStyle.borders.bottom.dashStyle===t.PdfDashStyle.Solid&&(o.lineCap=t.PdfLineCap.Square),e.drawLine(o,r,n)},e.prototype.adjustOuterLayoutArea=function(t,e){var i=!1,r=this.row.grid.style.cellSpacing;r>0&&(t=new B(t.x+r,t.y+r,t.width-r,t.height-r));var n=this.row.cells.indexOf(this);if(this.columnSpan>1||this.row.rowOverflowIndex>0&&n==this.row.rowOverflowIndex+1&&this.isCellMergeContinue){if(1==(l=this.columnSpan)&&this.isCellMergeContinue)for(var o=n+1;o<this.row.grid.columns.count&&this.row.cells.getCell(o).isCellMergeContinue;o++)l++;for(var s=0,a=n;a<n+l;a++){if(this.row.grid.style.allowHorizontalOverflow){var h=this.row.grid.size.width<e.clientSize.width?this.row.grid.size.width:e.clientSize.width;if((this.row.grid.size.width>e.clientSize.width?t.x+s+this.row.grid.columns.getColumn(a).width:s+this.row.grid.columns.getColumn(a).width)>h)break}s+=this.row.grid.columns.getColumn(a).width}s-=this.row.grid.style.cellSpacing,t.width=s}if(this.rowSpan>1||this.row.rowSpanExists){var l=this.rowSpan,u=this.row.grid.rows.rowCollection.indexOf(this.row);-1==u&&-1!=(u=this.row.grid.headers.indexOf(this.row))&&(i=!0);for(var c=0,a=u;a<u+l;a++){c+=i?this.row.grid.headers.getHeader(a).height:this.row.grid.rows.getRow(a).height;var p=this.row.grid.rows.getRow(a);this.row.grid.rows.rowCollection.indexOf(p)}this.row.cells.indexOf(this);c-=this.row.grid.style.cellSpacing,t.height=c,this.row.rowMergeComplete||(t.height=c)}return t},e.prototype.getTextFont=function(){return void 0!==this.style.font&&null!=this.style.font?this.style.font:void 0!==this.row.style.font&&null!=this.row.style.font?this.row.style.font:void 0!==this.row.grid.style.font&&null!=this.row.grid.style.font?this.row.grid.style.font:we.defaultFont},e.prototype.getTextBrush=function(){return void 0!==this.style.textBrush&&null!=this.style.textBrush?this.style.textBrush:void 0!==this.row.style.textBrush&&null!=this.row.style.textBrush?this.row.style.textBrush:this.row.grid.style.textBrush},e.prototype.getTextPen=function(){return void 0!==this.style.textPen&&null!=this.style.textPen?this.style.textPen:void 0!==this.row.style.textPen&&null!=this.row.style.textPen?this.row.style.textPen:this.row.grid.style.textPen},e.prototype.getBackgroundBrush=function(){return void 0!==this.style.backgroundBrush&&null!=this.style.backgroundBrush?this.style.backgroundBrush:void 0!==this.row.style.backgroundBrush&&null!=this.row.style.backgroundBrush?this.row.style.backgroundBrush:this.row.grid.style.backgroundBrush},e.prototype.getBackgroundImage=function(){return void 0!==this.style.backgroundImage&&null!=this.style.backgroundImage?this.style.backgroundImage:void 0!==this.row.style.backgroundImage&&null!=this.row.style.backgroundImage?this.row.style.backgroundImage:this.row.grid.style.backgroundImage},e.prototype.getStringFormat=function(){return void 0!==this.style.stringFormat&&null!=this.style.stringFormat?this.style.stringFormat:this.stringFormat},e.prototype.measureHeight=function(){var t=this.calculateWidth();null==this.style.cellPadding||void 0===this.style.cellPadding?t-=this.gridRow.grid.style.cellPadding.right+this.gridRow.grid.style.cellPadding.left:(t-=this.style.cellPadding.right+this.style.cellPadding.left,t-=this.style.borders.left.width+this.style.borders.right.width);var e=0,i=new M;if("string"==typeof this.objectValue||"string"==typeof this.remaining){var r=this.objectValue;this.isFinish||(r=null!==this.remaining&&""!==this.remaining&&void 0!==this.remaining?this.remaining:this.objectValue);n=this.row.cells.indexOf(this);0!=this.gridRow.grid.style.cellSpacing&&(t-=2*this.gridRow.grid.style.cellSpacing),this.row.cells.getCell(n).hasColSpan||this.row.cells.getCell(n).hasRowSpan||(this.gridRow.grid.isChildGrid?(t<0?(this.tempval=t,null==this.style.cellPadding||void 0===this.style.cellPadding?this.tempval+=this.gridRow.grid.style.cellPadding.right+this.gridRow.grid.style.cellPadding.left:(this.tempval+=this.style.cellPadding.right+this.style.cellPadding.left,this.tempval+=this.style.borders.left.width+this.style.borders.right.width)):this.tempval=t,e+=i.layout(r,this.getTextFont(),this.stringFormat,new R(this.tempval,0),!1,new R(0,0)).actualSize.height):e+=i.layout(r,this.getTextFont(),this.stringFormat,new R(t,0),!1,new R(0,0)).actualSize.height),e+=2*(this.style.borders.top.width+this.style.borders.bottom.width)}else if(this.objectValue instanceof vi){var n=this.row.cells.indexOf(this),o=0;null!=this.style.cellPadding||void 0!==this.style.cellPadding?(o=this.calculateWidth(),void 0!==this.style.cellPadding.left&&this.style.cellPadding.hasLeftPad&&(o-=this.style.cellPadding.left),void 0!==this.style.cellPadding.right&&this.style.cellPadding.hasRightPad&&(o-=this.style.cellPadding.right)):null!=this.row.grid.style.cellPadding||void 0!==this.row.grid.style.cellPadding?(o=this.calculateWidth(),void 0!==this.row.grid.style.cellPadding.left&&this.row.grid.style.cellPadding.hasLeftPad&&(o-=this.row.grid.style.cellPadding.left),void 0!==this.row.grid.style.cellPadding.right&&this.row.grid.style.cellPadding.hasRightPad&&(o-=this.row.grid.style.cellPadding.right)):o=this.calculateWidth(),this.objectValue.tempWidth=o,this.row.cells.getCell(n).hasColSpan||this.row.cells.getCell(n).hasRowSpan?e+=2*(this.style.borders.top.width+this.style.borders.bottom.width):e=this.objectValue.size.height,0!==this.gridRow.grid.style.cellSpacing&&(t-=2*this.gridRow.grid.style.cellSpacing),null==this.style.cellPadding&&void 0===this.style.cellPadding||(void 0!==this.row.grid.style.cellPadding.top&&this.row.grid.style.cellPadding.hasTopPad&&(e+=this.row.grid.style.cellPadding.top),this.row.grid.style.cellPadding.hasBottomPad&&void 0!==this.row.grid.style.cellPadding.bottom&&(e+=this.row.grid.style.cellPadding.bottom)),e+=this.objectValue.style.cellSpacing}else if(this.objectValue instanceof ft||this.objectValue instanceof mt)e+=this.objectValue.height;else if(this.objectValue instanceof _e){var s=this.objectValue;e+=i.layout(s.text,s.font,s.stringFormat,new R(t,0),!1,new R(0,0)).actualSize.height,e+=2*(this.style.borders.top.width+this.style.borders.bottom.width)}else void 0===this.objectValue&&(null==this.style.cellPadding||void 0===this.style.cellPadding?t-=this.gridRow.grid.style.cellPadding.right+this.gridRow.grid.style.cellPadding.left:(t-=this.style.cellPadding.right+this.style.cellPadding.left,t-=this.style.borders.left.width+this.style.borders.right.width),e+=2*(this.style.borders.top.width+this.style.borders.bottom.width));return this.objectValue instanceof vi?null==this.style.cellPadding||void 0===this.style.cellPadding?(void 0!==this.row.grid.style.cellPadding.top&&this.row.grid.style.cellPadding.hasTopPad&&(e+=this.row.grid.style.cellPadding.top),void 0!==this.row.grid.style.cellPadding.bottom&&this.row.grid.style.cellPadding.hasBottomPad&&(e+=this.row.grid.style.cellPadding.bottom)):(void 0!==this.style.cellPadding.top&&this.style.cellPadding.hasTopPad&&(e+=this.style.cellPadding.top),void 0!==this.style.cellPadding.bottom&&this.style.cellPadding.hasBottomPad&&(e+=this.style.cellPadding.bottom)):null==this.style.cellPadding||void 0===this.style.cellPadding?e+=this.row.grid.style.cellPadding.top+this.row.grid.style.cellPadding.bottom:e+=this.style.cellPadding.top+this.style.cellPadding.bottom,e+=this.row.grid.style.cellSpacing},e.prototype.calculateWidth=function(){var t=this.row.cells.indexOf(this),e=(this.row.grid.rows.rowCollection.indexOf(this.row),this.columnSpan),i=0;if(1===e)for(r=0;r<e;r++)i+=this.row.grid.columns.getColumn(t+r).width;else if(e>1)for(var r=0;r<e;r++)i+=this.row.grid.columns.getColumn(t+r).width,r+1<e&&(this.row.cells.getCell(t+r+1).hasColSpan=!0);if(null!=this.parent&&this.parent.row.width>0&&this.row.grid.isChildGrid&&null!=this.parent&&this.row.width>this.parent.row.width){i=0;for(var n=0;n<this.parent.columnSpan;n++)i+=this.parent.row.grid.columns.getColumn(n).width;i/=this.row.cells.count}return i},e}(),gi=function(){function t(t){this.cells=[],this.gridRow=t}return t.prototype.getCell=function(t){if(t<0||t>=this.count)throw new Error("IndexOutOfRangeException");return this.cells[t]},Object.defineProperty(t.prototype,"count",{get:function(){return this.cells.length},enumerable:!0,configurable:!0}),t.prototype.add=function(t){if(void 0===t){var e=new fi;return this.add(e),t}t.row=this.gridRow,this.cells.push(t)},t.prototype.indexOf=function(t){return this.cells.indexOf(t)},t}(),mi=function(){function t(t){this.columnWidth=0,this.grid=t}return Object.defineProperty(t.prototype,"width",{get:function(){return this.columnWidth},set:function(t){this.isCustomWidth=!0,this.columnWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return null==this.stringFormat&&(this.stringFormat=new E),this.stringFormat},set:function(t){this.stringFormat=t},enumerable:!0,configurable:!0}),t}(),yi=function(){function t(t){this.internalColumns=[],this.columnWidth=0,this.grid=t,this.internalColumns=[]}return t.prototype.add=function(t){for(var e=0;e<t;e++){this.internalColumns.push(new mi(this.grid));for(var i=0;i<this.grid.rows.count;i++){var r=this.grid.rows.getRow(i),n=new fi;n.value="",r.cells.add(n)}}},Object.defineProperty(t.prototype,"count",{get:function(){return this.internalColumns.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return 0===this.columnWidth&&(this.columnWidth=this.measureColumnsWidth()),0===this.grid.initialWidth||this.columnWidth===this.grid.initialWidth||this.grid.style.allowHorizontalOverflow||(this.columnWidth=this.grid.initialWidth,this.grid.isPageWidth=!0),this.columnWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.internalColumns},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(t){if(t>=0&&t<=this.columns.length)return this.columns[t];throw Error("can not get the column from the index: "+t)},t.prototype.measureColumnsWidth=function(){var t=0;this.grid.measureColumnsWidth();for(var e=0,i=this.internalColumns.length;e<i;e++)t+=this.internalColumns[e].width;return t},t.prototype.getDefaultWidths=function(t){for(var e=[],i=this.count,r=0;r<this.count;r++)this.grid.isPageWidth&&t>=0&&!this.internalColumns[r].isCustomWidth?this.internalColumns[r].width=0:(e[r]=this.internalColumns[r].width,this.internalColumns[r].width>0&&this.internalColumns[r].isCustomWidth?(t-=this.internalColumns[r].width,i--):e[r]=0);for(r=0;r<this.count;r++){var n=t/i;e[r]<=0&&(e[r]=n)}return e},t}(),bi=function(){function t(t){this.gridRowOverflowIndex=0,this.rowHeight=0,this.rowWidth=0,this.isrowFinish=!1,this.isRowSpanRowHeightSet=!1,this.noOfPageCount=0,this.isRowHeightSet=!1,this.isPageBreakRowSpanApplied=!1,this.isRowMergeComplete=!0,this.repeatFlag=!1,this.rowFontSplit=!1,this.pdfGrid=t}return Object.defineProperty(t.prototype,"rowSpanExists",{get:function(){return this.bRowSpanExists},set:function(t){this.bRowSpanExists=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return null==this.gridCells&&(this.gridCells=new gi(this)),this.gridCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this.pdfGrid},set:function(t){this.pdfGrid=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return void 0===this.rowStyle&&(this.rowStyle=new di,this.rowStyle.setParent(this)),this.rowStyle},set:function(t){this.rowStyle=t;for(var e=0;e<this.cells.count;e++)this.cells.getCell(e).style.borders=t.border,void 0!==t.font&&(this.cells.getCell(e).style.font=t.font),void 0!==t.backgroundBrush&&(this.cells.getCell(e).style.backgroundBrush=t.backgroundBrush),void 0!==t.backgroundImage&&(this.cells.getCell(e).style.backgroundImage=t.backgroundImage),void 0!==t.textBrush&&(this.cells.getCell(e).style.textBrush=t.textBrush),void 0!==t.textPen&&(this.cells.getCell(e).style.textPen=t.textPen)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowBreakHeight",{get:function(){return void 0===this.gridRowBreakHeight&&(this.gridRowBreakHeight=0),this.gridRowBreakHeight},set:function(t){this.gridRowBreakHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowOverflowIndex",{get:function(){return this.gridRowOverflowIndex},set:function(t){this.gridRowOverflowIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.isRowHeightSet||(this.rowHeight=this.measureHeight()),this.rowHeight},set:function(t){this.rowHeight=t,this.isRowHeightSet=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return 0!==this.rowWidth&&void 0!==this.rowWidth||(this.rowWidth=this.measureWidth()),this.rowWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NestedGridLayoutResult",{get:function(){return this.gridResult},set:function(t){this.gridResult=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpanExists",{get:function(){return this.bColumnSpanExists},set:function(t){this.bColumnSpanExists=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowMergeComplete",{get:function(){return this.isRowMergeComplete},set:function(t){this.isRowMergeComplete=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowIndex",{get:function(){return this.grid.rows.rowCollection.indexOf(this)},enumerable:!0,configurable:!0}),t.prototype.measureHeight=function(){var t,e=0,i=0;t=this.cells.getCell(0).rowSpan>1?0:this.cells.getCell(0).height;for(var r=0;r<this.cells.count;r++){var n=this.cells.getCell(r);if(n.rowSpanRemainingHeight>e&&(e=n.rowSpanRemainingHeight),this.rowMergeComplete=!1,n.rowSpan>1){for(var o=r,s=this.grid.rows.rowCollection.indexOf(this),a=0;a<n.rowSpan;a++)a+1<n.rowSpan&&(this.grid.rows.getRow(s+a+1).cells.getCell(o).hasRowSpan=!0);i<n.height&&(i=n.height)}else t=Math.max(t,n.height)}return i>t&&(t=i),0===t?t=i:e>0&&(t+=e),t},t.prototype.measureWidth=function(){for(var t=0,e=0;e<this.grid.columns.count;e++)t+=this.grid.columns.getColumn(e).width;return t},t}(),wi=function(){function t(t){this.rows=[],this.grid=t}return Object.defineProperty(t.prototype,"count",{get:function(){return this.rows.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowCollection",{get:function(){return this.rows},enumerable:!0,configurable:!0}),t.prototype.addRow=function(t){if(void 0===t){var e=new bi(this.grid);return this.addRow(e),e}if(t.style.setBackgroundBrush(this.grid.style.backgroundBrush),t.style.setFont(this.grid.style.font),t.style.setTextBrush(this.grid.style.textBrush),t.style.setTextPen(this.grid.style.textPen),0===t.cells.count)for(var i=0;i<this.grid.columns.count;i++)t.cells.add(new fi);this.rows.push(t)},t.prototype.getRow=function(t){return this.rows[t]},t}(),Si=function(){function t(t){this.rows=[],this.grid=t,this.rows=[]}return t.prototype.getHeader=function(t){return this.rows[t]},Object.defineProperty(t.prototype,"count",{get:function(){return this.rows.length},enumerable:!0,configurable:!0}),t.prototype.add=function(t){if("number"==typeof t){for(var e=void 0,i=0;i<t;i++){e=new bi(this.grid);for(var r=0;r<this.grid.columns.count;r++)e.cells.add(new fi);this.rows.push(e)}return this.rows}this.rows.push(t)},t.prototype.indexOf=function(t){return this.rows.indexOf(t)},t}(),Pi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),vi=function(t){function e(){var e=t.call(this)||this;return e.gridSize=new R(0,0),e.isGridSplit=!1,e.isRearranged=!1,e.pageBounds=new B,e.listOfNavigatePages=[],e.parentCellIndex=0,e.tempWidth=0,e.breakRow=!0,e.splitChildRowIndex=-1,e.hasRowSpanSpan=!1,e.hasColumnSpan=!1,e.isSingleGrid=!0,e}return Pi(e,t),Object.defineProperty(e.prototype,"raiseBeginCellDraw",{get:function(){return void 0!==this.beginCellDraw&&null!==typeof this.beginCellDraw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raiseEndCellDraw",{get:function(){return void 0!==this.endCellDraw&&null!==typeof this.endCellDraw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repeatHeader",{get:function(){return null!=this.bRepeatHeader&&void 0!==this.bRepeatHeader||(this.bRepeatHeader=!1),this.bRepeatHeader},set:function(t){this.bRepeatHeader=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowRowBreakAcrossPages",{get:function(){return this.breakRow},set:function(t){this.breakRow=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return null!=this.gridColumns&&void 0!==this.gridColumns||(this.gridColumns=new yi(this)),this.gridColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return null==this.gridRows&&(this.gridRows=new wi(this)),this.gridRows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return null!=this.gridHeaders&&void 0!==this.gridHeaders||(this.gridHeaders=new Si(this)),this.gridHeaders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialWidth",{get:function(){return this.gridInitialWidth},set:function(t){this.gridInitialWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return null==this.gridStyle&&(this.gridStyle=new ci),this.gridStyle},set:function(t){null==this.gridStyle&&(this.gridStyle=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPageWidth",{get:function(){return this.ispageWidth},set:function(t){this.ispageWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isChildGrid",{get:function(){return this.ischildGrid},set:function(t){this.ischildGrid=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return 0!==this.gridSize.width&&void 0!==this.gridSize.width||0!==this.gridSize.height||(this.gridSize=this.measure()),this.gridSize},set:function(t){this.gridSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ParentCell",{get:function(){return this.parentCell},set:function(t){this.parentCell=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LayoutFormat",{get:function(){return this.layoutFormat},enumerable:!0,configurable:!0}),e.prototype.draw=function(t,e,i,r){if(e instanceof j&&void 0===e.width&&void 0===i)return this.drawHelper(t,e.x,e.y);if("number"==typeof e&&"number"==typeof i&&void 0===r)return this.drawHelper(t,e,i,null);if(e instanceof B&&void 0!==e.width&&void 0===i)return this.drawHelper(t,e,null);if(e instanceof j&&void 0===e.width&&i instanceof Ne)return this.drawHelper(t,e.x,e.y,i);if("number"==typeof e&&"number"==typeof i&&(r instanceof Ne||null==r)){var n=t.graphics.clientSize.width-e,o=new B(e,i,n,0);return this.drawHelper(t,o,r)}return e instanceof B&&void 0!==e.width&&"boolean"==typeof i?this.drawHelper(t,e,null):this.drawHelper(t,e,i)},e.prototype.measure=function(){for(var t=0,e=this.columns.width,i=0;i<this.headers.count;i++)t+=(r=this.headers.getHeader(i)).height;for(i=0;i<this.rows.count;i++){var r=this.rows.getRow(i);t+=r.height}return new R(e,t)},e.prototype.onBeginCellDraw=function(t){this.raiseBeginCellDraw&&this.beginCellDraw(this,t)},e.prototype.onEndCellDraw=function(t){this.raiseEndCellDraw&&this.endCellDraw(this,t)},e.prototype.layout=function(t){return this.setSpan(),this.checkSpan(),this.layoutFormat=t.format,this.gridLocation=t.bounds,new xi(this).Layouter(t)},e.prototype.setSpan=function(){for(var t=1,e=1,i=0,r=0,n=0,o=this.headers.count,s=0;s<o;s++){var a=this.headers.getHeader(s);n=0;for(var h=a.cells.count,l=0;l<h;l++){var u=a.cells.getCell(l);if(n=Math.max(n,u.rowSpan),!u.isCellMergeContinue&&!u.isRowMergeContinue&&(u.columnSpan>1||u.rowSpan>1)){if(u.columnSpan+l>a.cells.count)throw new Error("Invalid span specified at row "+l.toString()+" column "+s.toString());if(u.rowSpan+s>this.headers.count)throw new Error("Invalid span specified at Header "+l.toString()+" column "+s.toString());if(u.columnSpan>1&&u.rowSpan>1){for(t=u.columnSpan,e=u.rowSpan,i=l,r=s,u.isCellMergeStart=!0,u.isRowMergeStart=!0;t>1;)i++,a.cells.getCell(i).isCellMergeContinue=!0,a.cells.getCell(i).isRowMergeContinue=!0,a.cells.getCell(i).rowSpan=e,t--;for(i=l,t=u.columnSpan;e>1;){for(r++,this.headers.getHeader(r).cells.getCell(l).isRowMergeContinue=!0,this.headers.getHeader(r).cells.getCell(i).isRowMergeContinue=!0,e--;t>1;)i++,this.headers.getHeader(r).cells.getCell(i).isCellMergeContinue=!0,this.headers.getHeader(r).cells.getCell(i).isRowMergeContinue=!0,t--;t=u.columnSpan,i=l}}else if(u.columnSpan>1&&1===u.rowSpan)for(t=u.columnSpan,i=l,u.isCellMergeStart=!0;t>1;)i++,a.cells.getCell(i).isCellMergeContinue=!0,t--;else if(1===u.columnSpan&&u.rowSpan>1)for(e=u.rowSpan,r=s;e>1;)r++,this.headers.getHeader(r).cells.getCell(l).isRowMergeContinue=!0,e--}}a.maximumRowSpan=n}},e.prototype.checkSpan=function(){var t,e,i=1,r=0,n=0;if(t=i=1,e=n=0,this.hasRowSpanSpan||this.hasColumnSpan)for(var o=this.rows.count,s=0;s<o;s++){var a=this.rows.getRow(s);r=0;for(var h=a.cells.count,l=0;l<h;l++){var u=a.cells.getCell(l);if(r=Math.max(r,u.rowSpan),!u.isCellMergeContinue&&!u.isRowMergeContinue&&(u.columnSpan>1||u.rowSpan>1)){if(u.columnSpan+l>a.cells.count)throw new Error("Invalid span specified at row  "+l.toString()+" column "+s.toString());if(u.rowSpan+s>this.rows.count)throw new Error("Invalid span specified at row  "+l.toString()+" column "+s.toString());if(u.columnSpan>1&&u.rowSpan>1){for(t=u.columnSpan,i=u.rowSpan,e=l,n=s,u.isCellMergeStart=!0,u.isRowMergeStart=!0;t>1;)e++,a.cells.getCell(e).isCellMergeContinue=!0,a.cells.getCell(e).isRowMergeContinue=!0,t--;for(e=l,t=u.columnSpan;i>1;){for(n++,this.rows.getRow(n).cells.getCell(l).isRowMergeContinue=!0,this.rows.getRow(n).cells.getCell(e).isRowMergeContinue=!0,i--;t>1;)e++,this.rows.getRow(n).cells.getCell(e).isCellMergeContinue=!0,this.rows.getRow(n).cells.getCell(e).isRowMergeContinue=!0,t--;t=u.columnSpan,e=l}}else if(u.columnSpan>1&&1===u.rowSpan)for(t=u.columnSpan,e=l,u.isCellMergeStart=!0;t>1;)e++,a.cells.getCell(e).isCellMergeContinue=!0,t--;else if(1===u.columnSpan&&u.rowSpan>1)for(i=u.rowSpan,n=s;i>1;)n++,this.rows.getRow(n).cells.getCell(l).isRowMergeContinue=!0,i--}}a.maximumRowSpan=r}},e.prototype.measureColumnsWidth=function(t){if(void 0!==t){this.isPageWidth=!1;for(var e=this.columns.getDefaultWidths(t.width-t.x),i=0,r=this.columns.count;i<r;i++)this.columns.getColumn(i).columnWidth=e[i],this.tempWidth=e[i];if(null!=this.ParentCell&&0==this.style.allowHorizontalOverflow&&0==this.ParentCell.row.grid.style.allowHorizontalOverflow){var n=0,o=0,s=this.columns.count,a=0;null==this.ParentCell.style.cellPadding&&void 0===this.ParentCell.style.cellPadding||(void 0!==this.ParentCell.style.cellPadding.left&&this.ParentCell.style.cellPadding.hasLeftPad&&(n+=this.ParentCell.style.cellPadding.left),void 0!==this.ParentCell.style.cellPadding.right&&this.ParentCell.style.cellPadding.hasRightPad&&(n+=this.ParentCell.style.cellPadding.right));for(i=0;i<this.ParentCell.columnSpan;i++)o+=this.ParentCell.row.grid.columns.getColumn(this.parentCellIndex+i).width;for(d=0;d<this.columns.count;d++)this.gridColumns.getColumn(d).width>0&&this.gridColumns.getColumn(d).isCustomWidth&&(o-=this.gridColumns.getColumn(d).width,s--);if(null==this.ParentCell.row.grid.style.cellPadding&&void 0===this.ParentCell.row.grid.style.cellPadding||(void 0!==this.ParentCell.row.grid.style.cellPadding.top&&this.ParentCell.row.grid.style.cellPadding.hasTopPad&&(n+=this.ParentCell.row.grid.style.cellPadding.top),void 0!==this.ParentCell.row.grid.style.cellPadding.bottom&&this.ParentCell.row.grid.style.cellPadding.hasBottomPad&&(n+=this.ParentCell.row.grid.style.cellPadding.bottom)),0!=this.ParentCell.row.grid.style.cellSpacing&&(o-=2*this.ParentCell.row.grid.style.cellSpacing),o>n&&(a=(o-n)/s,this.tempWidth=a,null!=this.ParentCell))for(d=0;d<this.columns.count;d++)this.columns.getColumn(d).isCustomWidth||(this.columns.getColumn(d).columnWidth=a)}}else{for(var e=[this.columns.count],h=0;h<this.columns.count;h++)e[h]=0;var l=0;if((void 0===this.isChildGrid&&void 0!==this.gridLocation||null===this.isChildGrid&&void 0!==this.gridLocation)&&(this.initialWidth=this.gridLocation.width),this.headers.count>0)for(var u=this.headers.getHeader(0).cells.count,c=this.headers.count,i=0;i<u;i++){l=0;for(d=0;d<c;d++){f=Math.min(this.initialWidth,this.headers.getHeader(d).cells.getCell(i).width);l=Math.max(l,f)}e[i]=l}l=0;for(var i=0,p=this.columns.count;i<p;i++){for(var d=0,c=this.rows.count;d<c;d++)if(1==this.rows.getRow(d).cells.getCell(i).columnSpan&&!this.rows.getRow(d).cells.getCell(i).isCellMergeContinue||null!=this.rows.getRow(d).cells.getCell(i).value){if(null!=this.rows.getRow(d).cells.getCell(i).value&&!this.rows.getRow(d).grid.style.allowHorizontalOverflow)this.rows.getRow(d).grid.style.cellPadding.right,this.rows.getRow(d).grid.style.cellPadding.left,this.rows.getRow(d).cells.getCell(i).style.borders.left.width;var f=0;f=this.initialWidth>0?Math.min(this.initialWidth,this.rows.getRow(d).cells.getCell(i).width):this.rows.getRow(d).cells.getCell(i).width,l=Math.max(e[i],Math.max(l,f)),l=Math.max(this.columns.getColumn(i).width,l)}0!=this.rows.count&&(e[i]=l),l=0}for(var i=0,g=this.rows.count;i<g;i++)for(var d=0,m=this.columns.count;d<m;d++)if(this.rows.getRow(i).cells.getCell(d).columnSpan>1)for(var y=e[d],b=1;b<this.rows.getRow(i).cells.getCell(d).columnSpan;b++)y+=e[d+b];for(var i=0,r=this.columns.count;i<r;i++)this.columns.getColumn(i).width<=0?this.columns.getColumn(i).columnWidth=e[i]:this.columns.getColumn(i).width>0&&!this.columns.getColumn(i).isCustomWidth&&(this.columns.getColumn(i).columnWidth=e[i]);var n=0,w=0,S=this.columns.count,P=0;w=this.tempWidth;for(d=0;d<this.columns.count;d++)this.gridColumns.getColumn(d).width>0&&this.gridColumns.getColumn(d).isCustomWidth&&(w-=this.gridColumns.getColumn(d).width,S--);if(w>0&&0!=this.ParentCell.row.grid.style.cellSpacing&&(w-=2*this.ParentCell.row.grid.style.cellSpacing),w>n&&(P=w/S,null!=this.ParentCell))for(d=0;d<this.columns.count;d++)this.columns.getColumn(d).isCustomWidth||(this.columns.getColumn(d).columnWidth=P)}},e}(Fe),Ci=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),xi=function(e){function i(t){var i=e.call(this,t)||this;return i.gridInitialWidth=0,i.gridSize=new R(0,0),i.parentCellIndex=0,i.tempWidth=0,i.childheight=0,i.isChildGrid=!1,i.hasRowSpanSpan=!1,i.isRearranged=!1,i.pageBounds=new B,i.listOfNavigatePages=[],i.flag=!0,i.columnRanges=[],i.currentLocation=new j(0,0),i.breakRow=!0,i.isOverloadWithPosition=!1,i}return Ci(i,e),Object.defineProperty(i.prototype,"Grid",{get:function(){return this.elements},enumerable:!0,configurable:!0}),i.prototype.getFormat=function(t){return t},i.prototype.layoutInternal=function(e){var i=this.getFormat(e.format);if(this.gridLayoutFormat=this.getFormat(e.format),this.currentPage=e.page,null===this.currentPage)throw Error("Can not set page as null");this.currentPage.getClientSize().height,this.currentPage.getClientSize().width;this.currentPageBounds=this.currentPage.getClientSize(),this.currentGraphics=this.currentPage.graphics;var r=0;if(r=this.currentGraphics.page.section.indexOf(this.currentGraphics.page),this.listOfNavigatePages.push(r),null!=i&&i.break===t.PdfLayoutBreakType.FitColumnsToPage?this.currentBounds=new B(new j(e.bounds.x,e.bounds.y),new R(this.Grid.columns.width,this.currentGraphics.clientSize.height)):this.currentBounds=new B(new j(e.bounds.x,e.bounds.y),this.currentGraphics.clientSize),0!==this.Grid.rows.count)this.currentBounds.width=e.bounds.width>0?e.bounds.width:this.currentBounds.width-this.Grid.rows.getRow(0).cells.getCell(0).style.borders.left.width/2;else{if(0===this.Grid.headers.count)throw Error("Please add row or header into grid");this.currentBounds.width=e.bounds.width}if(this.startLocation=new j(e.bounds.x,e.bounds.y),e.bounds.height>0&&!this.Grid.isChildGrid&&(this.currentBounds.height=e.bounds.height),this.Grid.isChildGrid||(this.hType=this.Grid.style.horizontalOverflowType),this.Grid.style.allowHorizontalOverflow?(this.Grid.measureColumnsWidth(),this.determineColumnDrawRanges()):(this.columnRanges=[],this.Grid.measureColumnsWidth(this.currentBounds),this.columnRanges.push([0,this.Grid.columns.count-1])),this.Grid.hasRowSpanSpan)for(var n=0;n<this.Grid.rows.count;n++){this.Grid.rows.getRow(n).height;this.Grid.rows.getRow(n).isRowHeightSet||(this.Grid.rows.getRow(n).isRowHeightSet=!0)}return this.layoutOnPage(e)},i.prototype.determineColumnDrawRanges=function(){for(var t=0,e=0,i=0,r=this.currentGraphics.clientSize.width-this.currentBounds.x,n=0;n<this.Grid.columns.count;n++)if((i+=this.Grid.columns.getColumn(n).width)>=r){for(var o=0,s=t;s<=n&&!((o+=this.Grid.columns.getColumn(s).width)>r);s++)e=s;this.columnRanges.push([t,e]),i=(e=t=e+1)<=n?this.Grid.columns.getColumn(n).width:0}this.columnRanges.push([t,this.Grid.columns.count-1])},i.prototype.layoutOnPage=function(e){this.pageBounds.x=e.bounds.x,this.pageBounds.y=e.bounds.y,this.pageBounds.height=e.bounds.height;for(var r=this.getFormat(e.format),n=null,o=new rt,s=e.page,a=[],h=0;h<this.columnRanges.length;h++){var l=this.columnRanges[h];this.cellStartIndex=l[0],this.cellEndIndex=l[1];var u=this.raiseBeforePageLayout(this.currentPage,this.currentBounds,this.currentRowIndex);this.currentBounds=u.currentBounds,this.currentRowIndex=u.currentRowIndex;for(var c=0;c<this.Grid.headers.count;c++)m=this.Grid.headers.getHeader(c),this.currentBounds.y,this.drawRow(m);var p=0,d=(this.Grid.rows.count,void 0),f=!0;a=[];for(var g=0;g<this.Grid.rows.count;g++){var m=this.Grid.rows.getRow(g);p++,this.currentRowIndex=p-1;var y=this.currentBounds.y;s=this.currentPage,i.repeatRowIndex=-1,f&&m.grid.isChildGrid&&(f=!1);var b=null;if(-1==this.Grid.splitChildRowIndex)b=this.drawRow(m),m.isrowFinish=!0;else{if(!(m.grid.ParentCell.row.grid.isGridSplit&&this.Grid.splitChildRowIndex<=m.rowIndex)){if(m.isrowFinish)continue;break}b=this.drawRow(m),m.isrowFinish=!0}for(a.push(b.bounds.width),y===this.currentBounds.y?(d=!0,i.repeatRowIndex=this.Grid.rows.rowCollection.indexOf(m)):(d=!1,i.repeatRowIndex=-1);!b.isFinish&&null!=s;){var w=this.getLayoutResult();if(this.raisePageLayouted(w).cancel||d)break;if(this.Grid.allowRowBreakAcrossPages){this.currentPage=this.getNextPageformat(r),y=this.currentBounds.y;new j(ai.default.right.width/2,ai.default.top.width/2);if(this.Grid.isChildGrid&&null!=m.grid.ParentCell&&null!=this.Grid.ParentCell.row.grid.style.cellPadding&&m.rowBreakHeight+this.Grid.ParentCell.row.grid.style.cellPadding.top<this.currentBounds.height&&(this.currentBounds.y=this.Grid.ParentCell.row.grid.style.cellPadding.top),null!=m.grid.ParentCell){m.grid.ParentCell.row.isRowBreaksNextPage=!0,m.grid.ParentCell.row.rowBreakHeightValue=m.rowBreakHeight+this.Grid.ParentCell.row.grid.style.cellPadding.top+this.Grid.ParentCell.row.grid.style.cellPadding.bottom;for(var S=m.rowIndex+1;S<m.grid.rows.count;S++)m.grid.ParentCell.row.rowBreakHeightValue+=m.grid.rows.getRow(S).height}if(m.grid.isChildGrid){m.isrowFinish=!1,m.grid.splitChildRowIndex=m.rowIndex,m.grid.ParentCell.row.grid.splitChildRowIndex=m.grid.ParentCell.row.rowIndex,m.grid.ParentCell.row.grid.isGridSplit&&(m.grid.ParentCell.row.noOfPageCount+=1,m.grid.ParentCell.row.grid.isGridSplit=!1);break}if(m.noOfPageCount<1){if(-1!=m.grid.splitChildRowIndex&&(m.grid.isGridSplit=!0),this.currentBounds.y=.5,this.Grid.repeatHeader)for(var P=0;P<this.Grid.headers.count;P++){var v=this.Grid.headers.getHeader(P);this.drawRow(v)}if(b=this.drawRow(m),m.noOfPageCount>=1){m.rowBreakHeightValue;for(var C=0;C<m.noOfPageCount;C++){var x=this.getLayoutResult();if(this.raisePageLayouted(x),this.currentPage=this.getNextPageformat(r),y=this.currentBounds.y,-1!=m.grid.splitChildRowIndex&&(m.grid.isGridSplit=!0),this.currentBounds.y=.5,this.Grid.repeatHeader)for(var O=0;O<this.Grid.headers.count;O++){N=this.Grid.headers.getHeader(O);this.drawRow(N)}this.drawRow(m)}}m.grid.splitChildRowIndex=-1,m.grid.isGridSplit=!1,b.isFinish=!0;for(var L=0;L<m.cells.count;L++)m.cells.getCell(L).value instanceof vi&&(m.cells.getCell(L).value.splitChildRowIndex=-1)}}}if(!b.isFinish&&null!==s&&r.layout!==t.PdfLayoutType.OnePage&&d){if(this.startLocation.x=this.currentBounds.x,this.currentPage=this.getNextPageformat(r),null!==e.format&&!e.format.usePaginateBounds&&null!==e.bounds&&e.bounds.height>0&&!this.Grid.isChildGrid&&(this.currentBounds.height=e.bounds.height),null!==e.format&&!e.format.usePaginateBounds&&null!==e.bounds&&e.bounds.y>0&&!this.Grid.isChildGrid&&(this.currentBounds.y=e.bounds.y),this.startLocation.y=this.currentBounds.y,r.paginateBounds.x===r.paginateBounds.y&&r.paginateBounds.y===r.paginateBounds.height&&r.paginateBounds.height===r.paginateBounds.width&&0===r.paginateBounds.width&&(this.currentBounds.x+=this.startLocation.x),this.currentBounds.x===ai.default.left.width/2&&(this.currentBounds.y+=this.startLocation.x),this.Grid.repeatHeader)for(var T=0;T<this.Grid.headers.count;T++){var N=this.Grid.headers.getHeader(T);this.drawRow(N)}this.drawRow(m),null===this.currentPage||o.containsKey(this.currentPage)||o.add(this.currentPage,l)}if(null!=m.NestedGridLayoutResult){this.currentPage=m.NestedGridLayoutResult.page,this.currentGraphics=this.currentPage.graphics,this.startLocation=new j(m.NestedGridLayoutResult.bounds.x,m.NestedGridLayoutResult.bounds.y);var V=this.ReCalculateHeight(m,m.NestedGridLayoutResult.bounds.height);if(this.currentBounds.y=V,s!=this.currentPage){for(var I=this.currentPage.section,F=I.indexOf(s)+1,E=I.indexOf(this.currentPage),A=F;A<E+1;A++){var M=this.currentPage.graphics,D=new j(r.paginateBounds.x,r.paginateBounds.y),k=A==E?m.NestedGridLayoutResult.bounds.height-e.bounds.y:this.currentBounds.height-D.y;k<=M.clientSize.height&&(k+=e.bounds.y),D.y=null==r?.5:r.paginateBounds.y;for(J=0;J<m.cells.count;J++){var z=m.cells.getCell(J),W=0,G=0;if(z.value instanceof vi)for(var H=0;H<z.value.columns.count;H++)G+=z.value.columns.getColumn(H).columnWidth;else G=z.width;W=Math.max(G,m.grid.columns.getColumn(J).width),z.drawCellBorders(M,new B(D,new R(W,k))),D.x+=W,J+=z.columnSpan-1}}s=this.currentPage}}}var _=!1,U=0;a.length>0&&(U=a[0]);for(var K=[[1,2]],J=0;J<this.Grid.rows.count;J++)if(-1!=this.cellEndIndex&&this.Grid.rows.getRow(J).cells.getCell(this.cellEndIndex).value instanceof vi){var X=this.Grid.rows.getRow(J).cells.getCell(this.cellEndIndex).value;this.rowLayoutBoundsWidth=X.rowLayoutBoundsWidth,_=!0}if(!_&&a.length>0){for(J=0;J<p-1;J++)U<a[J]&&(U=a[J]);this.rowLayoutBoundsWidth=U}else this.rowLayoutBoundsWidth=K[0][1];if(this.columnRanges.indexOf(l)<this.columnRanges.length-1&&null!=s&&r.layout!=t.PdfLayoutType.OnePage)if(this.Grid.isChildGrid,0!=K[0][0]){this.currentPage.section.indexOf(this.currentPage);this.currentGraphics=this.currentPage.graphics,this.currentBounds=new B(new j(0,0),this.currentPage.getClientSize());this.currentGraphics.page.section.indexOf(this.currentGraphics.page)}else this.currentPage=this.getNextPageformat(r);this.columnRanges.length-1!==h&&this.columnRanges.length>1&&r.layout!==t.PdfLayoutType.OnePage&&(this.currentPage=this.getNextPageformat(r),r.paginateBounds.x===r.paginateBounds.y&&r.paginateBounds.y===r.paginateBounds.height&&r.paginateBounds.height===r.paginateBounds.width&&0===r.paginateBounds.width&&(this.currentBounds.x+=this.startLocation.x,this.currentBounds.y+=this.startLocation.y))}return n=this.getLayoutResult(),this.Grid.style.allowHorizontalOverflow&&this.Grid.style.horizontalOverflowType==t.PdfHorizontalOverflowType.NextPage&&this.reArrangePages(o),this.raisePageLayouted(n),n},i.prototype.getNextPageformat=function(t){var e=this.currentPage.section,i=null,r=e.indexOf(this.currentPage);this.flag=!1,i=r===e.count-1?e.add():e.getPages()[r+1],this.currentGraphics=i.graphics;var n=this.currentGraphics.page.section.indexOf(this.currentGraphics.page);return-1===this.listOfNavigatePages.indexOf(n)&&this.listOfNavigatePages.push(n),this.currentBounds=new B(new j(0,0),i.getClientSize()),i},i.prototype.CheckIfDefaultFormat=function(t){var e=new E;return t.alignment===e.alignment&&t.characterSpacing===e.characterSpacing&&t.clipPath===e.clipPath&&t.firstLineIndent===e.firstLineIndent&&t.horizontalScalingFactor===e.horizontalScalingFactor&&t.lineAlignment===e.lineAlignment&&t.lineLimit===e.lineLimit&&t.lineSpacing===e.lineSpacing&&t.measureTrailingSpaces===e.measureTrailingSpaces&&t.noClip===e.noClip&&t.paragraphIndent===e.paragraphIndent&&t.rightToLeft===e.rightToLeft&&t.subSuperScript===e.subSuperScript&&t.wordSpacing===e.wordSpacing&&t.wordWrap===e.wordWrap},i.prototype.RaiseBeforeCellDraw=function(t,e,i,r,n,o){var s=null;return this.Grid.raiseBeginCellDraw&&(s=new ji(t,e,i,r,n,o),this.Grid.onBeginCellDraw(s),o=s.style),o},i.prototype.raiseAfterCellDraw=function(t,e,i,r,n,o){var s=null;this.Grid.raiseEndCellDraw&&(s=new Ri(t,e,i,r,n,o),this.Grid.onEndCellDraw(s))},i.prototype.reArrangePages=function(t){for(var e=this.currentPage.document,i=[],r=t.keys(),n=(t.values(),0);n<r.length;n++)(a=r[n]).section=null,i.push(a),e.pages.remove(a);for(n=0;n<t.size();n++)for(var o=n,s=t.size()/this.columnRanges.length;o<t.size();o+=s){var a=i[o];-1===e.pages.indexOf(a)&&e.pages.add(a)}},i.prototype.getLayoutResult=function(){if(this.Grid.isChildGrid&&this.Grid.allowRowBreakAcrossPages)for(var t=0;t<this.Grid.rows.count;t++){var e=this.Grid.rows.getRow(t);e.rowBreakHeight>0&&e.repeatFlag&&(this.startLocation.y=this.currentPage.origin.y)}var i;return this.isChanged||(i=new B(this.startLocation,new R(this.currentBounds.width,this.currentBounds.y-this.startLocation.y))),new Oi(this.currentPage,i)},i.prototype.ReCalculateHeight=function(t,e){for(var i=0,r=this.cellStartIndex;r<=this.cellEndIndex;r++)null!==t.cells.getCell(r).remainingString&&""!==t.cells.getCell(r).remainingString&&void 0!==t.cells.getCell(r).remainingString&&(i=Math.max(i,t.cells.getCell(r).measureHeight()));return Math.max(e,i)},i.prototype.raiseBeforePageLayout=function(t,e,i){var r=!1;if(this.Grid.raiseBeginPageLayout){var n=new Ii(e,t,i);this.Grid.onBeginPageLayout(n),r=n.cancel,e=n.bounds,i=n.startRowIndex}return{returnValue:r,currentBounds:e,currentRowIndex:i}},i.prototype.raisePageLayouted=function(t){var e=new Fi(t);return this.Grid.raiseEndPageLayout&&this.Grid.onEndPageLayout(e),e},i.prototype.drawRow=function(e,r,n){if(void 0===r){var o=new Ei,s=0,a=new R(0,0),h=!1;if(e.rowSpanExists){var l=0,u=this.Grid.rows.rowCollection.indexOf(e);-1===u&&-1!==(u=this.Grid.headers.indexOf(e))&&(h=!0);for(f=0;f<e.cells.count;f++){var c=e.cells.getCell(f);l=Math.max(l,c.rowSpan)}for(f=u;f<u+l;f++)s+=h?this.Grid.headers.getHeader(f).height:this.Grid.rows.getRow(f).height}var p=e.rowBreakHeight>0?e.rowBreakHeight:e.height;return this.Grid.isChildGrid&&null!=this.Grid.ParentCell?this.currentBounds.y+this.Grid.ParentCell.row.grid.style.cellPadding.bottom+p>this.currentPageBounds.height||this.currentBounds.y+this.Grid.ParentCell.row.grid.style.cellPadding.bottom+p>this.currentBounds.height||this.currentBounds.y+this.Grid.ParentCell.row.grid.style.cellPadding.bottom+s>this.currentPageBounds.height?(this.Grid.ParentCell.row.grid.LayoutFormat.break===t.PdfLayoutBreakType.FitPage&&(i.repeatRowIndex=this.Grid.rows.rowCollection.indexOf(e),this.Grid.splitChildRowIndex=this.Grid.rows.rowCollection.indexOf(e)),i.repeatRowIndex>-1&&i.repeatRowIndex===e.rowIndex&&this.Grid.allowRowBreakAcrossPages&&(o.isFinish=!0,o.bounds=this.currentBounds,this.drawRowWithBreak(o,e,p),e.repeatFlag=!0,e.repeatRowNumber=i.repeatRowIndex)):(o.isFinish=!0,e.grid.ParentCell.row.rowBreakHeightValue>0?e.repeatFlag=!0:(e.repeatFlag=!1,p=e.height),this.Grid.isChildGrid&&e.rowBreakHeight>0&&null!=this.Grid.ParentCell.row.grid.style.cellPadding&&(p+=this.Grid.ParentCell.row.grid.style.cellPadding.bottom),this.drawRow(e,o,p)):p>this.currentPageBounds.height?this.Grid.allowRowBreakAcrossPages&&(o.isFinish=!0,this.drawRowWithBreak(o,e,p),e.isrowFinish=!0,e.repeatFlag=!0,-1!==e.grid.splitChildRowIndex&&(o.isFinish=!1)):this.currentBounds.y+p>this.currentPageBounds.height||this.currentBounds.y+p>this.currentBounds.height+this.startLocation.y||this.currentBounds.y+s>this.currentPageBounds.height?(this.Grid.LayoutFormat.break===t.PdfLayoutBreakType.FitPage&&(i.repeatRowIndex=this.Grid.rows.rowCollection.indexOf(e)),i.repeatRowIndex>-1&&i.repeatRowIndex===e.rowIndex?this.Grid.allowRowBreakAcrossPages&&(o.isFinish=!0,this.drawRowWithBreak(o,e,p),e.repeatFlag=!0,e.repeatRowNumber=i.repeatRowIndex,-1!==e.grid.splitChildRowIndex&&(o.isFinish=!1)):o.isFinish=!1):(o.isFinish=!0,this.drawRow(e,o,p),e.repeatFlag=!1),o}var d=new j(this.currentBounds.x,this.currentBounds.y);r.bounds=new B(d,new R(0,0)),n=this.ReCalculateHeight(e,n);for(var f=this.cellStartIndex;f<=this.cellEndIndex;f++){var g=f>this.cellEndIndex+1&&e.cells.getCell(f).columnSpan>1;if(!g)for(var m=1;m<e.cells.getCell(f).columnSpan;m++)e.cells.getCell(f+m).isCellMergeContinue=!0;a=new R(this.Grid.columns.getColumn(f).width,n);!this.CheckIfDefaultFormat(this.Grid.columns.getColumn(f).format)&&this.CheckIfDefaultFormat(e.cells.getCell(f).stringFormat)&&(e.cells.getCell(f).stringFormat=this.Grid.columns.getColumn(f).format);var y=e.cells.getCell(f).style,b="string"==typeof e.cells.getCell(f).value&&null!==e.cells.getCell(f).value?e.cells.getCell(f).value:"";e.cells.getCell(f).style=this.RaiseBeforeCellDraw(this.currentGraphics,this.currentRowIndex,f,new B(d,a),b,y),e.cells.getCell(f).value instanceof vi&&((S=e.cells.getCell(f).value).parentCellIndex=f);var w=e.cells.getCell(f).draw(this.currentGraphics,new B(d,a),g);if(e.grid.style.allowHorizontalOverflow&&(e.cells.getCell(f).columnSpan>this.cellEndIndex||f+e.cells.getCell(f).columnSpan>this.cellEndIndex+1)&&this.cellEndIndex<e.cells.count-1&&(e.rowOverflowIndex=this.cellEndIndex),e.grid.style.allowHorizontalOverflow&&e.rowOverflowIndex>0&&(e.cells.getCell(f).columnSpan>this.cellEndIndex||f+e.cells.getCell(f).columnSpan>this.cellEndIndex+1)&&e.cells.getCell(f).columnSpan-this.cellEndIndex+f-1>0&&(e.cells.getCell(e.rowOverflowIndex+1).value=null!==w&&void 0!==w.remainder?w.remainder:"",e.cells.getCell(e.rowOverflowIndex+1).stringFormat=e.cells.getCell(f).stringFormat,e.cells.getCell(e.rowOverflowIndex+1).style=e.cells.getCell(f).style,e.cells.getCell(e.rowOverflowIndex+1).columnSpan=e.cells.getCell(f).columnSpan-this.cellEndIndex+f-1),b="string"==typeof e.cells.getCell(f).value&&null!==e.cells.getCell(f).value?e.cells.getCell(f).value:"",g||this.raiseAfterCellDraw(this.currentGraphics,this.currentRowIndex,f,new B(d,a),b,e.cells.getCell(f).style),e.cells.getCell(f).value instanceof vi){var S=e.cells.getCell(f).value;this.Grid.columns.getColumn(f).width>=this.currentGraphics.clientSize.width?(d.x=S.rowLayoutBoundsWidth,d.x+=S.style.cellSpacing):d.x+=this.Grid.columns.getColumn(f).width}else d.x+=this.Grid.columns.getColumn(f).width}e.rowMergeComplete&&!e.isRowHeightSet||(this.currentBounds.y+=n),r.bounds=new B(new j(r.bounds.x,r.bounds.y),new R(d.x,d.y))},i.prototype.drawRowWithBreak=function(t,e,i){var r=new j(this.currentBounds.x,this.currentBounds.y);e.grid.isChildGrid&&e.grid.allowRowBreakAcrossPages&&this.startLocation.x!==this.currentBounds.x&&(r.x=this.startLocation.x),t.bounds=new B(r,new R(0,0)),this.gridHeight=e.rowBreakHeight>0?this.currentPageBounds.height:0,e.grid.style.cellPadding.top+this.currentBounds.y+e.grid.style.cellPadding.bottom<this.currentPageBounds.height&&(e.rowBreakHeight=this.currentBounds.y+i-this.currentPageBounds.height);for(o=0;o<e.cells.count;o++){var n=e.cells.getCell(o);n.measureHeight()===i&&n.value instanceof vi&&(e.rowBreakHeight=0)}for(var o=this.cellStartIndex;o<=this.cellEndIndex;o++){var s=e.cells.getCell(o).columnSpan+o>this.cellEndIndex+1&&e.cells.getCell(o).columnSpan>1,a=new R(this.Grid.columns.getColumn(o).width,this.gridHeight>0?this.gridHeight:this.currentPageBounds.height),h=e.cells.getCell(o).style;e.cells.getCell(o).style=h;var l=null;if(l=e.cells.getCell(o).draw(this.currentGraphics,new B(r,a),s),e.rowBreakHeight>0&&null!=l&&(e.cells.getCell(o).FinishedDrawingCell=!1,e.cells.getCell(o).remainingString=null==l.remainder?" ":l.remainder,e.grid.isChildGrid&&(e.rowBreakHeight=i-l.actualSize.height)),t.isFinish=t.isFinish?e.cells.getCell(o).FinishedDrawingCell:t.isFinish,e.cells.getCell(o).value instanceof vi){var u=e.cells.getCell(o).value;this.rowBreakPageHeightCellIndex=o,this.Grid.columns.getColumn(o).width>=this.currentGraphics.clientSize.width?(r.x=this.rowLayoutBoundsWidth,r.x+=u.style.cellSpacing):r.x+=this.Grid.columns.getColumn(o).width}else r.x+=this.Grid.columns.getColumn(o).width}this.currentBounds.y+=this.gridHeight>0?this.gridHeight:i,t.bounds=new B(new j(t.bounds.x,t.bounds.y),new R(r.x,r.y))},i.repeatRowIndex=-1,i}(Be),Oi=function(t){function e(e,i){return t.call(this,e,i)||this}return Ci(e,t),e}(Ie),Li=function(t){function e(e){return t.call(this,e)||this}return Ci(e,t),e}(Ne),Ti=function(){function t(t,e,i,r,n){this.gridRowIndex=e,this.gridCellIndex=i,this.internalValue=n,this.gridBounds=r,this.pdfGraphics=t}return Object.defineProperty(t.prototype,"rowIndex",{get:function(){return this.gridRowIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellIndex",{get:function(){return this.gridCellIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.internalValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.gridBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"graphics",{get:function(){return this.pdfGraphics},enumerable:!0,configurable:!0}),t}(),ji=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i,r,n,o)||this;return a.style=s,a}return Ci(e,t),Object.defineProperty(e.prototype,"skip",{get:function(){return this.bSkip},set:function(t){this.bSkip=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.cellStyle},set:function(t){this.cellStyle=t},enumerable:!0,configurable:!0}),e}(Ti),Ri=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i,r,n,o)||this;return a.cellStyle=s,a}return Ci(e,t),Object.defineProperty(e.prototype,"style",{get:function(){return this.cellStyle},enumerable:!0,configurable:!0}),e}(Ti),Bi=function(){function t(){}return Object.defineProperty(t.prototype,"cancel",{get:function(){return this.isCancel},set:function(t){this.isCancel=t},enumerable:!0,configurable:!0}),t}(),Ni=function(t){function e(e,i){var r=t.call(this)||this;return r.bounds=e,r.pdfPage=i,r}return Ci(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.cellBounds},set:function(t){this.cellBounds=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),e}(Bi),Vi=function(t){function e(e){var i=t.call(this)||this;return i.layoutResult=e,i}return Ci(e,t),Object.defineProperty(e.prototype,"result",{get:function(){return this.layoutResult},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextPage",{get:function(){return this.nextPdfPage},set:function(t){this.nextPdfPage=t},enumerable:!0,configurable:!0}),e}(Bi),Ii=function(t){function e(e,i,r){var n=t.call(this,e,i)||this;return n.startRow=r,n}return Ci(e,t),Object.defineProperty(e.prototype,"startRowIndex",{get:function(){return this.startRow},enumerable:!0,configurable:!0}),e}(Ni),Fi=function(t){function e(e){return t.call(this,e)||this}return Ci(e,t),e}(Vi),Ei=function(){function t(){this.layoutedBounds=new B(0,0,0,0)}return Object.defineProperty(t.prototype,"isFinish",{get:function(){return this.bIsFinished},set:function(t){this.bIsFinished=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.layoutedBounds},set:function(t){this.layoutedBounds=t},enumerable:!0,configurable:!0}),t}();return t.PdfAction=x,t.PdfUriAction=L,t.PdfActionLinkAnnotation=Te,t.PdfAnnotation=Ce,t.PdfAnnotationCollection=oe,t.PdfDocumentLinkAnnotation=Re,t.PdfLinkAnnotation=Oe,t.PdfTextWebLink=_e,t.PdfUriAnnotation=Ge,t.Dictionary=n,t.defaultToString=r,t.PdfCatalog=K,t.PdfDocument=we,t.PdfDocumentBase=_,t.PdfDocumentTemplate=ue,t.PdfPageNumberField=qe,t.PdfCompositeField=$e,t.PdfPageCountField=ii,t.PointF=j,t.SizeF=R,t.RectangleF=B,t.Rectangle=N,t.PdfCacheCollection=ye,t.PdfCollection=Zt,t.PdfDestination=ri,t.ProcedureSets=it,t.PdfColor=T,t.PdfGraphics=Kt,t.GetResourceEventHandler=Jt,t.PdfGraphicsState=Xt,t.PdfMargins=q,t.PdfPen=Q,t.PdfResources=ie,t.Guid=re,t.PdfTransformationMatrix=tt,t.Matrix=et,t.PdfBrush=V,t.PdfSolidBrush=F,t.PdfTemplate=te,t.PdfLayoutElement=Fe,t.PdfTextElement=ze,t.ElementLayouter=Be,t.PdfLayoutFormat=Ne,t.PdfLayoutParams=Ve,t.PdfLayoutResult=Ie,t.TextLayouter=Ae,t.TextPageLayoutResult=Me,t.PdfTextLayoutResult=De,t.PdfFont=z,t.PdfFontMetrics=Mt,t.WidthTable=Dt,t.StandardWidthTable=kt,t.PdfStandardFont=ve,t.PdfStandardFontMetricsFactory=Se,t.PdfStringFormat=E,t.PdfStringLayouter=M,t.PdfStringLayoutResult=D,t.LineInfo=k,t.StringTokenizer=A,t.PdfTrueTypeFont=oi,t.RtlRenderer=Ut,t.ArabicShapeRenderer=Wt,t.ArabicShape=Gt,t.Bidi=Ht,t.RtlCharacters=_t,t.ByteArray=ut,t.ImageDecoder=pt,t.PdfBitmap=mt,t.PdfImage=ft,t.PdfTransparency=nt,t.PdfCrossTable=J,t.RegisteredObject=X,t.DictionaryProperties=a,t.PdfMainObjectCollection=G,t.ObjectInfo=H,t.Operators=s,t.PdfStreamWriter=$,t.PdfWriter=W,t.PageAddedEventArgs=he,t.PdfDocumentPageCollection=me,t.PdfPage=ae,t.PdfPageBase=ne,t.PdfPageLayer=qt,t.PdfPageLayerCollection=Qt,t.PdfPageSettings=Z,t.PdfPageSize=Y,t.PdfPageTemplateElement=si,t.PdfSection=de,t.PageSettingsState=fe,t.PdfSectionCollection=ge,t.PdfSectionPageCollection=le,t.PdfSectionTemplate=pe,t.PdfArray=m,t.PdfDictionary=h,t.SaveSectionCollectionEventHandler=l,t.SaveDescendantFontEventHandler=u,t.SaveFontDictionaryEventHandler=c,t.SaveAnnotationEventHandler=p,t.SaveSectionEventHandler=d,t.SaveTemplateEventHandler=f,t.PdfName=o,t.PdfNumber=g,t.PdfReference=v,t.PdfReferenceHolder=C,t.PdfStream=b,t.SaveCmapEventHandler=w,t.SaveFontProgramEventHandler=S,t.PdfString=P,t.PdfGridStyleBase=ui,t.PdfGridStyle=ci,t.PdfGridCellStyle=pi,t.PdfGridRowStyle=di,t.PdfBorders=ai,t.PdfPaddings=hi,t.PdfGridLayouter=xi,t.PdfGridLayoutResult=Oi,t.PdfGridLayoutFormat=Li,t.GridCellEventArgs=Ti,t.PdfGridBeginCellDrawEventArgs=ji,t.PdfGridEndCellDrawEventArgs=Ri,t.PdfCancelEventArgs=Bi,t.BeginPageLayoutEventArgs=Ni,t.EndPageLayoutEventArgs=Vi,t.PdfGridBeginPageLayoutEventArgs=Ii,t.PdfGridEndPageLayoutEventArgs=Fi,t.RowLayoutResult=Ei,t.PdfGrid=vi,t.PdfGridColumn=mi,t.PdfGridColumnCollection=yi,t.PdfGridRow=bi,t.PdfGridRowCollection=wi,t.PdfGridHeaderCollection=Si,t.PdfGridCell=fi,t.PdfGridCellCollection=gi,t}({},ej.compression,ej.fileutils),this.ejs=ej;

/*!
*  filename: ej2-svg-base.min.js
*  version : 4.2.52
*  Copyright ï¿½ 2001 - 2022 Syncfusion Inc. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
this.ej=this.ej||{},this.ej.svgbase=function(t,e){"use strict";function i(t){var e;switch(t){case"Highcontrast":case"HighContrast":e={tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":e={tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A"};break;case"Bootstrap4":e={tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255, 255, 255)",tooltipLightLabel:"rgba(255, 255, 255, 0.9)",tooltipHeaderLine:"rgba(255, 255, 255, 0.2)"};break;default:e={tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff"}}return e}function r(t,i){var r=t||"",o=document.getElementById("chartmeasuretext");if(null===o&&(o=e.createElement("text",{id:"chartmeasuretext"}),document.body.appendChild(o)),"string"==typeof t&&(t.indexOf("<")>-1||t.indexOf(">")>-1)){for(var n=t.split(" "),s=0;s<n.length;s++)-1===n[s].indexOf("<br/>")&&(n[s]=n[s].replace(/[<>]/g,"&"));t=n.join(" ")}return o.innerHTML=r.indexOf("<br>")>-1||r.indexOf("<br/>")>-1?r:t,o.style.position="fixed",o.style.fontSize=i.size,o.style.fontWeight=i.fontWeight,o.style.fontStyle=i.fontStyle,o.style.fontFamily=i.fontFamily,o.style.visibility="hidden",o.style.top="-100",o.style.left="0",o.style.whiteSpace="nowrap",o.style.lineHeight="normal",new u(o.clientWidth,o.clientHeight)}function o(t,e,i,r,o,n,s,a,h,l,d){var p="",c=i.x,u=i.y,y=i.x+i.width,g=i.y+i.height;return d=d||0,n?(p=(p=p.concat("M "+c+" "+(u+e)+" Q "+c+" "+u+" "+(c+t)+" "+u+"  L "+(y-t)+" "+u+" Q "+y+" "+u+" "+y+" "+(u+e))).concat(" L "+y+" "+(g-e)+" Q "+y+" "+g+" "+(y-t)+" "+g),0!==o&&(p=(p=p.concat(" L "+(r.x+o/2)+" "+g)).concat(" L "+(h+d)+" "+(g+o-d)),p+=" Q "+h+" "+(g+o)+" "+(h-d)+" "+(g+o-d)),p=r.x-o/2>c?p.concat(" L "+(r.x-o/2)+" "+g+" L "+(c+t)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-e)+" z"):0===o?p.concat(" L "+(c+t)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-e)+" z"):p.concat(" L "+c+" "+(g+e)+" z")):s?(p=(p=p.concat("M "+c+" "+(u+e)+" Q "+c+" "+u+" "+(c+t)+" "+u+" L "+(r.x-o/2)+" "+u)).concat(" L "+(h-d)+" "+(r.y+d)),p=(p=(p+=" Q "+h+" "+r.y+" "+(h+d)+" "+(r.y+d)).concat(" L "+(r.x+o/2)+" "+u+" L "+(y-t)+" "+u+" Q "+y+" "+u+" "+y+" "+(u+e))).concat(" L "+y+" "+(g-e)+" Q "+y+" "+g+" "+(y-t)+" "+g+" L "+(c+t)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-e)+" z")):a?(p=(p=(p=p.concat("M "+c+" "+(u+e)+" Q "+c+" "+u+" "+(c+t)+" "+u)).concat(" L "+(y-t)+" "+u+" Q "+y+" "+u+" "+y+" "+(u+e)+" L "+y+" "+(r.y-o/2))).concat(" L "+(y+o-d)+" "+(l-d)),p=(p=(p+=" Q "+(y+o)+" "+l+" "+(y+o-d)+" "+(l+d)).concat(" L "+y+" "+(r.y+o/2)+" L "+y+" "+(g-e)+" Q "+y+" "+g+" "+(y-t)+" "+g)).concat(" L "+(c+t)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-e)+" z")):(p=(p=p.concat("M "+(c+t)+" "+u+" Q "+c+" "+u+" "+c+" "+(u+e)+" L "+c+" "+(r.y-o/2))).concat(" L "+(c-o+d)+" "+(l-d)),p=(p=(p+=" Q "+(c-o)+" "+l+" "+(c-o+d)+" "+(l+d)).concat(" L "+c+" "+(r.y+o/2)+" L "+c+" "+(g-e)+" Q "+c+" "+g+" "+(c+t)+" "+g)).concat(" L "+(y-t)+" "+g+" Q "+y+" "+g+" "+y+" "+(g-e)+" L "+y+" "+(u+e)+" Q "+y+" "+u+" "+(y-t)+" "+u+" z")),p}function n(t){return document.getElementById(t)}function s(t){var i=n(t);i&&e.remove(i)}function a(t,e,i,r,o,n){var s=new d(""),a=h(t,i,e,o,r),l=s["draw"+a.functionName](a.renderOption);return l.setAttribute("aria-label",n),l}function h(t,i,r,o,n){var s,a="Path",h=i.width,l=i.height,d=t.x,p=t.y,c=t.x+-h/2,u=t.y+-l/2;switch(r){case"Circle":case"Bubble":a="Ellipse",e.merge(o,{rx:h/2,ry:l/2,cx:d,cy:p});break;case"Cross":s="M "+c+" "+p+" L "+(d+h/2)+" "+p+" M "+d+" "+(p+l/2)+" L "+d+" "+(p+-l/2),e.merge(o,{d:s});break;case"HorizontalLine":s="M "+c+" "+p+" L "+(d+h/2)+" "+p,e.merge(o,{d:s});break;case"VerticalLine":s="M "+d+" "+(p+l/2)+" L "+d+" "+(p+-l/2),e.merge(o,{d:s});break;case"Diamond":s="M "+c+" "+p+" L "+d+" "+(p+-l/2)+" L "+(d+h/2)+" "+p+" L "+d+" "+(p+l/2)+" L "+c+" "+p+" z",e.merge(o,{d:s});break;case"Rectangle":s="M "+c+" "+(p+-l/2)+" L "+(d+h/2)+" "+(p+-l/2)+" L "+(d+h/2)+" "+(p+l/2)+" L "+c+" "+(p+l/2)+" L "+c+" "+(p+-l/2)+" z",e.merge(o,{d:s});break;case"Triangle":s="M "+c+" "+(p+l/2)+" L "+d+" "+(p+-l/2)+" L "+(d+h/2)+" "+(p+l/2)+" L "+c+" "+(p+l/2)+" z",e.merge(o,{d:s});break;case"InvertedTriangle":s="M "+(d+h/2)+" "+(p-l/2)+" L "+d+" "+(p+l/2)+" L "+(d-h/2)+" "+(p-l/2)+" L "+(d+h/2)+" "+(p-l/2)+" z",e.merge(o,{d:s});break;case"Pentagon":for(var y=void 0,g=void 0,m=0;m<=5;m++)y=h/2*Math.cos(Math.PI/180*(72*m)),g=l/2*Math.sin(Math.PI/180*(72*m)),s=0===m?"M "+(d+y)+" "+(p+g)+" ":s.concat("L "+(d+y)+" "+(p+g)+" ");s=s.concat("Z"),e.merge(o,{d:s});break;case"Image":a="Image",e.merge(o,{href:n,height:l,width:h,x:c,y:u})}return{renderOption:o,functionName:a}}function l(t,e,i,r){var o,n,s={},a=new d("");return s={id:t.id,x:t.x,y:t.y,fill:i,"font-size":e.size,"font-style":e.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight,"text-anchor":t.anchor,transform:t.transform,opacity:e.opacity,"dominant-baseline":t.baseLine},n="string"==typeof t.text?t.text:t.text[0],o=a.createText(s,n),r.appendChild(o),o}var d=function(){function t(t){this.svgLink="http://www.w3.org/2000/svg",this.rootId=t}return t.prototype.getOptionValue=function(t,e){return t[e]},t.prototype.createSvg=function(t){return e.isNullOrUndefined(t.id)&&(t.id=this.rootId+"_svg"),this.svgObj=document.getElementById(t.id),e.isNullOrUndefined(document.getElementById(t.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(t,this.svgObj),this.setSVGSize(t.width,t.height),this.svgObj},t.prototype.setSVGSize=function(t,i){var r=document.getElementById(this.rootId),o=e.isNullOrUndefined(r)?null:r.getBoundingClientRect();e.isNullOrUndefined(this.width)||this.width<=0?this.svgObj.setAttribute("width",t?t.toString():o.width.toString()):this.svgObj.setAttribute("width",this.width.toString()),e.isNullOrUndefined(this.height)||this.height<=0?this.svgObj.setAttribute("height",i?i.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())},t.prototype.drawPath=function(t,e){var i=document.getElementById(t.id);return null===i&&(i=document.createElementNS(this.svgLink,"path")),i=this.setElementAttributes(t,i)},t.prototype.drawLine=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"line")),e=this.setElementAttributes(t,e)},t.prototype.drawRectangle=function(t,e){var i=document.getElementById(t.id);return null===i&&(i=document.createElementNS(this.svgLink,"rect")),i=this.setElementAttributes(t,i)},t.prototype.drawCircle=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"circle")),e=this.setElementAttributes(t,e)},t.prototype.drawPolyline=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"polyline")),e=this.setElementAttributes(t,e)},t.prototype.drawEllipse=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"ellipse")),e=this.setElementAttributes(t,e)},t.prototype.drawPolygon=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"polygon")),e=this.setElementAttributes(t,e)},t.prototype.drawImage=function(t){var i=document.createElementNS(this.svgLink,"image");return i.setAttributeNS(null,"height",t.height.toString()),i.setAttributeNS(null,"width",t.width.toString()),i.setAttributeNS("http://www.w3.org/1999/xlink","href",t.href),i.setAttributeNS(null,"x",t.x.toString()),i.setAttributeNS(null,"y",t.y.toString()),i.setAttributeNS(null,"id",t.id),i.setAttributeNS(null,"visibility",t.visibility),e.isNullOrUndefined(this.getOptionValue(t,"clip-path"))||i.setAttributeNS(null,"clip-path",this.getOptionValue(t,"clip-path")),e.isNullOrUndefined(t.preserveAspectRatio)||i.setAttributeNS(null,"preserveAspectRatio",t.preserveAspectRatio),i},t.prototype.createText=function(t,i,r,o){var n=document.createElementNS(this.svgLink,"text");return n=this.setElementAttributes(t,n),e.isNullOrUndefined(i)||(n.textContent=i),n},t.prototype.createTSpan=function(t,i){var r=document.createElementNS(this.svgLink,"tspan");return r=this.setElementAttributes(t,r),e.isNullOrUndefined(i)||(r.textContent=i),r},t.prototype.createTitle=function(t){var e=document.createElementNS(this.svgLink,"title");return e.textContent=t,e},t.prototype.createDefs=function(){return document.createElementNS(this.svgLink,"defs")},t.prototype.createClipPath=function(t){var e=document.createElementNS(this.svgLink,"clipPath");return e=this.setElementAttributes(t,e)},t.prototype.createForeignObject=function(t){var e=document.createElementNS(this.svgLink,"foreignObject");return e=this.setElementAttributes(t,e)},t.prototype.createGroup=function(t){var e=document.createElementNS(this.svgLink,"g");return e=this.setElementAttributes(t,e)},t.prototype.createPattern=function(t,e){var i=document.createElementNS(this.svgLink,e);return i=this.setElementAttributes(t,i)},t.prototype.createRadialGradient=function(t,i,r){var o;if(e.isNullOrUndefined(t[0].colorStop))o=t[0].color.toString();else{var n={id:this.rootId+"_"+i+"radialGradient",cx:r.cx+"%",cy:r.cy+"%",r:r.r+"%",fx:r.fx+"%",fy:r.fy+"%"};this.drawGradient("radialGradient",n,t),o="url(#"+this.rootId+"_"+i+"radialGradient)"}return o},t.prototype.createLinearGradient=function(t,i,r){var o;if(e.isNullOrUndefined(t[0].colorStop))o=t[0].color.toString();else{var n={id:this.rootId+"_"+i+"linearGradient",x1:r.x1+"%",y1:r.y1+"%",x2:r.x2+"%",y2:r.y2+"%"};this.drawGradient("linearGradient",n,t),o="url(#"+this.rootId+"_"+i+"linearGradient)"}return o},t.prototype.drawGradient=function(t,e,i){var r=this.createDefs(),o=document.createElementNS(this.svgLink,t);o=this.setElementAttributes(e,o);for(var n=0;n<i.length;n++){var s=document.createElementNS(this.svgLink,"stop");s.setAttribute("offset",i[n].colorStop),s.setAttribute("stop-color",i[n].color),s.setAttribute("stop-opacity","1"),o.appendChild(s)}return r.appendChild(o),r},t.prototype.drawClipPath=function(t){var e=this.createDefs(),i=this.createClipPath({id:t.id});t.id=t.id+"_Rect";var r=this.drawRectangle(t);return i.appendChild(r),e.appendChild(i),e},t.prototype.drawCircularClipPath=function(t){var e=this.createDefs(),i=this.createClipPath({id:t.id});t.id=t.id+"_Circle";var r=this.drawCircle(t);return i.appendChild(r),e.appendChild(i),e},t.prototype.setElementAttributes=function(t,e){for(var i=Object.keys(t),r=0;r<i.length;r++)e.setAttribute(i[r],t[i[r]]);return e},t.prototype.createCanvas=function(t){return null},t}(),p=function(){function t(t){this.rootId=t}return t.prototype.getOptionValue=function(t,e){return t[e]},t.prototype.createCanvas=function(t){var e=document.createElement("canvas");return e.setAttribute("id",this.rootId+"_canvas"),this.ctx=e.getContext("2d"),this.canvasObj=e,this.setCanvasSize(t.width,t.height),this.canvasObj},t.prototype.setCanvasSize=function(t,i){var r=document.getElementById(this.rootId),o=e.isNullOrUndefined(r)?null:r.getBoundingClientRect();e.isNullOrUndefined(this.width)?this.canvasObj.setAttribute("width",t?t.toString():o.width.toString()):this.canvasObj.setAttribute("width",this.width.toString()),e.isNullOrUndefined(this.height)?this.canvasObj.setAttribute("height",i?i.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())},t.prototype.setAttributes=function(t){this.ctx.lineWidth=this.getOptionValue(t,"stroke-width");var i=this.getOptionValue(t,"stroke-dasharray");if(!e.isNullOrUndefined(i)){var r=i.split(",");this.ctx.setLineDash([parseInt(r[0],10),parseInt(r[1],10)])}this.ctx.strokeStyle=this.getOptionValue(t,"stroke")},t.prototype.drawLine=function(t){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=this.getOptionValue(t,"stroke-width"),this.ctx.strokeStyle=t.stroke,this.ctx.moveTo(t.x1,t.y1),this.ctx.lineTo(t.x2,t.y2),this.ctx.stroke(),this.ctx.restore()},t.prototype.drawRectangle=function(t,e){var i=this.ctx,r=t.rx;return this.ctx.save(),this.ctx.beginPath(),e&&this.ctx.translate(e[0],e[1]),this.ctx.globalAlpha=this.getOptionValue(t,"opacity"),this.setAttributes(t),this.ctx.rect(t.x,t.y,t.width,t.height),null!==r&&r>=0?this.drawCornerRadius(t):("none"===t.fill&&(t.fill="transparent"),this.ctx.fillStyle=t.fill,this.ctx.fillRect(t.x,t.y,t.width,t.height),this.ctx.stroke()),this.ctx.restore(),this.ctx=i,this.canvasObj},t.prototype.drawCornerRadius=function(t){var e=t.rx,i=t.x,r=t.y,o=t.width,n=t.height;"none"===t.fill&&(t.fill="transparent"),this.ctx.fillStyle=t.fill,o<2*e&&(e=o/2),n<2*e&&(e=n/2),this.ctx.beginPath(),this.ctx.moveTo(i+o-e,r),this.ctx.arcTo(i+o,r,i+o,r+n,e),this.ctx.arcTo(i+o,r+n,i,r+n,e),this.ctx.arcTo(i,r+n,i,r,e),this.ctx.arcTo(i,r,i+o,r,e),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()},t.prototype.drawPath=function(t,e){var i=t.d.split(" "),r=this.getOptionValue(t,"stroke-width"),o=this.ctx,n=!0;this.ctx.save(),this.ctx.beginPath(),e&&this.ctx.translate(e[0],e[1]),this.ctx.globalAlpha=t.opacity?t.opacity:this.getOptionValue(t,"fill-opacity"),this.setAttributes(t);for(var s=0;s<i.length;s+=3){var a=parseFloat(i[s+1]),h=parseFloat(i[s+2]);switch(i[s]){case"M":t.innerR||t.cx||this.ctx.moveTo(a,h);break;case"L":t.innerR||this.ctx.lineTo(a,h);break;case"Q":var l=parseFloat(i[s+3]),d=parseFloat(i[s+4]);this.ctx.quadraticCurveTo(a,h,l,d),s+=2;break;case"C":var p=parseFloat(i[s+3]),c=parseFloat(i[s+4]),u=parseFloat(i[s+5]),y=parseFloat(i[s+6]);this.ctx.bezierCurveTo(a,h,p,c,u,y),s+=4;break;case"A":t.innerR?n&&(this.ctx.arc(t.x,t.y,t.radius,t.start,t.end,t.counterClockWise),this.ctx.arc(t.x,t.y,t.innerR,t.end,t.start,!t.counterClockWise),n=!1):t.cx?this.ctx.arc(t.cx,t.cy,t.radius,0,2*Math.PI,t.counterClockWise):(this.ctx.moveTo(t.x,t.y),this.ctx.arc(t.x,t.y,t.radius,t.start,t.end,t.counterClockWise),this.ctx.lineTo(t.x,t.y)),s+=5;break;case"z":case"Z":this.ctx.closePath(),s-=2}}return"none"!==t.fill&&void 0!==t.fill&&(this.ctx.fillStyle=t.fill,this.ctx.fill()),r>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=o,this.canvasObj},t.prototype.createText=function(t,i,r,o){var n=this.getOptionValue(t,"font-weight");e.isNullOrUndefined(n)||"regular"!==n.toLowerCase()||(n="normal");var s=this.getOptionValue(t,"font-size"),a=this.getOptionValue(t,"font-family"),h=this.getOptionValue(t,"font-style").toLowerCase()+" "+n+" "+s+" "+a,l=this.getOptionValue(t,"text-anchor"),d=void 0!==t.opacity?t.opacity:1;"middle"===l&&(l="center"),this.ctx.save(),this.ctx.fillStyle=t.fill,this.ctx.font=h,this.ctx.textAlign=l,this.ctx.globalAlpha=d,t.baseline&&(this.ctx.textBaseline=t.baseline);return this.ctx.translate(t.x+0+(r||0),t.y+(o||0)),this.ctx.rotate(t.labelRotation*Math.PI/180),this.ctx.fillText(i,0,0),this.ctx.restore(),this.canvasObj},t.prototype.drawCircle=function(t,e){var i=this.ctx;return this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.cx,t.cy,t.r,0,2*Math.PI),this.ctx.fillStyle=t.fill,this.ctx.globalAlpha=t.opacity,this.ctx.fill(),e&&this.ctx.translate(e[0],e[1]),this.setAttributes(t),this.ctx.stroke(),this.ctx.restore(),this.ctx=i,this.canvasObj},t.prototype.drawPolyline=function(t){this.ctx.save(),this.ctx.beginPath();for(var e=t.points.split(" "),i=0;i<e.length-1;i++){var r=e[i].split(","),o=parseFloat(r[0]),n=parseFloat(r[1]);0===i?this.ctx.moveTo(o,n):this.ctx.lineTo(o,n)}this.ctx.lineWidth=this.getOptionValue(t,"stroke-width"),this.ctx.strokeStyle=t.stroke,this.ctx.stroke(),this.ctx.restore()},t.prototype.drawEllipse=function(t,e){var i=this.ctx,r=Math.max(t.rx,t.ry),o=t.rx/r,n=t.ry/r;this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(t.cx,t.cy),e&&this.ctx.translate(e[0],e[1]),this.ctx.save(),this.ctx.scale(o,n),this.ctx.arc(0,0,r,0,2*Math.PI,!1),this.ctx.fillStyle=t.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=this.getOptionValue(t,"stroke-width"),this.ctx.strokeStyle=t.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i},t.prototype.drawImage=function(t){this.ctx.save();var i=new Image;e.isNullOrUndefined(t.href)||(i.src=t.href,this.ctx.drawImage(i,t.x,t.y,t.width,t.height)),this.ctx.restore()},t.prototype.createLinearGradient=function(t){var i;return e.isNullOrUndefined(t[0].colorStop)||(i=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(t,i)},t.prototype.createRadialGradient=function(t){var i;return e.isNullOrUndefined(t[0].colorStop)||(i=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(t,i)},t.prototype.setGradientValues=function(t,i){var r;if(e.isNullOrUndefined(t[0].colorStop))r=t[0].color.toString();else{for(var o=0;o<=t.length-1;o++){var n=t[o].color,s=t[o].colorStop.slice(0,-1),a=parseInt(s,10)/100;i.addColorStop(a,n)}r=i.toString()}return r},t.prototype.setElementAttributes=function(t,e){for(var i=Object.keys(t),r=Object.keys(t).map(function(e){return t[e]}),o=0;o<i.length;o++)e.setAttribute(i[o],r[o]);return null},t.prototype.updateCanvasAttributes=function(t){this.setElementAttributes(t,this.canvasObj);var i=this.ctx;if(!e.isNullOrUndefined(this.dataUrl)){var r=new Image;r.onload=function(){i.drawImage(r,0,0)},r.src=this.dataUrl}},t.prototype.clearRect=function(t){this.ctx.restore(),this.ctx.clearRect(t.x,t.y,t.width,t.height)},t.prototype.createGroup=function(t){return null},t.prototype.drawClipPath=function(t){return null},t.prototype.canvasClip=function(t){this.ctx.save(),this.ctx.fillStyle="transparent",this.ctx.rect(t.x,t.y,t.width,t.height),this.ctx.fill(),this.ctx.clip()},t.prototype.canvasRestore=function(){this.ctx.restore()},t.prototype.drawPolygon=function(t){return null},t.prototype.createDefs=function(){return null},t.prototype.createClipPath=function(t){return null},t.prototype.createSvg=function(t){return null},t}(),c=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),u=function(){function t(t,e){this.width=t,this.height=e}return t}(),y=function(){function t(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r}return t}(),g=function(){function t(t,e){this.isRight=e,this.isBottom=t}return t}(),m=function(){function t(t){this.id=t}return t}(),f=function(t){function e(e,i,r,o,n,s,a,h){void 0===s&&(s="");var l=t.call(this,e)||this;return l.transform="",l.baseLine="auto",l.labelRotation=0,l.x=i,l.y=r,l.anchor=o,l.text=n,l.transform=s,l.baseLine=a,l.labelRotation=h,l}return c(e,t),e}(m),x=function(t){function e(e,i,r,o,n,s,a){var h=t.call(this,e)||this;return h.opacity=n,h.fill=i,h.stroke=o,h["stroke-width"]=r,h["stroke-dasharray"]=s,h.d=a,h}return c(e,t),e}(m),v=function(){function t(t,e){this.x=t,this.y=e}return t}(),b=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),w=function(t,e,i,r){var o,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s},S=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return b(i,t),w([e.Property(null)],i.prototype,"size",void 0),w([e.Property("")],i.prototype,"color",void 0),w([e.Property("Segoe UI")],i.prototype,"fontFamily",void 0),w([e.Property("Normal")],i.prototype,"fontWeight",void 0),w([e.Property("Normal")],i.prototype,"fontStyle",void 0),w([e.Property(1)],i.prototype,"opacity",void 0),i}(e.ChildProperty),P=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return b(i,t),w([e.Property("")],i.prototype,"color",void 0),w([e.Property(1)],i.prototype,"width",void 0),i}(e.ChildProperty),L=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return b(i,t),w([e.Property(0)],i.prototype,"x",void 0),w([e.Property(0)],i.prototype,"y",void 0),w([e.Property(0)],i.prototype,"width",void 0),w([e.Property(0)],i.prototype,"height",void 0),i}(e.ChildProperty),O=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return b(i,t),w([e.Property(0)],i.prototype,"x",void 0),w([e.Property(0)],i.prototype,"y",void 0),i}(e.ChildProperty),A=function(t){function h(e,i){return t.call(this,e,i)||this}return b(h,t),h.prototype.preRender=function(){this.allowServerDataBinding=!1,this.initPrivateVariable(),this.isCanvas||this.removeSVG(),this.createTooltipElement()},h.prototype.initPrivateVariable=function(){this.renderer=new d(this.element.id),this.themeStyle=i(this.theme),this.formattedText=[],this.padding=5,this.isFirst=!0,this.markerPoint=[]},h.prototype.removeSVG=function(){var t=document.getElementById(this.element.id+"_svg"),i=document.getElementById(this.element.id+"parent_template");this.blazorTemplate&&e.resetBlazorTemplate(this.element.id+"parent_template_blazorTemplate"),t&&t.parentNode&&e.remove(t),i&&i.parentNode&&e.remove(i)},h.prototype.render=function(){if(this.fadeOuted=!1,this.template)this.updateTemplateFn(),this.createTemplate(this.areaBounds,this.location);else{this.renderText(this.isFirst);var t={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",t);var i=this.renderTooltipElement(this.areaBounds,this.location);this.drawMarker(i.isBottom,i.isRight,this.markerSize)}this.trigger("loaded",{tooltip:this});var r=document.getElementById("chartmeasuretext");r&&e.remove(r),this.allowServerDataBinding=!0},h.prototype.createTooltipElement=function(){if(this.textElements=[],!this.template||this.shared){var t=this.renderer.createSvg({id:this.element.id+"_svg"});this.element.appendChild(t);var e=document.getElementById(this.element.id+"_group");e||(e=this.renderer.createGroup({id:this.element.id+"_group"})).setAttribute("transform","translate(0,0)"),t.appendChild(e);var i=this.renderer.drawPath({id:this.element.id+"_path","stroke-width":"Bootstrap4"===this.theme?0:this.border.width,fill:this.fill||this.themeStyle.tooltipFill,opacity:"Bootstrap4"===this.theme?.9:this.opacity,stroke:this.border.color});e.appendChild(i)}},h.prototype.drawMarker=function(t,e,i){if(this.shapes.length<=0)return null;for(var r,o=0,s=this.renderer.createGroup({id:this.element.id+"_trackball_group"}),h=n(this.element.id+"_group"),l=2*this.marginX+i/2+(e?this.arrowPadding:0),d=0,p=this.shapes;d<p.length;d++){var c=p[d];r=new x(this.element.id+"_Trackball_"+o,this.palette[o],1,"#cccccc",1,null),this.markerPoint[o]&&s.appendChild(a(new v(l,this.markerPoint[o]-this.padding+(t?this.arrowPadding:0)),c,new u(i,i),"",r,null)),o++}h.appendChild(s)},h.prototype.renderTooltipElement=function(t,i){var s,a=n(this.element.id),h=new v(0,0),l=new v(0,0),d=n(this.element.id+"_svg"),p=n(this.element.id+"_group"),c=n(this.element.id+"_path"),u=!1,m=!1,f=!1,x=0,b=0;if(this.tipRadius=1,""!==this.header&&(this.elementSize.height+=this.marginY),this.content.length>1?(s=this.sharedTooltipLocation(t,this.location.x,this.location.y),u=!0):(s=this.tooltipLocation(t,i,h,l),this.inverted?x=(m=s.x<i.x+this.clipBounds.x)?0:this.arrowPadding:(f=!(u=s.y<i.y+this.clipBounds.y),b=u?0:this.arrowPadding)),""!==this.header){var w=r(this.header,this.textStyle).height+2*this.marginY+(f?this.arrowPadding:0),S="M "+(3*this.marginX+(m||u||f?0:this.arrowPadding))+" "+w+"L "+(s.width+(m||u||f?0:this.arrowPadding)-2*this.marginX)+" "+w,P=this.renderer.drawPath({id:this.element.id+"_header_path","stroke-width":1,fill:null,opacity:.8,stroke:this.themeStyle.tooltipHeaderLine,d:S});p.appendChild(P)}var L=this.border.width/2,O=new y(L+x,L+b,s.width-L,s.height-L);if(p.setAttribute("opacity","1"),!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(a,s.x,s.y):this.animateTooltipDiv(a,s),d.setAttribute("height",(s.height+this.border.width+(this.inverted?0:this.arrowPadding)+5).toString()),d.setAttribute("width",(s.width+this.border.width+(this.inverted?this.arrowPadding:0)+5).toString()),d.setAttribute("opacity","1"),e.isNullOrUndefined(this.tooltipPlacement)||(u=this.tooltipPlacement.indexOf("Top")>-1,f=this.tooltipPlacement.indexOf("Bottom")>-1,m=this.tooltipPlacement.indexOf("Left")>-1),c.setAttribute("d",o(this.rx,this.ry,O,h,this.arrowPadding,u,f,m,l.x,l.y,this.tipRadius)),this.enableShadow&&"Bootstrap4"!==this.theme){var A=this.element.id+"_shadow";c.setAttribute("filter",e.Browser.isIE?"":"url(#"+A+")");var C='<filter id="'+A+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';C+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',C+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var k=this.renderer.createDefs();k.setAttribute("id",this.element.id+"SVG_tooltip_definition"),p.appendChild(k),k.innerHTML=C}return c.setAttribute("stroke",this.border.color),this.changeText(new v(x,b),f,!m&&!u&&!f,s),new g(f,!m&&!u&&!f)},h.prototype.changeText=function(t,e,i,r){var o=document.getElementById(this.element.id+"_text");e&&o.setAttribute("transform","translate(0,"+this.arrowPadding+")"),i&&o.setAttribute("transform","translate("+this.arrowPadding+" 0)")},h.prototype.findFormattedText=function(){this.formattedText=[],""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()&&(this.formattedText=this.formattedText.concat(this.header)),this.formattedText=this.formattedText.concat(this.content)},h.prototype.renderText=function(t){var i,o,a,h,d=0,p=0,c=0,y=e.extend({},this.textStyle,null,!0).properties,g=n(this.element.id+"_group"),m="";this.findFormattedText();var x=this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim(),v=""!==x?this.marginY:0,b=!0,w=!0;this.markerPoint=[];var S=this.shapes.length>0?10:0,P=this.shapes.length>0?5:0,L="Normal",O=this.themeStyle.tooltipLightLabel,A=22/parseFloat("13px")*parseFloat(y.size);t&&!this.isCanvas||(s(this.element.id+"_text"),s(this.element.id+"_header_path"),s(this.element.id+"_trackball_group"),s(this.element.id+"SVG_tooltip_definition"));for(var C=new f(this.element.id+"_text",2*this.marginX,2*this.marginY+2*this.padding+(2===this.marginY?3:0),"start",""),k=l(C,y,null,g),T=0,E=this.formattedText.length;T<E;T++){var N=this.formattedText[T].replace(/<(b|strong)>/g,"<b>").replace(/<\/(b|strong)>/g,"</b>").split(/<br.*?>/g);if(""!==N[0]){r(this.formattedText[T],y),0===T&&""!==x||this.markerPoint.push((""!==x?this.marginY:0)+C.y+d);for(var _=0,z=N.length;_<z;_++){c=0,w=!0,d+=A;for(var B=0,I=(i=N[_].replace(/<b>/g,"<br><b>").replace(/<\/b>/g,"</b><br>").replace(/:/g,"<br>â:<br>").split("<br>")).length;B<I;B++)a=i[B],/\S/.test(a)||""===a||(a=" "),(!w&&" "===a||""!==a.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())&&(c+=" "!==a?4:0,w&&!b?(h={x:2*this.marginX+(S+P),dy:A+(w?v:0),fill:""},v=null):h=b&&w?{x:""===x?2*this.marginX+(S+P):2*this.marginX}:{},w=!1,o=this.renderer.createTSpan(h,""),k.appendChild(o),a.indexOf("<b>")>-1?(L="bold",O=this.themeStyle.tooltipBoldLabel,m="font-weight:"+L,y.fontWeight=L,o.setAttribute("fill",this.textStyle.color||O)):(m="bold"===L?"font-weight:"+L:"",y.fontWeight=L,o.setAttribute("fill",this.textStyle.color||O)),a.indexOf("</b>")>-1&&(L="Normal",O=this.themeStyle.tooltipLightLabel),o.textContent=a=a.replace(/<[a-zA-Z\/](.|\n)*?>/g,""),c+=r(a,y).width,""!==m&&o.setAttribute("style",m),b=!1);c-=4,p=Math.max(p,c)}}}this.elementSize=new u(p+(p>0?2*this.marginX:0),d),this.elementSize.width+=S+P;var R=k.childNodes[0];if(""!==x&&R){y.fontWeight="bold";var F=(this.elementSize.width+2*this.padding)/2-r(x,y).width/2;R.setAttribute("x",F.toString())}},h.prototype.createTemplate=function(t,i){var r={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",r);var o=document.getElementById(this.element.id);this.isCanvas&&this.removeSVG();var s=o.firstElementChild;if(s&&e.remove(s),r.cancel)e.remove(n(this.element.id+"_tooltip"));else{for(var a=e.createElement("div",{id:this.element.id+"parent_template"}),h=this.templateFn(this.data,null,null,a.id+"_blazorTemplate","");h&&h.length>0;)e.isBlazor()?(a.appendChild(h[0]),h=null):a.appendChild(h[0]);o.appendChild(a);var l=this.isCanvas?a:this.element,d=l.getBoundingClientRect();this.padding=0,this.elementSize=new u(d.width,d.height);var p=this.tooltipLocation(t,i,new v(0,0),new v(0,0));if(!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(l,p.x,p.y):this.animateTooltipDiv(this.element,p),this.blazorTemplate){var c=function(){var e=n(y.element.id).getBoundingClientRect();y.elementSize=new u(e.width,e.height);var r=y.tooltipLocation(t,i,new v(0,0),new v(0,0));y.updateDiv(n(y.element.id),r.x,r.y)},y=this;c.bind(y,t,i),e.updateBlazorTemplate(this.element.id+"parent_template_blazorTemplate",this.blazorTemplate.name,this.blazorTemplate.parent,void 0,c)}}},h.prototype.sharedTooltipLocation=function(t,e,i){var r=this.elementSize.width+2*this.marginX,o=this.elementSize.height+2*this.marginY,n=new y(e+2*this.padding,i-o-this.padding,r,o);return n.y<t.y&&(n.y+=n.height+2*this.padding),n.x+n.width>t.x+t.width&&(n.x-=n.width+4*this.padding),n},h.prototype.getCurrentPosition=function(t,e,i,r){var o=this.tooltipPlacement,n=this.clipBounds.x,s=this.clipBounds.y,a=this.offset,h=this.elementSize.width+2*this.marginX,l=this.elementSize.height+2*this.marginY,d=new v(e.x,e.y);return"Top"===o||"Bottom"===o?(d=new v(d.x+n-this.elementSize.width/2-this.padding,d.y+s-this.elementSize.height-2*this.padding-this.arrowPadding-a),i.x=r.x=h/2,"Bottom"===o&&(d.y=e.y+s+a),t.x+t.width<d.x+h?(d.x=t.width>h?t.x+t.width-h+6:t.x,i.x=r.x=t.width>h?t.x+e.x-d.x:e.x):t.x>d.x&&(d.x=t.x,i.x=r.x=e.x)):(d=new v(d.x+n+a,d.y+s-this.elementSize.height/2-this.padding),i.y=r.y=l/2,"Left"===o&&(d.x=e.x+n-a-(h+this.arrowPadding)),t.y+t.height<d.y+l?(d.y=t.height>l?t.y+t.height-l+6:t.y,i.y=r.y=t.height>l?t.y+e.y-d.y:e.y):t.y>d.y&&(d.y=t.y,i.y=r.y=e.y)),new y(d.x,d.y,h,l)},h.prototype.tooltipLocation=function(t,i,r,o){if(!e.isNullOrUndefined(this.tooltipPlacement))return this.getCurrentPosition(t,i,r,o);var n=new v(i.x,i.y),s=this.elementSize.width+2*this.marginX,a=this.elementSize.height+2*this.marginY,h=this.offset,l=this.clipBounds.x,d=this.clipBounds.y,p=t.x,c=t.y;return this.inverted?(n=new v(n.x+l+h,n.y+d-this.elementSize.height/2-this.padding),r.y=o.y=a/2,(n.x+s+this.arrowPadding>p+t.width||this.isNegative)&&(n.x=(i.x>t.width?t.width:i.x)+l-h-(s+this.arrowPadding)),n.x<p&&(n.x=(i.x<0?0:i.x)+l+h),n.y<=c&&(r.y-=c-n.y,o.y-=c-n.y,n.y=c),n.y+a>=c+t.height&&(r.y+=n.y+a-(c+t.height),o.y+=n.y+a-(c+t.height),n.y-=n.y+a-(c+t.height)),r.y+this.arrowPadding/2>a-this.ry&&(r.y=a-this.ry-this.arrowPadding/2,o.y=a,this.tipRadius=0),r.y-this.arrowPadding/2<this.ry&&(r.y=this.ry+this.arrowPadding/2,o.y=0,this.tipRadius=0)):(n=new v(n.x+l-this.elementSize.width/2-this.padding,n.y+d-this.elementSize.height-2*this.padding-this.arrowPadding-h),r.x=o.x=s/2,(n.y<c||this.isNegative)&&(n.y=(i.y<0?0:i.y)+d+h),n.y+a+this.arrowPadding>c+t.height&&(n.y=(i.y>t.height?t.height:i.y)+d-this.elementSize.height-2*this.padding-this.arrowPadding-h),o.x=s/2,n.x<p&&(r.x-=p-n.x,o.x-=p-n.x,n.x=p),n.x+s>p+t.width&&(r.x+=n.x+s-(p+t.width),o.x+=n.x+s-(p+t.width),n.x-=n.x+s-(p+t.width)),r.x+this.arrowPadding/2>s-this.rx&&(r.x=s-this.rx-this.arrowPadding/2,o.x=s,this.tipRadius=0),r.x-this.arrowPadding/2<this.rx&&(r.x=this.rx+this.arrowPadding/2,o.x=0,this.tipRadius=0)),new y(n.x,n.y,s,a)},h.prototype.animateTooltipDiv=function(t,i){var r,o=this,n=parseFloat(t.style.left),s=parseFloat(t.style.top);new e.Animation({}).animate(t,{duration:this.duration,progress:function(e){r=e.timeStamp/e.duration,t.style.animation=null,t.style.left=n+r*(i.x-n)+"px",t.style.top=s+r*(i.y-s)+"px"},end:function(e){o.updateDiv(t,i.x,i.y),o.trigger("animationComplete",{tooltip:o})}})},h.prototype.updateDiv=function(t,e,i){t.style.left=e+"px",t.style.top=i+"px"},h.prototype.updateTemplateFn=function(){if(this.template)try{document.querySelectorAll(this.template).length&&(this.templateFn=e.compile(document.querySelector(this.template).innerHTML.trim()))}catch(t){this.templateFn=e.compile(this.template)}},h.prototype.fadeOut=function(){var t=this,i=n(this.isCanvas&&!this.template?this.element.id+"_svg":this.element.id);if(i){var r=i.firstChild;this.isCanvas&&!this.template&&(r=document.getElementById(this.element.id+"_group")?document.getElementById(this.element.id+"_group"):r);var o;r&&(o=parseFloat(r.getAttribute("opacity"))||1),new e.Animation({}).animate(r,{duration:200,progress:function(e){t.progressAnimation(r,o,e.timeStamp/e.duration)},end:function(e){t.fadeOuted=!0,t.endAnimation(r)}})}},h.prototype.progressAnimation=function(t,e,i){t.style.animation="",t.setAttribute("opacity",(e-i).toString())},h.prototype.endAnimation=function(t){t.setAttribute("opacity","0"),this.template&&!this.shared&&(t.style.display="none"),this.trigger("animationComplete",{tooltip:this})},h.prototype.getPersistData=function(){var t=[];return this.addOnPersist(t)},h.prototype.getModuleName=function(){return"tooltip"},h.prototype.destroy=function(){t.prototype.destroy.call(this),this.element.classList.remove("e-tooltip")},h.prototype.onPropertyChanged=function(t,i){this.blazorTemplate&&e.resetBlazorTemplate(this.element.id+"parent_template_blazorTemplate"),this.isFirst=!1,this.render()},w([e.Property(!1)],h.prototype,"enable",void 0),w([e.Property(!1)],h.prototype,"shared",void 0),w([e.Property(!0)],h.prototype,"enableShadow",void 0),w([e.Property(null)],h.prototype,"fill",void 0),w([e.Property("")],h.prototype,"header",void 0),w([e.Property(.75)],h.prototype,"opacity",void 0),w([e.Complex({size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},S)],h.prototype,"textStyle",void 0),w([e.Property(null)],h.prototype,"template",void 0),w([e.Property(!0)],h.prototype,"enableAnimation",void 0),w([e.Property(300)],h.prototype,"duration",void 0),w([e.Property(!1)],h.prototype,"inverted",void 0),w([e.Property(!1)],h.prototype,"isNegative",void 0),w([e.Complex({color:"#cccccc",width:.5},P)],h.prototype,"border",void 0),w([e.Property([])],h.prototype,"content",void 0),w([e.Property(10)],h.prototype,"markerSize",void 0),w([e.Complex({x:0,y:0},O)],h.prototype,"clipBounds",void 0),w([e.Property([])],h.prototype,"palette",void 0),w([e.Property([])],h.prototype,"shapes",void 0),w([e.Complex({x:0,y:0},O)],h.prototype,"location",void 0),w([e.Property(0)],h.prototype,"offset",void 0),w([e.Property(2)],h.prototype,"rx",void 0),w([e.Property(2)],h.prototype,"ry",void 0),w([e.Property(5)],h.prototype,"marginX",void 0),w([e.Property(5)],h.prototype,"marginY",void 0),w([e.Property(12)],h.prototype,"arrowPadding",void 0),w([e.Property(null)],h.prototype,"data",void 0),w([e.Property("Material")],h.prototype,"theme",void 0),w([e.Complex({x:0,y:0,width:0,height:0},L)],h.prototype,"areaBounds",void 0),w([e.Property(null)],h.prototype,"availableSize",void 0),w([e.Property()],h.prototype,"blazorTemplate",void 0),w([e.Property(!1)],h.prototype,"isCanvas",void 0),w([e.Property(null)],h.prototype,"tooltipPlacement",void 0),w([e.Event()],h.prototype,"tooltipRender",void 0),w([e.Event()],h.prototype,"loaded",void 0),w([e.Event()],h.prototype,"animationComplete",void 0),h=w([e.NotifyPropertyChanges],h)}(e.Component);return t.TextStyle=S,t.TooltipBorder=P,t.AreaBounds=L,t.ToolLocation=O,t.Tooltip=A,t.getTooltipThemeColor=i,t.measureText=r,t.findDirection=o,t.Size=u,t.Rect=y,t.Side=g,t.CustomizeOption=m,t.TextOption=f,t.getElement=n,t.removeElement=s,t.drawSymbol=a,t.calculateShapes=h,t.PathOption=x,t.textElement=l,t.TooltipLocation=v,t.SvgRenderer=d,t.CanvasRenderer=p,t}({},ej.base),this.ejs=ej;

this.ej=this.ej||{},this.ej.circulargauge=function(t,e,i,n){"use strict";function o(t,i){var n=document.getElementById("gauge-measuretext");null===n&&(n=e.createElement("text",{id:"gauge-measuretext"}),document.body.appendChild(n));var o="position: absolute; visibility: hidden;;left: 0px; top: -100px; white-space: nowrap;"+a(i);return n.innerHTML=t,n.setAttribute("style",o),new G(n.clientWidth,n.clientHeight)}function r(t,e){return null!==t&&void 0!==t?-1!==t.indexOf("%")?e/100*parseInt(t,10):parseInt(t,10):null}function a(t){return"font-size:"+t.size+"; font-style:"+t.fontStyle+"; font-weight:"+t.fontWeight+"; font-family:"+t.fontFamily+";opacity:"+t.opacity+"; color:"+t.color+";"}function s(t,i,n){e.setStyleAttribute(t,{stroke:n.color,"stroke-width":n.width,fill:i})}function l(t){var e;return document.body.appendChild(t),e=t.getBoundingClientRect(),T(t.id),e}function h(t,e){return null!==t&&void 0!==t?-1!==t.indexOf("%")?e/100*parseInt(t,10):parseInt(t,10):null}function d(t,e,n,o,r){var a,s={},l=new i.SvgRenderer(""),h=r+" font-size:"+e.size+"; font-style:"+e.fontStyle+" ; font-weight:"+e.fontWeight+"; font-family:"+e.fontFamily+";";return s={id:t.id,x:t.x,y:t.y,fill:n,"text-anchor":t.anchor,transform:t.transform,opacity:e.opacity,"dominant-baseline":t.baseLine,style:h},a=l.createText(s,t.text),o.appendChild(a),a}function g(t,e,i,n){n=n||"Path";var o=i.renderer["draw"+n](t);return o.setAttribute("transform",t.transform),o.setAttribute("style",t.style),e.appendChild(o),o}function u(t,e,i){for(var n=0,o=i.length;t<o;t++)n+=i[t];return n}function p(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}function c(t,e,i,n,o,r){var a;return o-=v(n,o)?1e-4:0,n-=90,o-=90,a=r?(t-i)*(m(n,o)/(e-i))+n:(a=o-(t-i)*(m(n,o)/(e-i)))<0?360+a:a,a=Math.round(a)>=360?a-360:Math.round(a)<0?360+a:a}function m(t,e){var i=e-t;return i<0?i+360:i}function y(t,e,i,n,o,r){return o-=v(n,o)?1e-4:0,t=t<n?t+360:t,r?(t-n)/m(n,o)*(e-i)+i:e-((t-n)/m(n,o)*(e-i)+i)}function v(t,e){var i=e-t;return i=i<=0?i+360:i,0!==Math.floor(i/360)}function f(t,e){var i=Math.atan2(e.y-t.y,e.x-t.x);return i=Math.round((i<0?6.283+i:i)*(180/Math.PI))-270,i+=i<0?360:0}function x(t,e,i){var n=t*Math.PI/180;return new U(Math.cos(n)*e+i.x,Math.sin(n)*e+i.y)}function b(t,i,n,o,r,a,s,l){var h=m(i,n-=v(i,n)?1e-4:0),d=e.isNullOrUndefined(s)?o-r:"Outside"===s.position?o+r:"Cross"===s.position&&"AntiClockWise"===l.direction?o-(a+r)/2:o-r,g=e.isNullOrUndefined(s)?o-a:"Outside"===s.position?o+a:"Cross"===s.position&&"ClockWise"===l.direction?o-(a+r)/2:o-a,u=e.isNullOrUndefined(s)?o-(r+a)/2:"Outside"===s.position?o+(r+a)/2:"Cross"===s.position?o-(r+a)/4-("ClockWise"===l.direction?r:a)/2:o-(r+a)/2,p=e.isNullOrUndefined(s)||"Cross"!==s.position?o:o+(r+a)/4-("ClockWise"===l.direction?r:a)/2,c=e.isNullOrUndefined(s)||"Cross"!==s.position||"ClockWise"!==l.direction?o:o-(r-a)/2,y=e.isNullOrUndefined(s)||"Cross"!==s.position||"AntiClockWise"!==l.direction?o:o+(r-a)/2;return void 0!==r&&void 0!==a?P(x(i,y,t),x(n,c,t),x(i,d,t),x(n,g,t),p,u,u,h<180?0:1):R(x(i,o,t),x(n,o,t),o,h<180?0:1)}function P(t,e,i,n,o,r,a,s){return"M "+t.x+" "+t.y+" A "+o+" "+o+" 0 "+s+" 1 "+e.x+" "+e.y+" L "+n.x+" "+n.y+" A "+a+" "+r+" 0 "+s+" 0 "+i.x+" "+i.y+" Z"}function w(t,e,i,n,o,r,a,s){var l=m(e,i-=v(e,i)?1e-4:0),h=r-a,d=r-s,g=r-(a+s)/2;return C(x(e,r,t),x(i,r,t),x(o,r,t),x(o,d,t),x(n,r,t),x(n,h,t),x(e,h,t),x(i,d,t),r,g,g,l<180?0:1)}function C(t,e,i,n,o,r,a,s,l,h,d,g){return"M "+t.x+" "+t.y+" A "+l+" "+l+" 0 "+g+" 1 "+e.x+" "+e.y+" C "+i.x+" "+i.y+" "+n.x+" "+n.y+" "+s.x+" "+s.y+" A "+d+" "+h+" 0 "+g+" 0 "+a.x+" "+a.y+" C "+r.x+" "+r.y+" "+o.x+" "+o.y+" "+t.x+" "+t.y+" Z"}function S(t,e,i,n,o){var r=m(e,i-=v(e,i)?1e-4:0);return A(t,x(e,n,t),x(i,n,t),n,x(e,o,t),x(i,o,t),o,r<180?0:1)}function R(t,e,i,n){return"M "+t.x+" "+t.y+" A "+i+" "+i+" 0 "+n+" 1 "+e.x+" "+e.y}function A(t,e,i,n,o,r,a,s){return"M "+e.x+" "+e.y+" A "+n+" "+n+" 0 "+s+" 1 "+i.x+" "+i.y+" L "+r.x+" "+r.y+" A "+a+" "+a+" 0 "+s+",0 "+o.x+" "+o.y+" Z"}function _(t){return document.getElementById(t)}function M(t,i){var n=null;try{if(i.isBlazor){var o=t.match(/\d+/g).toString();t=-1!==(t=o?t.replace(o,""):t).indexOf("/")?t.replace("/",""):t}document.querySelectorAll(t).length&&("a"===t.charAt(0)&&"A"===t.charAt(0)||1===t.length||(n=e.compile(document.querySelector(t).innerHTML.trim())))}catch(i){n=e.compile(t)}return n}function T(t){var i=_(t);i&&e.remove(i)}function I(t,e){var i;return i=t.replace(e.element.id,"").split("_Axis_")[1],{axisIndex:+i[0],pointerIndex:+i[i.length-1]}}function L(t,i,n){var o,r,a=M(t,i),s=a?a({},null,null,i.element.id+"Template"):[];if(a&&s.length){r=i.createElement("div",{id:i.element.id+"_Measure_Element"}),i.element.appendChild(r);for(var l=a({},null,null,i.element.id+"Template"),h=l.length;h>0;)r.appendChild(l[0]),h--;n.appendChild(r),o=new G(n.getBoundingClientRect().width,n.getBoundingClientRect().height),e.remove(r)}return o}function E(t,e,i){var n=i.getBoundingClientRect(),o=i.ownerDocument.defaultView.pageXOffset,r=i.ownerDocument.defaultView.pageYOffset,a=i.ownerDocument.documentElement.clientTop,s=i.ownerDocument.documentElement.clientLeft,l=n.left+o-s,h=n.top+r-a;return new U(t-l,e-h)}function O(t){return t&&null!==t.match("{value}")?"":t}function k(t,i,n,o,r){var a,s=n.width,l=n.height,h=t.x,d=t.y,g=t.x+-s/2,u=t.y+-l/2,p=r.id.indexOf("Shape")>-1;switch(i){case"Circle":e.merge(r,{rx:s/2,ry:l/2,cx:h,cy:d});break;case"Diamond":a="M "+g+" "+d+" L "+h+" "+(d+-l/2)+" L "+(h+s/2)+" "+d+" L "+h+" "+(d+l/2)+" L "+g+" "+d+" Z",e.merge(r,{d:a});break;case"Rectangle":a="M "+g+" "+(d+-l/2)+" L "+(h+s/2)+" "+(d+-l/2)+" L "+(h+s/2)+" "+(d+l/2)+" L "+g+" "+(d+l/2)+" L "+g+" "+(d+-l/2)+" Z",e.merge(r,{d:a});break;case"Triangle":a=p?"M "+(g+s/2)+" "+u+" L "+(g+s)+" "+(u+l)+"L "+g+" "+(u+l)+" Z":"M "+h+" "+d+" L "+(h-l)+" "+(d-s/2)+"L "+(h-l)+" "+(d+s/2)+" Z",e.merge(r,{d:a});break;case"InvertedTriangle":a=p?"M "+(g+s)+" "+u+" L "+(g+s/2)+" "+(u+l)+"L "+g+" "+u+" Z":"M "+h+" "+d+" L "+(h+l)+" "+(d-s/2)+"L "+(h+l)+" "+(d+s/2)+" Z",e.merge(r,{d:a});break;case"Image":e.merge(r,{href:o,height:l,width:s,x:g,y:u});break;case"RightArrow":var c=2;a="M "+(h+-s/2)+" "+(d-l/2)+" L "+(h+s/2)+" "+d+" L "+(h+-s/2)+" "+(d+l/2)+" L "+(h+-s/2)+" "+(d+l/2-c)+" L "+(h+s/2-2*c)+" "+d+" L"+(h+-s/2)+" "+(d-l/2+c)+" Z",e.merge(r,{d:a});break;case"LeftArrow":r.fill=r.stroke,r.stroke="transparent",a="M "+(h+s/2)+" "+(d-l/2)+" L "+(h+-s/2)+" "+d+" L "+(h+s/2)+" "+(d+l/2)+" L "+(h+s/2)+" "+(d+l/2-(c=2))+" L "+(h+-s/2+2*c)+" "+d+" L"+(h+s/2)+" "+(d-l/2+c)+" Z",e.merge(r,{d:a})}return r}function F(t,e,i){var n=0,o=0,r=e.filter(function(e){return n=Math.min(e.start,e.end),o=Math.max(e.start,e.end),t>=n&&o>=t});return r.length?r[0].rangeColor:i}function z(t,e,i){var n=e,r=o(e,i).width;if(r>t)for(var a=e.length-1;a>=0;--a)if(n=e.substring(0,a)+"...",(r=o(n,i).width)<=t)return n;return n}function B(t,i,n,r,a,s){var l=document.getElementById(a),h=o(t,{fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"Regular"}).width+5;i=i+h>r?i-h:i,l?(l.innerHTML=t,l.style.top=(n+15).toString()+"px",l.style.left=(i+15).toString()+"px"):(l=e.createElement("div",{innerHTML:t,id:a,styles:"top:"+(n+15).toString()+"px;left:"+(i+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'}),s.appendChild(l))}function j(t){var e;switch(t.toLowerCase()){case"materialdark":case"fabricdark":case"bootstrapdark":e={backgroundColor:"#333232",titleFontColor:"#ffffff",tooltipFillColor:"#FFFFFF",tooltipFontColor:"#000000",labelColor:"#DADADA",lineColor:"#C8C8C8",majorTickColor:"#C8C8C8",minorTickColor:"#9A9A9A",pointerColor:"#9A9A9A",capColor:"#9A9A9A",needleColor:"#9A9A9A",needleTailColor:"#9A9A9A"};break;case"highcontrast":e={backgroundColor:"#000000",titleFontColor:"#FFFFFF",tooltipFillColor:"#ffffff",tooltipFontColor:"#000000",labelColor:"#FFFFFF",lineColor:"#FFFFFF",majorTickColor:"#FFFFFF",minorTickColor:"#FFFFFF",pointerColor:"#FFFFFF",capColor:"#FFFFFF",needleColor:"#FFFFFF",needleTailColor:"#FFFFFF"};break;case"bootstrap4":e={backgroundColor:"#FFFFFF",titleFontColor:"#212529",tooltipFillColor:"#000000",tooltipFontColor:"#FFFFFF",labelColor:"#212529",lineColor:"#DEE2E6",majorTickColor:"#ADB5BD",minorTickColor:"#CED4DA",pointerColor:"#6C757D",capColor:"#6C757D",needleColor:"#6C757D",needleTailColor:"#6C757D",fontFamily:"HelveticaNeue-Medium",fontSize:"16px",labelFontFamily:"HelveticaNeue",tooltipFillOpacity:1,tooltipTextOpacity:.9};break;default:e={backgroundColor:"#FFFFFF",titleFontColor:"#424242",tooltipFillColor:"#363F4C",tooltipFontColor:"#ffffff",labelColor:"#212121",lineColor:"#E0E0E0",majorTickColor:"#9E9E9E",minorTickColor:"#9E9E9E",pointerColor:"#757575",capColor:"#757575",needleColor:"#757575",needleTailColor:"#757575"}}return e}var W,D=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),N=function(){function t(t){this.id=t}return t}(),V=function(t){function e(e,i,n,o,r,a,s,l,h){void 0===l&&(l=""),void 0===h&&(h="");var d=t.call(this,e)||this;return d.opacity=r,d.fill=i,d.stroke=o,d["stroke-width"]=n,d["stroke-dasharray"]=a,d.d=s,d.transform=l,d.style=h,d}return D(e,t),e}(N),H=function(t){function e(e,i,n,o,r){var a=t.call(this,e)||this;return a.y=r.y,a.x=r.x,a.height=r.height,a.width=r.width,a.opacity=o,a.fill=i,a.stroke=n.color,a["stroke-width"]=n.width,a}return D(e,t),e}(N),G=function(){function t(t,e){this.width=t,this.height=e}return t}(),U=function(){function t(t,e){this.x=t,this.y=e}return t}(),X=function(){function t(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}return t}(),Y=function(t){function e(e,i,n,o,r,a,s){void 0===a&&(a="");var l=t.call(this,e)||this;return l.transform="",l.baseLine="auto",l.x=i,l.y=n,l.anchor=o,l.text=r,l.transform=a,l.baseLine=s,l}return D(e,t),e}(N),Z=function(){function t(t,e,i){this.text=t,this.value=e,this.size=i}return t}(),q=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),J=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},$=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return q(i,t),J([e.Property("")],i.prototype,"color",void 0),J([e.Property(1)],i.prototype,"width",void 0),i}(e.ChildProperty),K=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return q(i,t),J([e.Property("16px")],i.prototype,"size",void 0),J([e.Property("")],i.prototype,"color",void 0),J([e.Property("segoe UI")],i.prototype,"fontFamily",void 0),J([e.Property("Normal")],i.prototype,"fontWeight",void 0),J([e.Property("Normal")],i.prototype,"fontStyle",void 0),J([e.Property(1)],i.prototype,"opacity",void 0),i}(e.ChildProperty),Q=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return q(i,t),J([e.Property(null)],i.prototype,"fill",void 0),J([e.Complex({size:"13px"},K)],i.prototype,"textStyle",void 0),J([e.Property(null)],i.prototype,"format",void 0),J([e.Property(null)],i.prototype,"template",void 0),J([e.Property(!0)],i.prototype,"enableAnimation",void 0),J([e.Complex({},$)],i.prototype,"border",void 0),J([e.Property(!1)],i.prototype,"showAtMousePosition",void 0),i}(e.ChildProperty),tt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return q(i,t),J([e.Property(null)],i.prototype,"fill",void 0),J([e.Complex({size:"13px"},K)],i.prototype,"textStyle",void 0),J([e.Property(null)],i.prototype,"format",void 0),J([e.Property(null)],i.prototype,"template",void 0),J([e.Property(!0)],i.prototype,"enableAnimation",void 0),J([e.Complex({},$)],i.prototype,"border",void 0),i}(e.ChildProperty),et=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return q(i,t),J([e.Property(10)],i.prototype,"left",void 0),J([e.Property(10)],i.prototype,"right",void 0),J([e.Property(10)],i.prototype,"top",void 0),J([e.Property(10)],i.prototype,"bottom",void 0),i}(e.ChildProperty),it=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return q(i,t),J([e.Property(!1)],i.prototype,"enable",void 0),J([e.Property(null)],i.prototype,"fill",void 0),J([e.Complex({size:"13px"},K)],i.prototype,"textStyle",void 0),J([e.Complex({},Q)],i.prototype,"rangeSettings",void 0),J([e.Complex({},tt)],i.prototype,"annotationSettings",void 0),J([e.Property(null)],i.prototype,"format",void 0),J([e.Property(null)],i.prototype,"template",void 0),J([e.Property(!0)],i.prototype,"enableAnimation",void 0),J([e.Complex({},$)],i.prototype,"border",void 0),J([e.Property(!1)],i.prototype,"showAtMousePosition",void 0),J([e.Property("Pointer")],i.prototype,"type",void 0),i}(e.ChildProperty);!function(t){t.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},t.legendLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(W||(W={}));var nt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ot=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},rt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nt(i,t),ot([e.Property(2)],i.prototype,"width",void 0),ot([e.Property("")],i.prototype,"dashArray",void 0),ot([e.Property(null)],i.prototype,"color",void 0),i}(e.ChildProperty),at=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nt(i,t),ot([e.Complex(W.axisLabelFont,K)],i.prototype,"font",void 0),ot([e.Property("")],i.prototype,"format",void 0),ot([e.Property("Inside")],i.prototype,"position",void 0),ot([e.Property("None")],i.prototype,"hiddenLabel",void 0),ot([e.Property(!1)],i.prototype,"autoAngle",void 0),ot([e.Property(!1)],i.prototype,"useRangeColor",void 0),ot([e.Property(0)],i.prototype,"offset",void 0),i}(e.ChildProperty),st=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nt(i,t),ot([e.Property(0)],i.prototype,"start",void 0),ot([e.Property(0)],i.prototype,"end",void 0),ot([e.Property(null)],i.prototype,"radius",void 0),ot([e.Property(10)],i.prototype,"startWidth",void 0),ot([e.Property(10)],i.prototype,"endWidth",void 0),ot([e.Property(null)],i.prototype,"color",void 0),ot([e.Property(0)],i.prototype,"roundedCornerRadius",void 0),ot([e.Property(1)],i.prototype,"opacity",void 0),ot([e.Property("")],i.prototype,"legendText",void 0),ot([e.Property("Auto")],i.prototype,"position",void 0),ot([e.Property(0)],i.prototype,"offset",void 0),i}(e.ChildProperty),lt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nt(i,t),ot([e.Property(2)],i.prototype,"width",void 0),ot([e.Property(null)],i.prototype,"height",void 0),ot([e.Property(null)],i.prototype,"interval",void 0),ot([e.Property(0)],i.prototype,"offset",void 0),ot([e.Property(null)],i.prototype,"color",void 0),ot([e.Property("Inside")],i.prototype,"position",void 0),ot([e.Property(!1)],i.prototype,"useRangeColor",void 0),i}(e.ChildProperty),ht=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nt(i,t),ot([e.Property(null)],i.prototype,"color",void 0),ot([e.Complex({color:null,width:8},$)],i.prototype,"border",void 0),ot([e.Property(8)],i.prototype,"radius",void 0),i}(e.ChildProperty),dt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nt(i,t),ot([e.Property(null)],i.prototype,"color",void 0),ot([e.Complex({color:null,width:0},$)],i.prototype,"border",void 0),ot([e.Property("0%")],i.prototype,"length",void 0),i}(e.ChildProperty),gt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nt(i,t),ot([e.Property(!0)],i.prototype,"enable",void 0),ot([e.Property(1e3)],i.prototype,"duration",void 0),i}(e.ChildProperty),ut=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nt(i,t),ot([e.Property(null)],i.prototype,"content",void 0),ot([e.Property(90)],i.prototype,"angle",void 0),ot([e.Property("50%")],i.prototype,"radius",void 0),ot([e.Property("-1")],i.prototype,"zIndex",void 0),ot([e.Property(!1)],i.prototype,"autoAngle",void 0),ot([e.Complex({size:"12px",color:"#686868"},K)],i.prototype,"textStyle",void 0),ot([e.Property(null)],i.prototype,"description",void 0),i}(e.ChildProperty),pt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return nt(i,t),ot([e.Property(null)],i.prototype,"value",void 0),ot([e.Property("Needle")],i.prototype,"type",void 0),ot([e.Property("Auto")],i.prototype,"position",void 0),ot([e.Property(0)],i.prototype,"roundedCornerRadius",void 0),ot([e.Property(null)],i.prototype,"imageUrl",void 0),ot([e.Property(null)],i.prototype,"radius",void 0),ot([e.Property(20)],i.prototype,"pointerWidth",void 0),ot([e.Complex({},ht)],i.prototype,"cap",void 0),ot([e.Complex({},dt)],i.prototype,"needleTail",void 0),ot([e.Property(null)],i.prototype,"color",void 0),ot([e.Complex({color:"#DDDDDD",width:0},$)],i.prototype,"border",void 0),ot([e.Complex(null,gt)],i.prototype,"animation",void 0),ot([e.Property("Circle")],i.prototype,"markerShape",void 0),ot([e.Property(5)],i.prototype,"markerHeight",void 0),ot([e.Property(null)],i.prototype,"description",void 0),ot([e.Property(5)],i.prototype,"markerWidth",void 0),ot([e.Property(0)],i.prototype,"offset",void 0),i}(e.ChildProperty),ct=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.visibleLabels=[],e}return nt(i,t),ot([e.Property(null)],i.prototype,"minimum",void 0),ot([e.Property(null)],i.prototype,"maximum",void 0),ot([e.Property(!1)],i.prototype,"showLastLabel",void 0),ot([e.Property(!1)],i.prototype,"hideIntersectingLabel",void 0),ot([e.Property(null)],i.prototype,"roundingPlaces",void 0),ot([e.Property(null)],i.prototype,"radius",void 0),ot([e.Complex({},rt)],i.prototype,"lineStyle",void 0),ot([e.Collection([{}],st)],i.prototype,"ranges",void 0),ot([e.Collection([{}],pt)],i.prototype,"pointers",void 0),ot([e.Collection([{}],ut)],i.prototype,"annotations",void 0),ot([e.Complex({width:2,height:10},lt)],i.prototype,"majorTicks",void 0),ot([e.Complex({width:2,height:5},lt)],i.prototype,"minorTicks",void 0),ot([e.Property(200)],i.prototype,"startAngle",void 0),ot([e.Property(160)],i.prototype,"endAngle",void 0),ot([e.Property("ClockWise")],i.prototype,"direction",void 0),ot([e.Property(null)],i.prototype,"background",void 0),ot([e.Property(null)],i.prototype,"rangeGap",void 0),ot([e.Property(!1)],i.prototype,"startAndEndRangeGap",void 0),ot([e.Complex({},at)],i.prototype,"labelStyle",void 0),i}(e.ChildProperty),mt=function(){function t(t){this.gauge=t,this.elementId=t.element.id}return t.prototype.renderAnnotation=function(t,i){var n=this,o=this.gauge.availableSize.width,r=e.createElement("div",{id:this.elementId+"_Annotations_"+i}),a=_(this.elementId+"_Secondary_Element");if(document.getElementById(this.elementId+"_Secondary_Element").style.width=o+"px",t.annotations.map(function(t,e){null!==t.content&&n.createTemplate(r,e,i)}),a&&r.childElementCount&&(a.appendChild(r),this.gauge.isBlazor))for(var s=0;s<this.gauge.axes[i].annotations.length;s++)e.updateBlazorTemplate(this.gauge.element.id+"_Axis"+i+"_ContentTemplate"+s,"ContentTemplate",this.gauge.axes[i].annotations[s])},t.prototype.createTemplate=function(t,i,n){var o=this,r=this.gauge.axes[n],s=r.annotations[i],l=e.createElement("div",{id:this.elementId+"_Axis_"+n+"_Annotation_"+i,styles:"position: absolute; z-index:"+s.zIndex+";transform:"+(s.autoAngle?"rotate("+(s.angle-90)+"deg)":"rotate(0deg)")+";"}),h={cancel:!1,name:"annotationRender",content:s.content,axis:r,annotation:s,textStyle:s.textStyle};if(this.gauge.isBlazor){var d=h.cancel,g=h.name,u=h.content,p=h.textStyle;h={cancel:d,name:g,content:u,annotation:s,textStyle:p}}this.gauge.trigger("annotationRender",h,function(d){var g,u;if(!h.cancel){if((g=M(h.content,o.gauge))&&(o.gauge.isBlazor?{}:g(r,null,null,o.gauge.element.id+"_Axis"+n+"_ContentTemplate"+i).length))for(var p=(u=Array.prototype.slice.call(g(o.gauge.isBlazor?{}:r,null,null,o.gauge.element.id+"_Axis"+n+"_ContentTemplate"+i))).length,c=0;c<p;c++)l.appendChild(u[c]);else l.appendChild(e.createElement("div",{innerHTML:h.content,id:"StringTemplate",styles:a(h.textStyle)}));o.updateLocation(l,r,s),t.appendChild(l)}})},t.prototype.updateLocation=function(t,e,i){var n=x(i.angle-90,h(i.radius,e.currentRadius),this.gauge.midPoint),o=l(t);t.style.left=n.x-o.width/2+"px",t.style.top=n.y-o.height/2+"px",t.setAttribute("aria-label",i.description||"Annotation")},t.prototype.getModuleName=function(){return"Annotations"},t.prototype.destroy=function(t){},t}(),yt=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&(i[n[o]]=t[n[o]]);return i},vt=function(){function t(t){this.gauge=t,this.tooltipId=this.gauge.element.id+"_CircularGauge_Tooltip",this.tooltip=t.tooltip,this.textStyle=this.tooltip.textStyle,this.borderStyle=this.tooltip.border,this.addEventListener()}return t.prototype.renderTooltip=function(t){this.gaugeId=this.gauge.element.getAttribute("id");var e,i,n,o,r,a=!1;if(-1!==t.type.indexOf("touch")?(n=(o=t).target,e=o.changedTouches[0].pageX,i=o.changedTouches[0].pageY):(n=t.target,e=t.pageX,i=t.pageY),this.tooltip.type.indexOf("Pointer")>-1&&n.id.indexOf("_Pointer_")>=0&&n.id.indexOf(this.gaugeId)>=0){null!==this.pointerEle&&(a=this.pointerEle===n);var s=this.gauge.svgObject.getBoundingClientRect(),l=this.gauge.element.getBoundingClientRect(),d=document.getElementById(this.gauge.element.id+"_AxesCollection").getBoundingClientRect(),g=new X(Math.abs(l.left-s.left),Math.abs(l.top-s.top),s.width,s.height),u=I(n.id,this.gauge);this.currentAxis=this.gauge.axes[u.axisIndex],this.currentPointer=this.currentAxis.pointers[u.pointerIndex];var p=c(this.currentPointer.currentValue,this.currentAxis.visibleRange.max,this.currentAxis.visibleRange.min,this.currentAxis.startAngle,this.currentAxis.endAngle,"ClockWise"===this.currentAxis.direction)%360,m=this.gauge.tooltip.format||this.currentAxis.labelStyle.format,y=m&&null!==m.match("{value}"),v=this.gauge.intl.getNumberFormat({format:O(m),useGrouping:this.gauge.useGroupingSeparator});if(this.tooltipElement(),0!==this.tooltipEle.childElementCount&&!this.gauge.enablePointerDrag&&!this.gauge.tooltip.showAtMousePosition)return null;var f=this.roundedValue(this.currentPointer.currentValue),b=y?m.replace(new RegExp("{value}","g"),v(f)):v(f);(r=x(p,this.currentAxis.currentRadius,this.gauge.midPoint)).x=this.tooltip.template&&(p>=150&&p<=250||p>=330&&p<=360||p>=0&&p<=45)?r.x+10:r.x;var P={name:"tooltipRender",cancel:!1,content:b,location:r,axis:this.currentAxis,tooltip:this.tooltip,pointer:this.currentPointer,event:t,gauge:this.gauge,appendInBodyTag:!1};this.gauge.isBlazor&&(P={name:P.name,cancel:P.cancel,content:P.content,location:P.location,tooltip:P.tooltip,event:P.event,appendInBodyTag:P.appendInBodyTag}),this.gauge.trigger("tooltipRender",P);var w=P.tooltip.template;if(null!==w&&1===w.length&&(w=w[w[0]]),this.tooltip.showAtMousePosition)P.location=E(e,i,this.gauge.svgObject),this.tooltipRect=g;else if(w){N=L(w,this.gauge,this.tooltipEle);this.tooltipRect=Math.abs(d.left-s.left)>N.width?this.findPosition(g,p,b,P.location):g}else this.findPosition(g,p,b,P.location);P.cancel||a||(P.tooltip.textStyle.color=P.tooltip.textStyle.color||this.gauge.themeStyle.tooltipFontColor,P.tooltip.textStyle.fontFamily=this.gauge.themeStyle.fontFamily||P.tooltip.textStyle.fontFamily,P.tooltip.textStyle.opacity=this.gauge.themeStyle.tooltipTextOpacity||P.tooltip.textStyle.opacity,this.svgTooltip=this.svgTooltipCreate(this.svgTooltip,P,w,this.arrowInverted,this.tooltipRect,this.gauge,P.tooltip.fill,P.tooltip.textStyle,P.tooltip.border),this.svgTooltip.opacity=this.gauge.themeStyle.tooltipFillOpacity||this.svgTooltip.opacity,this.svgTooltip.appendTo(this.tooltipEle),w&&Math.abs(i-this.tooltipEle.getBoundingClientRect().top)<=0&&(this.tooltipEle.style.top=parseFloat(this.tooltipEle.style.top)+20+"px"))}else if(this.tooltip.type.indexOf("Range")>-1&&n.id.indexOf("_Range_")>=0&&!this.gauge.isDrag&&n.id.indexOf(this.gaugeId)>=0){var C=this.gauge.svgObject.getBoundingClientRect(),S=this.gauge.element.getBoundingClientRect(),R=document.getElementById(this.gauge.element.id+"_AxesCollection").getBoundingClientRect(),g=new X(Math.abs(S.left-C.left),Math.abs(S.top-C.top),C.width,C.height),A=I(n.id,this.gauge);this.currentAxis=this.gauge.axes[A.axisIndex],this.currentRange=this.currentAxis.ranges[A.pointerIndex];var _=c(this.currentRange.end-Math.abs((this.currentRange.end-this.currentRange.start)/2),this.currentAxis.visibleRange.max,this.currentAxis.visibleRange.min,this.currentAxis.startAngle,this.currentAxis.endAngle,"ClockWise"===this.currentAxis.direction)%360,M=this.gauge.tooltip.rangeSettings.format||this.currentAxis.labelStyle.format,y=M&&(null!==M.match("{end}")||null!==M.match("{start}")),T=this.gauge.intl.getNumberFormat({format:O(M),useGrouping:this.gauge.useGroupingSeparator});this.tooltipElement();var k=this.roundedValue(this.currentRange.start),F=this.roundedValue(this.currentRange.end),z=this.currentRange.start.toString(),B=this.currentRange.end.toString(),j=y?M.replace(/{start}/g,z).replace(/{end}/g,B):"Start : "+T(k)+"<br>End : "+T(F);(r=x(_,this.currentRange.currentRadius,this.gauge.midPoint)).x=this.tooltip.rangeSettings.template&&(_>=150&&_<=250||_>=330&&_<=360||_>=0&&_<=45)?r.x+10:r.x;var W={name:"tooltipRender",cancel:!1,content:j,location:r,axis:this.currentAxis,tooltip:this.tooltip,range:this.currentRange,event:t,gauge:this.gauge,appendInBodyTag:!1};if(this.gauge.isBlazor){W.gauge;W=q=yt(W,["gauge"])}this.gauge.trigger("tooltipRender",W);var D=W.tooltip.rangeSettings.template;if(null!==D&&1===D.length&&(D=D[D[0]]),D&&(D=(D=D.replace(/[$]{start}/g,z)).replace(/[$]{end}/g,B)),this.tooltip.rangeSettings.showAtMousePosition)W.location=E(e,i,this.gauge.svgObject),this.tooltipRect=g;else if(D){var N=L(D,this.gauge,this.tooltipEle);this.tooltipRect=Math.abs(R.left-C.left)>N.width?this.findPosition(g,_,j,W.location):g}else this.findPosition(g,_,j,W.location);W.cancel||(W.tooltip.rangeSettings.textStyle.color=W.tooltip.rangeSettings.textStyle.color||this.gauge.themeStyle.tooltipFontColor,W.tooltip.rangeSettings.textStyle.fontFamily=this.gauge.themeStyle.fontFamily||W.tooltip.rangeSettings.textStyle.fontFamily,W.tooltip.rangeSettings.textStyle.opacity=this.gauge.themeStyle.tooltipTextOpacity||W.tooltip.rangeSettings.textStyle.opacity,this.svgTooltip=this.svgTooltipCreate(this.svgTooltip,W,D,this.arrowInverted,this.tooltipRect,this.gauge,W.tooltip.rangeSettings.fill,W.tooltip.rangeSettings.textStyle,W.tooltip.rangeSettings.border),this.svgTooltip.opacity=this.gauge.themeStyle.tooltipFillOpacity||this.svgTooltip.opacity,this.svgTooltip.appendTo(this.tooltipEle),D&&Math.abs(i-this.tooltipEle.getBoundingClientRect().top)<=0&&(this.tooltipEle.style.top=parseFloat(this.tooltipEle.style.top)+20+"px"))}else if(this.tooltip.type.indexOf("Annotation")>-1&&this.checkParentAnnotationId(n)&&!this.gauge.isDrag&&this.annotationTargetElement.id.indexOf(this.gaugeId)>=0){var V=this.gauge.svgObject.getBoundingClientRect(),H=this.gauge.element.getBoundingClientRect(),g=(document.getElementById(this.gauge.element.id+"_AxesCollection").getBoundingClientRect(),new X(Math.abs(H.left-V.left),Math.abs(H.top-V.top),V.width,V.height)),G=I(this.annotationTargetElement.id,this.gauge);this.currentAxis=this.gauge.axes[G.axisIndex],this.currentAnnotation=this.currentAxis.annotations[G.pointerIndex];var U=this.currentAnnotation.angle-90;this.tooltipElement(),document.getElementById(this.gauge.element.id+"_Secondary_Element").appendChild(this.tooltipEle);var Y=null!==this.gauge.tooltip.annotationSettings.format?this.gauge.tooltip.annotationSettings.format:"";(r=x(U,h(this.currentAnnotation.radius,this.currentAxis.currentRadius),this.gauge.midPoint)).x=this.tooltip.annotationSettings.template&&(U>=150&&U<=250||U>=330&&U<=360||U>=0&&U<=45)?r.x+10:r.x;var Z={name:"tooltipRender",cancel:!1,content:Y,location:r,axis:this.currentAxis,tooltip:this.tooltip,annotation:this.currentAnnotation,event:t,gauge:this.gauge,appendInBodyTag:!1};if(this.gauge.isBlazor){Z.gauge;var q=yt(Z,["gauge"]);Z=q}this.gauge.trigger("tooltipRender",Z);var J=Z.tooltip.annotationSettings.template;null!==J&&1===J.length&&(J=J[J[0]]);var $=this.annotationTargetElement.getBoundingClientRect();this.tooltipPosition="RightTop",this.arrowInverted=!0,Z.location.x=Z.location.x+$.width/2,this.tooltipRect=new X(g.x,g.y,g.width,g.height),Z.cancel||null===this.gauge.tooltip.annotationSettings.format&&null===this.gauge.tooltip.annotationSettings.template||(Z.tooltip.annotationSettings.textStyle.color=Z.tooltip.textStyle.color||this.gauge.themeStyle.tooltipFontColor,Z.tooltip.annotationSettings.textStyle.fontFamily=this.gauge.themeStyle.fontFamily||Z.tooltip.textStyle.fontFamily,Z.tooltip.annotationSettings.textStyle.opacity=this.gauge.themeStyle.tooltipTextOpacity||Z.tooltip.textStyle.opacity,this.svgTooltip=this.svgTooltipCreate(this.svgTooltip,Z,J,this.arrowInverted,this.tooltipRect,this.gauge,Z.tooltip.annotationSettings.fill,Z.tooltip.annotationSettings.textStyle,Z.tooltip.annotationSettings.border),this.svgTooltip.opacity=this.gauge.themeStyle.tooltipFillOpacity||this.svgTooltip.opacity,this.svgTooltip.appendTo(this.tooltipEle),J&&Math.abs(i-this.tooltipEle.getBoundingClientRect().top)<=0&&(this.tooltipEle.style.top=parseFloat(this.tooltipEle.style.top)+20+"px"))}else this.removeTooltip()},t.prototype.svgTooltipCreate=function(t,e,n,o,r,a,s,l,h){return new i.Tooltip({enable:!0,data:{value:e.content},template:n,enableAnimation:e.tooltip.enableAnimation,content:[e.content],location:e.location,inverted:o,areaBounds:r,fill:s||a.themeStyle.tooltipFillColor,textStyle:l,availableSize:a.availableSize,border:h,blazorTemplate:{name:"TooltipTemplate",parent:a.tooltip}})},t.prototype.tooltipElement=function(){document.getElementById(this.tooltipId)?this.tooltipEle=document.getElementById(this.tooltipId):(this.tooltipEle=e.createElement("div",{id:this.tooltipId,className:"EJ2-CircularGauge-Tooltip",styles:"position: absolute;pointer-events:none;"}),document.getElementById(this.gauge.element.id+"_Secondary_Element").appendChild(this.tooltipEle))},t.prototype.checkParentAnnotationId=function(t){for(this.annotationTargetElement=t.parentElement;null!=this.annotationTargetElement;){if(this.annotationTargetElement.id.indexOf("_Annotation_")>=0)return t=this.annotationTargetElement,!0;this.annotationTargetElement=this.annotationTargetElement.parentElement}return!1},t.prototype.roundedValue=function(t){return this.currentAxis.roundingPlaces?parseFloat(t.toFixed(this.currentAxis.roundingPlaces)):t},t.prototype.findPosition=function(t,e,i,n){var o,r,a,s;switch(!0){case e>=0&&e<45:this.arrowInverted=!0,o=e>=15&&e<=30?n.y:0,this.tooltipRect=new X(t.x,t.y+r,t.width,t.height),this.tooltipPosition="RightBottom";break;case e>=45&&e<90:this.arrowInverted=!1,this.tooltipRect=new X(t.x,t.y+n.y,t.width,t.height),this.tooltipPosition="BottomRight";break;case e>=90&&e<135:this.arrowInverted=!1,this.tooltipRect=new X(t.x,t.y+n.y,t.width,t.height),this.tooltipPosition="BottomLeft";break;case e>=135&&e<180:this.arrowInverted=!0,r=e>=150&&e<=160?n.y:0,this.tooltipRect=new X(t.x-t.width,t.y+r,t.width,t.height),this.tooltipPosition="LeftBottom";break;case e>=180&&e<225:this.arrowInverted=!0,a=e>=200&&e<=225?Math.abs(t.y-n.y):t.height,this.tooltipRect=new X(t.x-t.width,t.y,t.width,a),this.tooltipPosition="LeftTop";break;case e>=225&&e<270:this.arrowInverted=!1,s=e>=250&&e<=290?t.width:Math.abs(t.x-n.x),this.tooltipRect=new X(t.x,t.y,s,t.height),this.tooltipPosition="TopLeft";break;case e>=270&&e<315:this.arrowInverted=!1,o=e>=270&&e>290?n.x:0,this.tooltipRect=new X(t.x+o,t.y,t.width,t.height),this.tooltipPosition="TopRight";break;case e>=315&&e<=360:this.arrowInverted=!0,a=e>=315&&e<=340?Math.abs(t.y-n.y):t.height,this.tooltipRect=new X(t.x,t.y,t.width,a),this.tooltipPosition="RightTop"}return this.tooltipRect},t.prototype.removeTooltip=function(){if(document.getElementsByClassName("EJ2-CircularGauge-Tooltip").length>0){var t=document.getElementsByClassName("EJ2-CircularGauge-Tooltip")[0];t&&e.remove(t),this.pointerEle=null}},t.prototype.mouseUpHandler=function(t){this.renderTooltip(t),clearTimeout(this.clearTimeout),this.clearTimeout=setTimeout(this.removeTooltip.bind(this),2e3)},t.prototype.addEventListener=function(){this.gauge.isDestroyed||(this.gauge.on(e.Browser.touchMoveEvent,this.renderTooltip,this),this.gauge.on(e.Browser.touchEndEvent,this.mouseUpHandler,this))},t.prototype.removeEventListener=function(){this.gauge.isDestroyed||(this.gauge.off(e.Browser.touchMoveEvent,this.renderTooltip),this.gauge.off(e.Browser.touchEndEvent,this.mouseUpHandler))},t.prototype.getModuleName=function(){return"Tooltip"},t.prototype.destroy=function(t){this.removeEventListener()},t}(),ft=function(){function t(t){this.gauge=t}return t.prototype.drawAxisOuterLine=function(t,e,i,n){var o=t.background;this.setRangeColor(t),null!==o&&g(new V(n.element.id+"_AxisOuterLine_"+e,o,0,"transparent",null,"0",b(n.midPoint,0,360,Math.min(t.rect.width,t.rect.height)/2),"","pointer-events:none;"),i,n)},t.prototype.drawAxisLine=function(t,e,i,n){var o=t.startAngle,r=t.endAngle,a=t.lineStyle.color||this.gauge.themeStyle.lineColor;t.lineStyle.width>0&&(o=v(o,r)?[0,r=360][0]:o,g(new V(n.element.id+"_AxisLine_"+e,"transparent",t.lineStyle.width,a,null,t.lineStyle.dashArray,b(n.midPoint,o-90,r-90,t.currentRadius),"","pointer-events:none;"),i,n))},t.prototype.drawAxisLabels=function(t,e,i,n){var o,r,a,s,l,h,g,u,p,m,y,f,b,P,w,C=n.renderer.createGroup({id:n.element.id+"_Axis_Labels_"+e}),S=t.visibleRange.min,R=t.visibleRange.max,A=t.visibleLabels,_=!0,M=t.labelStyle,T=t.currentRadius,I=.1*t.currentRadius,L=M.font.color||this.gauge.themeStyle.labelColor;"Outside"===M.position?T+=t.nearSize-(t.maxLabelSize.height+t.lineStyle.width/2)+I/2:"Cross"===M.position?T=T-t.maxLabelSize.height/2-t.labelStyle.offset:T-=t.farSize-(t.maxLabelSize.height+t.lineStyle.width/2)+(M.autoAngle?I:0),t.hideIntersectingLabel&&(u=x(p=Math.round(c(A[A.length-1].value,R,S,t.startAngle,t.endAngle,"ClockWise"===t.direction)),T,n.midPoint),m=this.findAnchor(u,M,p,A[A.length-1]),y=!t.showLastLabel&&v(t.startAngle,t.endAngle)&&"First"!==M.hiddenLabel?A[0].size.width:A[A.length-1].size.width,f=!t.showLastLabel&&v(t.startAngle,t.endAngle)&&"First"!==M.hiddenLabel?M.autoAngle?A[0].size.width:A[0].size.height:M.autoAngle?A[A.length-1].size.width:A[A.length-1].size.height,f-=this.offsetAxisLabelsize(p,f),u=this.getAxisLabelStartPosition(u,y,M,f,m,p));for(var E=0,O=A.length;E<O;E++)if(w=A[E],P=Math.round(c(w.value,R,S,t.startAngle,t.endAngle,"ClockWise"===t.direction)),o=x(P,T,n.midPoint),b=this.findAnchor(o,M,P,w),t.hideIntersectingLabel&&(g=x(P,T,n.midPoint),s=w.size.width,l=M.autoAngle?s:w.size.height,l-=this.offsetAxisLabelsize(P,l),g=this.getAxisLabelStartPosition(g,s,M,l,b,P),0===E&&(h=x(P,T,n.midPoint),r=w.size.width,a=M.autoAngle?r:w.size.height,a-=this.offsetAxisLabelsize(P,a),h=this.getAxisLabelStartPosition(h,r,M,a,b,P))),!(0===E&&"First"===M.hiddenLabel||E===O-1&&"Last"===M.hiddenLabel)){if(M.font.fontFamily=this.gauge.themeStyle.labelFontFamily||M.font.fontFamily,t.hideIntersectingLabel&&0!==E){var k=E===A.length-1||!v(t.startAngle,t.endAngle)&&!t.showLastLabel||this.FindAxisLabelCollision(u,y,f,g,s,l);_=this.FindAxisLabelCollision(h,r,a,g,s,l)&&k}else _=!0;(_||E===A.length-1)&&(w.text=!t.showLastLabel&&(v(t.startAngle,t.endAngle)&&"First"!==M.hiddenLabel||!_)&&t.hideIntersectingLabel&&E===O-1?"":w.text,w.text=t.showLastLabel&&t.hideIntersectingLabel&&v(t.startAngle,t.endAngle)&&0===E?"":w.text,d(new Y(n.element.id+"_Axis_"+e+"_Label_"+E,o.x,o.y,b,w.text,M.autoAngle?"rotate("+(P+90)+","+o.x+","+o.y+")":"","auto"),M.font,M.useRangeColor?F(w.value,t.ranges,L):L,C,"pointer-events:none;"),t.hideIntersectingLabel&&(r=w.size.width,a=M.autoAngle?r:w.size.height,a-=this.offsetAxisLabelsize(P,a),h.x=g.x,h.y=g.y))}i.appendChild(C)},t.prototype.findAnchor=function(t,e,i,n){if(e.autoAngle)return"middle";var o="Inside"===e.position?i>120&&i<240?"start":300<i||i<60?"end":"middle":i>120&&i<240?"end":300<i||i<60?"start":"middle";return t.y+="Inside"===e.position?i>=240&&i<=300?n.size.height/2:i>=60&&i<=120?0:n.size.height/4:i>=240&&i<=300?0:i>=60&&i<=120?n.size.height/2:n.size.height/4,o},t.prototype.FindAxisLabelCollision=function(t,e,i,n,o,r){return t.x>n.x+o||t.x+e<n.x||t.y+i<n.y||t.y>n.y+r},t.prototype.getAxisLabelStartPosition=function(t,e,i,n,o,r){return t.x="end"===o?t.x-e:"middle"===o?t.x-e/2:t.x,t},t.prototype.offsetAxisLabelsize=function(t,e){return t>=20&&t<=60||t>=120&&t<=160||t>=200&&t<=240||t>=300&&t<=340?e/5:0},t.prototype.drawMinorTickLines=function(t,e,i,n){var o=n.renderer.createGroup({id:n.element.id+"_Axis_MinorTickLines_"+e}),r=t.minorTicks,a=null!==r.interval?r.interval:t.visibleRange.interval/2,s=r.useRangeColor,l=r.color||this.gauge.themeStyle.minorTickColor;if(r.width&&r.height&&a){for(var h=t.visibleRange.min,d=t.visibleRange.max;h<=d;h+=a)this.majorValues.indexOf(+h.toFixed(3))<0&&g(new V(n.element.id+"_Axis_Minor_TickLine_"+e+"_"+h,"transparent",r.width,s?F(h,t.ranges,l):l,null,"0",this.calculateTicks(h,r,t),"","pointer-events:none;"),o,n);i.appendChild(o)}},t.prototype.drawMajorTickLines=function(t,e,i,n){var o=n.renderer.createGroup({id:n.element.id+"_Axis_MajorTickLines_"+e}),r=t.majorTicks,a=r.useRangeColor;this.majorValues=[];var s=r.color||this.gauge.themeStyle.majorTickColor;if(r.width&&r.height&&t.visibleRange.interval){for(var l=t.visibleRange.min,h=t.visibleRange.max,d=t.visibleRange.interval;l<=h;l+=d)this.majorValues.push(+l.toFixed(3)),g(new V(n.element.id+"_Axis_Major_TickLine_"+e+"_"+l,"transparent",r.width,a?F(l,t.ranges,s):s,null,"0",this.calculateTicks(l,r,t),"","pointer-events:none;"),o,n);i.appendChild(o)}},t.prototype.calculateTicks=function(t,e,i){var n=i.lineStyle.width/2+e.offset,o=c(t,i.visibleRange.max,i.visibleRange.min,i.startAngle,i.endAngle,"ClockWise"===i.direction),r=x(o,i.currentRadius+("Outside"===e.position?n:"Cross"===e.position?e.height/2-e.offset:-n),this.gauge.midPoint),a=x(o,i.currentRadius+("Outside"===e.position?n:"Cross"===e.position?e.height/2-e.offset:-n)+("Outside"===e.position?e.height:-e.height),this.gauge.midPoint);return"M "+r.x+" "+r.y+" L "+a.x+" "+a.y+" "},t.prototype.drawAxisRange=function(t,i,n,o){var a,s,l,d,u,p,m,y,v,f,x=this,P=o.renderer.createGroup({id:o.element.id+"_Axis_Ranges_"+i}),C=this.gauge.midPoint,S="ClockWise"===t.direction,R=t.visibleRange.min,A=t.visibleRange.max;t.ranges.map(function(n,_){!e.isNullOrUndefined(n.offset)&&n.offset.length>0?n.currentDistanceFromScale=h(n.offset,t.currentRadius):n.currentDistanceFromScale=n.offset,x.calculateRangeRadius(t,n),u=n.startWidth.length>0?r(n.startWidth,n.currentRadius):n.startWidth,p=n.endWidth.length>0?r(n.endWidth,n.currentRadius):n.endWidth,n.currentRadius=x.calculateRangeRadiusWithPosition(t,n,u),l=Math.min(Math.max(n.start,R),n.end),d=Math.min(Math.max(n.start,n.end),A),a=c(l,A,R,t.startAngle,t.endAngle,S),s=c(d,A,R,t.startAngle,t.endAngle,S);var M=a>s;if(null!=t.rangeGap&&t.rangeGap>0&&(a=0!==_||t.startAndEndRangeGap?a+t.rangeGap/Math.PI:a,s=_!==t.ranges.length-1||t.startAndEndRangeGap?s-t.rangeGap/Math.PI:s),l!==d&&(M?a<s+360:a<s)){s=S?s:[a,a=s][0],p=S?p:[u,u=p][0];var T=n.roundedCornerRadius,I=.25*T;v=((n.currentRadius-u/2)*(a*Math.PI/180)-T/I)/(n.currentRadius-u/2)*180/Math.PI,f=((n.currentRadius-p/2)*(s*Math.PI/180)+T/I)/(n.currentRadius-p/2)*180/Math.PI,m=(n.currentRadius*(a*Math.PI/180)+T)/n.currentRadius*180/Math.PI,y=(n.currentRadius*(s*Math.PI/180)-T)/n.currentRadius*180/Math.PI,n.roundedCornerRadius?g(new V(o.element.id+"_Axis_"+i+"_Range_"+_,n.rangeColor,0,n.rangeColor,n.opacity,"0",w(C,Math.floor(m),Math.ceil(y),v,f,n.currentRadius,u,p),"",""),P,o):g(new V(o.element.id+"_Axis_"+i+"_Range_"+_,n.rangeColor,0,n.rangeColor,n.opacity,"0",b(o.midPoint,Math.floor(a),Math.ceil(s),n.currentRadius,u,p,n,t),"",""),P,o)}}),n.appendChild(P)},t.prototype.calculateRangeRadius=function(t,e){var i=null!==e.radius?e.radius:"100%";e.currentRadius=h(i,t.currentRadius)},t.prototype.calculateRangeRadiusWithPosition=function(t,i,n){return"Auto"!==i.position&&e.isNullOrUndefined(i.radius)?"Outside"===i.position?i.currentRadius+t.lineStyle.width/2+i.currentDistanceFromScale:"Inside"===i.position?i.currentRadius-t.lineStyle.width/2-i.currentDistanceFromScale:i.currentRadius+n/2-i.currentDistanceFromScale:i.currentRadius},t.prototype.setRangeColor=function(t){var e=(this.gauge.theme,["#50c917","#27d5ff","#fcde0b","#ffb133","#ff5985"]);t.ranges.map(function(t,i){t.rangeColor=t.color?t.color:e[i%e.length]})},t}(),xt=function(){function t(t){this.gauge=t}return t.prototype.drawPointers=function(t,i,n,o,r){var a=this;void 0===r&&(r=!0);var s,l,d=o.renderer.createGroup({id:o.element.id+"_Axis_Pointers_"+i});t.pointers.map(function(n,g){!e.isNullOrUndefined(n.offset)&&n.offset.length>0?n.currentDistanceFromScale=h(n.offset,t.currentRadius):n.currentDistanceFromScale=n.offset,l=t.visibleRange,n.pathElement=[],a.calculatePointerRadius(t,n),s=o.renderer.createGroup({id:o.element.id+"_Axis_"+i+"_Pointer_"+g}),a["draw"+n.type+"Pointer"](t,i,g,s,o),a.setPointerValue(t,n,n.currentValue),d.appendChild(s),r&&a.doPointerAnimation(n,t)}),n.appendChild(d)},t.prototype.calculatePointerRadius=function(t,i){i.currentRadius=e.isNullOrUndefined(i.radius)?"Auto"!==i.position?this.pointerRadiusForPosition(t,i):t.currentRadius-(t.farSize+5):h(i.radius,t.currentRadius)},t.prototype.pointerRadiusForPosition=function(t,e){var i="RangeBar"===e.type?e.pointerWidth:0,n="Marker"===e.type?"InvertedTriangle"===e.markerShape||"Triangle"===e.markerShape?"Cross"===e.position?e.markerWidth/2:0:e.markerWidth/2:0;return"Inside"===e.position?t.currentRadius-t.lineStyle.width/2-n-e.currentDistanceFromScale:"Outside"===e.position?t.currentRadius+i+t.lineStyle.width/2+n+e.currentDistanceFromScale:t.currentRadius+i/2-e.currentDistanceFromScale-("InvertedTriangle"===e.markerShape||"Triangle"===e.markerShape?n:0)},t.prototype.drawNeedlePointer=function(t,e,i,n,o){var r,a,s,l,d=t.pointers[i],u=o.midPoint,p=d.pointerWidth/2;a=x(0,d.currentRadius,u);var c=d.color||this.gauge.themeStyle.needleColor;s="M "+u.x+" "+(u.y-p)+" L "+a.x+" "+u.y+" L "+u.x+" "+(u.y+p)+" Z",d.pathElement.push(g(new V(o.element.id+"_Axis_"+e+"_Pointer_Needle_"+i,c,d.border.width,d.border.color,null,"0",s),n,o)),r=h(d.needleTail.length,d.currentRadius),l="M "+u.x+" "+(u.y-p)+" L "+a.x+" "+(u.y-p)+" L "+a.x+" "+(u.y+p)+" L "+u.x+" "+(u.y+p),r&&(a=x(180,r,o.midPoint),s="M "+u.x+" "+(u.y-p)+" L "+a.x+" "+(u.y-p)+" L "+a.x+" "+(u.y+p)+" L "+u.x+" "+(u.y+p)+" Z",d.pathElement.push(g(new V(o.element.id+"_Axis_"+e+"_Pointer_NeedleTail_"+i,d.needleTail.color||this.gauge.themeStyle.needleTailColor,d.needleTail.border.width,d.needleTail.border.color,null,"0",s),n,o)),l+=" L "+a.x+" "+(u.y+p)+" L "+a.x+" "+(u.y-p));var m=d.cap.color||this.gauge.themeStyle.capColor;d.cap.radius&&d.pathElement.push(g(k(u,"Circle",new G(2*d.cap.radius,2*d.cap.radius),"",new V(o.element.id+"_Axis_"+e+"_Pointer_NeedleCap_"+i,m,d.cap.border.width,d.cap.border.color,null,"0","","")),n,o,"Ellipse")),d.pathElement.push(g(new V(o.element.id+"_Axis_"+e+"_Pointer_NeedleRect_"+i,"transparent",0,"transpanret",null,"0",l+" Z"),n,o))},t.prototype.setPointerValue=function(t,i,n){var o=this.gauge.midPoint,r="ClockWise"===t.direction,a=c(t.visibleRange.min,t.visibleRange.max,t.visibleRange.min,t.startAngle,t.endAngle,r),s=c(n,t.visibleRange.max,t.visibleRange.min,t.startAngle,t.endAngle,r);s=r?a===s?s+1:s:a===s?[a,a=s-1][0]:[a,a=s][0];var l,h,d,g,u=i.roundedCornerRadius,p=.25*u;n<=p&&(u=8,p=.25*(u/=2)),d=((i.currentRadius-i.pointerWidth/2)*(a*Math.PI/180)-u/p)/(i.currentRadius-i.pointerWidth/2)*180/Math.PI,g=((i.currentRadius-i.pointerWidth/2)*(s*Math.PI/180)+u/p)/(i.currentRadius-i.pointerWidth/2)*180/Math.PI,l=(i.currentRadius*(a*Math.PI/180)+u)/i.currentRadius*180/Math.PI,h=(i.currentRadius*(s*Math.PI/180)-u)/i.currentRadius*180/Math.PI,e.isNullOrUndefined(i.currentRadius)&&this.calculatePointerRadius(t,i),i.pathElement.map(function(e){"RangeBar"===i.type?i.roundedCornerRadius&&n?(e.setAttribute("d",w(o,Math.floor(l),Math.ceil(h),d,g,i.currentRadius,i.pointerWidth,i.pointerWidth)),u=0):e.setAttribute("d",S(o,a,s,i.currentRadius,i.currentRadius-i.pointerWidth)):e.setAttribute("transform","rotate("+c(n,t.visibleRange.max,t.visibleRange.min,t.startAngle,t.endAngle,r)+","+o.x+","+o.y+")"),e.setAttribute("aria-label",i.description||"Pointer:"+n.toString())})},t.prototype.drawMarkerPointer=function(t,i,n,o,r){var a=t.pointers[n],s=a.markerShape;!e.isNullOrUndefined(a.radius)||e.isNullOrUndefined(a.position)||"InvertedTriangle"!==a.markerShape&&"Triangle"!==a.markerShape||(s="Outside"!==a.position&&"Cross"!==a.position||"Triangle"!==a.markerShape?"Inside"===a.position&&"InvertedTriangle"===a.markerShape?"Triangle":a.markerShape:"InvertedTriangle");var l=x(0,a.currentRadius,r.midPoint);a.pathElement.push(g(k(l,s,new G(a.markerWidth,a.markerHeight),a.imageUrl,new V(r.element.id+"_Axis_"+i+"_Pointer_Marker_"+n,a.color||this.gauge.themeStyle.pointerColor,a.border.width,a.border.color,null,"0","","")),o,r,"Circle"===a.markerShape?"Ellipse":"Image"===a.markerShape?"Image":"Path"))},t.prototype.drawRangeBarPointer=function(t,e,i,n,o){var r=t.pointers[i];r.pathElement.push(g(new V(o.element.id+"_Axis_"+e+"_Pointer_RangeBar_"+i,r.color||this.gauge.themeStyle.pointerColor,r.border.width,r.border.color,1,"0",""),n,o))},t.prototype.doPointerAnimation=function(t,e){var i=this,n=e.visibleRange.min,o=t.currentValue;t.animation.enable&&n!==o&&this.gauge.animatePointer&&t.pathElement.map(function(r){"RangeBar"===t.type?i.performRangeBarAnimation(r,n,o,e,t,t.currentRadius,t.currentRadius-t.pointerWidth):i.performNeedleAnimation(r,n,o,e,t,t.currentRadius,t.currentRadius-t.pointerWidth)})},t.prototype.performNeedleAnimation=function(t,i,n,o,r,a,s){var l,h=this,d="ClockWise"===o.direction,g=c(i,o.visibleRange.max,o.visibleRange.min,o.startAngle,o.endAngle,d),u=c(n,o.visibleRange.max,o.visibleRange.min,o.startAngle,o.endAngle,d),m=g>u?u+360:u;new e.Animation({}).animate(t,{duration:r.animation.duration,progress:function(e){l=i<n||Math.round(g)===Math.round(m)?d?m-g:m-g-360:d?m-g-360:m-g,t.style.animation="None",t.setAttribute("transform","rotate("+p(e.timeStamp,g,l,e.duration)+","+h.gauge.midPoint.x.toString()+","+h.gauge.midPoint.y.toString()+")")},end:function(e){h.setPointerValue(o,r,n),("Marker"===r.type||t.id.indexOf("_Pointer_NeedleCap")>=0)&&h.gauge.trigger("animationComplete",h.gauge.isBlazor?{}:{axis:o,pointer:r})}})},t.prototype.performRangeBarAnimation=function(t,i,n,o,r,a,s){var l,h,d,g=this,u="ClockWise"===o.direction,m=c(i,o.visibleRange.max,o.visibleRange.min,o.startAngle,o.endAngle,u),y=c(o.visibleRange.min,o.visibleRange.max,o.visibleRange.min,o.startAngle,o.endAngle,u),v=c(n,o.visibleRange.max,o.visibleRange.min,o.startAngle,o.endAngle,u),f=r.roundedCornerRadius,x=.25*a;f&&(y=(r.currentRadius*(y*Math.PI/180)+f)/r.currentRadius*180/Math.PI,v=(r.currentRadius*(v*Math.PI/180)-f)/r.currentRadius*180/Math.PI,d=((r.currentRadius-r.pointerWidth/2)*(m*Math.PI/180)-a/x)/(r.currentRadius-r.pointerWidth/2)*180/Math.PI),h=m>v?v+360:v,new e.Animation({}).animate(t,{duration:r.animation.duration,progress:function(e){t.style.animation="None",l=i<n||Math.round(m)===Math.round(h)?u?h-m:h-m-360:u?h-m-360:h-m,u?f?t.setAttribute("d",w(g.gauge.midPoint,Math.floor(y),p(e.timeStamp,Math.floor(y),l,e.duration)+1e-4,d,p(e.timeStamp,Math.floor(y+f/2),l,e.duration)+1e-4,a,r.pointerWidth,r.pointerWidth)):t.setAttribute("d",S(g.gauge.midPoint,y,p(e.timeStamp,m,l,e.duration)+1e-4,a,s)):f?(l+=f,t.setAttribute("d",w(g.gauge.midPoint,p(e.timeStamp,Math.floor(d),l,e.duration),Math.floor(d)+1e-4,p(e.timeStamp,Math.floor(y-f-f/2),l,e.duration),Math.floor(d+f/2)+1e-4,a,r.pointerWidth,r.pointerWidth))):t.setAttribute("d",S(g.gauge.midPoint,p(e.timeStamp,m,l,e.duration),y+1e-4,a,s))},end:function(t){g.setPointerValue(o,r,n),g.gauge.trigger("animationComplete",g.gauge.isBlazor?{}:{axis:o,pointer:r})}})},t}(),bt=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&(i[n[o]]=t[n[o]]);return i},Pt=function(){function t(t){this.gauge=t,this.axisRenderer=new ft(t),this.pointerRenderer=new xt(t)}return t.prototype.measureAxis=function(t){this.measureAxisSize(this.gauge,t),this.calculateAxesRadius()},t.prototype.calculateAxesRadius=function(){for(var t,i,n=this,o=0,r=this.gauge.margin.left+this.gauge.margin.right,a=this.gauge.margin.top+this.gauge.margin.bottom,s=this,l=0,d=this.gauge.axes;l<d.length;l++)!function(l){if(t=Math.min(l.rect.width,l.rect.height)/2,i=null!=l.radius?h(l.radius,t):t,o=Math.max.apply(Math,l.ranges.map(function(t){return t.radius?t.radius.indexOf("%")<0?100:parseInt(t.radius,10):0})),i=o>100&&null==l.radius?100*i/o:i,l.currentRadius=i-l.nearSize,s.gauge.moveToCenter&&1===s.gauge.axes.length&&e.isNullOrUndefined(s.gauge.centerX)&&e.isNullOrUndefined(s.gauge.centerY)){var d=void 0,g=void 0,u=x((d=v(d=l.startAngle,l.endAngle)?[0,g=360][0]:d)-90,i,s.gauge.midPoint);g=l.endAngle;var p=x((g-=v(d,g)?1e-4:0)-90,i,s.gauge.midPoint),c=void 0,m=void 0,y=void 0,f=void 0,b=void 0,P=void 0,w=void 0;d>g&&!(Math.abs(d-g)>90)||(d>=270&&d<=360&&(g>270&&g<=360||g>=0&&g<=180)?(y=Math.abs(s.gauge.gaugeRect.x-Math.abs(u.x-s.gauge.gaugeRect.x)),w=g<=360&&g>=270?s.gauge.midPoint:g<=90?p:x(0,i,s.gauge.midPoint),f=Math.abs(w.x-s.gauge.gaugeRect.width),u=g<=360&&g>=270?p:x(270,i,s.gauge.midPoint),b=Math.abs(u.y-s.gauge.gaugeRect.y),p=g<=360&&g>=270||g>=0&&g<90?s.gauge.midPoint:g>=90&&g<=180?p:x(90,i,s.gauge.midPoint),P=Math.abs(p.y-(s.gauge.gaugeRect.y+s.gauge.gaugeRect.height))):d>=0&&d<90&&g>=0&&g<=270?(b=Math.abs(u.y-s.gauge.gaugeRect.y),w=g>=180?x(90,i,s.gauge.midPoint):p,P=Math.abs(w.y-(s.gauge.gaugeRect.y+s.gauge.gaugeRect.height)),u=g>=180?p:s.gauge.midPoint,y=Math.abs(s.gauge.gaugeRect.x-Math.abs(u.x-s.gauge.gaugeRect.x)),p=g>=90?x(0,i,s.gauge.midPoint):p,f=Math.abs(p.x-s.gauge.gaugeRect.width)):d>=90&&d<180&&g>90&&g<=360?(w=g<=180?s.gauge.midPoint:g>=270?x(180,i,s.gauge.midPoint):p,y=Math.abs(w.x-s.gauge.gaugeRect.x),f=Math.abs(u.x-s.gauge.gaugeRect.width),u=g>270?x(g-90,i,s.gauge.midPoint):s.gauge.midPoint,b=Math.abs(s.gauge.gaugeRect.y-u.y),p=g>=180?x(90,i,s.gauge.midPoint):p,P=Math.abs(p.y-(s.gauge.gaugeRect.y+s.gauge.gaugeRect.height))):d>=180&&d<=270&&(g<=360&&g>=270||g<=180&&g>=0)&&(w=g>180&&g<270?p:x(180,i,s.gauge.midPoint),y=Math.abs(s.gauge.gaugeRect.x-Math.abs(w.x-s.gauge.gaugeRect.x)),w=g>=180&&g<=360?s.gauge.midPoint:p,f=Math.abs(w.x-s.gauge.gaugeRect.width),w=g>180&&g<270?s.gauge.midPoint:g>=270&&g<=360?p:x(270,i,s.gauge.midPoint),b=Math.abs(w.y-s.gauge.gaugeRect.y),P=Math.abs(u.y-(s.gauge.gaugeRect.y+s.gauge.gaugeRect.height))),e.isNullOrUndefined(y)||e.isNullOrUndefined(f)||e.isNullOrUndefined(b)||e.isNullOrUndefined(P)||!(y>0||f>0)||!(b>0||P>0)||(c=Math.abs(y+f-r),m=Math.abs(b+P-a),s.gauge.midPoint.x=s.gauge.midPoint.x-y/2+f/2,s.gauge.midPoint.y=s.gauge.midPoint.y-b/2+P/2,t=Math.min(s.gauge.gaugeRect.width,s.gauge.gaugeRect.height)/2+Math.min(c,m)/2,l.currentRadius=(null!=l.radius?h(l.radius,t):t)-l.nearSize))}l.visibleRange.interval=s.calculateNumericInterval(l,l.rect);var C={cancel:!1,name:"radiusCalculate",currentRadius:l.currentRadius,gauge:s.gauge,midPoint:s.gauge.midPoint,axis:l};if(s.gauge.isBlazor){var S=C.cancel,R=C.name,A=C.currentRadius,_=C.midPoint;C={cancel:S,name:R,currentRadius:A,midPoint:_}}s.gauge.trigger("radiusCalculate",C,function(){l.currentRadius=C.currentRadius,n.gauge.midPoint=C.midPoint,n.gauge.isBlazor||n.calculateVisibleLabels(l)})}(d[l])},t.prototype.measureAxisSize=function(t,e){var i,n=this;this.computeSize(t.axes,e),t.axes.map(function(t,o){i=u(o,n.farSizes.length-1,n.farSizes),t.rect=new X(e.x+i,e.y+i,e.width-2*i,e.height-2*i)})},t.prototype.calculateAxisValues=function(t){for(var e=0,i=this.gauge.axes;e<i.length;e++){var n=i[e];this.calculateVisibleRange(n,t),this.calculateVisibleLabels(n)}},t.prototype.calculateVisibleRange=function(t,e){var i=t.majorTicks.interval,n=Math.min(null===t.minimum?0:t.minimum,t.maximum),o=Math.max(t.minimum,null===t.maximum?100:t.maximum);t.pointers.map(function(e){e.currentValue=null!==e.value?e.value<n?n:e.value>o?o:e.value:n,n=null===t.minimum?Math.min(e.currentValue,n):n,o=null===t.maximum?Math.max(e.currentValue,o):o}),n=n===o?null!==i?n-i:n-1:n,t.visibleRange={min:n,max:o,interval:i},t.visibleRange.interval=this.calculateNumericInterval(t,e)},t.prototype.calculateNumericInterval=function(t,e){if(null!==t.majorTicks.interval)return t.majorTicks.interval;var i=t.endAngle-t.startAngle;return i=i<=0?i+360:i,this.calculateNiceInterval(t.visibleRange.max,t.visibleRange.min,t.currentRadius?t.currentRadius:e.width/2,i)},t.prototype.calculateNiceInterval=function(t,e,i,n){for(var o=t-e,r=2*Math.PI*i*(n/360),a=Math.max(.01599*r,1),s=o/a,l=Math.pow(10,Math.floor(Math.log(s)/Math.log(10))),h=0,d=[10,5,2,1];h<d.length;h++){var g=l*d[h];if(a<o/g)break;s=g}return s},t.prototype.calculateVisibleLabels=function(t){var e,i=this,n=t.labelStyle,o=n.format&&null!==n.format.match("{value}"),r=this.gauge.intl.getNumberFormat({format:O(n.format),useGrouping:this.gauge.useGroupingSeparator});t.visibleLabels=[];for(var a,s=t.visibleRange.interval,l=t.visibleRange.max,h=this,d=t.visibleRange.min;d<=l&&s;d+=s)!function(s){if(a=t.roundingPlaces?parseFloat(s.toFixed(t.roundingPlaces)):s,e={cancel:!1,name:"axisLabelRender",axis:t,text:o?n.format.replace(new RegExp("{value}","g"),r(a)):r(a),value:a},h.gauge.isBlazor){e.axis;var d=bt(e,["axis"]);e=d}var g=function(e){e.cancel||(t.visibleLabels.push(new Z(e.text,s)),s===l&&i.gauge.isBlazor&&document.getElementById(i.gauge.element.id+"_AxesCollection")&&(i.getMaxLabelWidth(i.gauge,t),i.axisRenderer.drawAxisLabels(t,i.gauge.axes.length-1,document.getElementById(i.gauge.element.id+"_Axis_Group_"+(i.gauge.axes.length-1)),i.gauge)))};g.bind(h),h.gauge.trigger("axisLabelRender",e,g)}(d);var g=t.visibleLabels.length?t.visibleLabels[t.visibleLabels.length-1].value:null,u=t.visibleRange.max;if(g!==u&&!0===t.showLastLabel){if(e={cancel:!1,name:"axisLabelRender",axis:t,text:o?n.format.replace(new RegExp("{value}","g"),r(u)):r(u),value:u},this.gauge.isBlazor){e.axis;var p=bt(e,["axis"]);e=p}var c=function(e){e.cancel||t.visibleLabels.push(new Z(e.text,u))};c.bind(this),this.gauge.trigger("axisLabelRender",e,c)}this.getMaxLabelWidth(this.gauge,t)},t.prototype.computeSize=function(t,e){var i,n,o,r,a,s=5,l=0,h=0,d=0;this.farSizes=[],this.calculateAxisValues(e);for(var g=0,u=t;g<u.length;g++){var p=u[g];i=p.lineStyle.width/2,n=0,o=0,a="Cross"===p.majorTicks.position?p.majorTicks.height/2:a,a="Cross"===p.minorTicks.position&&a<p.minorTicks.height/2?p.minorTicks.height/2:a,i=i<(a="Cross"===p.labelStyle.position&&a<p.maxLabelSize.height/2?p.maxLabelSize.height/2:a)?a:i,r=p.lineStyle.width/2,s=p.lineStyle.width/4,l=p.majorTicks.offset,h=p.minorTicks.offset,d=p.labelStyle.offset,n+="Outside"!==p.majorTicks.position||"Outside"!==p.minorTicks.position||"Outside"!==p.labelStyle.position?s:0,n+=("Outside"===p.majorTicks.position?p.majorTicks.height+i:0)+("Outside"===p.labelStyle.position?p.maxLabelSize.height+r+d:0)+("Outside"===p.minorTicks.position&&"Outside"!==p.majorTicks.position?p.minorTicks.height+i:0)+i,n+="Outside"===p.majorTicks.position&&"Outside"===p.minorTicks.position?Math.max(l,h):"Outside"===p.majorTicks.position?l:"Outside"===p.minorTicks.position?h:0,o+=("Inside"===p.majorTicks.position?p.majorTicks.height+i:0)+("Inside"===p.labelStyle.position?p.maxLabelSize.height+r+d:0)+("Inside"===p.minorTicks.position&&"Outside"===p.majorTicks.position?p.minorTicks.height+i:0)+i,o+="Inside"===p.majorTicks.position&&"Inside"===p.minorTicks.position?Math.max(l,h):"Inside"===p.majorTicks.position?l:"Inside"===p.minorTicks.position?h:0,this.farSizes[this.farSizes.length-1]&&(this.farSizes[this.farSizes.length-1]+=o+n),p.nearSize=n-s,p.farSize=o,n=this.gauge.axes.length===this.farSizes.length+1?0:n,this.farSizes.push(n)}},t.prototype.renderAxes=function(t){var i=this;void 0===t&&(t=!0);var n,o=this.gauge,r=this.axisRenderer,a=o.renderer.createGroup({id:o.element.id+"_AxesCollection","clip-path":"url(#"+o.element.id+"_GaugeAreaClipRect_)"});o.element.appendChild(e.createElement("div",{id:o.element.id+"_Secondary_Element",styles:"position: relative"})),o.axes.map(function(e,s){n=o.renderer.createGroup({id:o.element.id+"_Axis_Group_"+s}),r.drawAxisOuterLine(e,s,n,o),r.drawAxisLine(e,s,n,o),r.drawAxisRange(e,s,n,o),r.drawMajorTickLines(e,s,n,o),r.drawMinorTickLines(e,s,n,o),r.drawAxisLabels(e,s,n,o),i.pointerRenderer.drawPointers(e,s,n,o,t),o.annotationsModule&&o.annotationsModule.renderAnnotation(e,s),a.appendChild(n)}),o.svgObject.appendChild(o.renderer.drawClipPath({id:o.element.id+"_GaugeAreaClipRect_",x:0,y:0,width:o.availableSize.width,height:o.availableSize.height,fill:"transparent",stroke:"transparent"})),o.svgObject.appendChild(a)},t.prototype.getMaxLabelWidth=function(t,e){e.maxLabelSize=new G(0,0);for(var i=0,n=e.visibleLabels;i<n.length;i++){var r=n[i];r.size=o(r.text,e.labelStyle.font),e.maxLabelSize.width=r.size.width>e.maxLabelSize.width?r.size.width:e.maxLabelSize.width,e.maxLabelSize.height=r.size.height>e.maxLabelSize.height?r.size.height:e.maxLabelSize.height}},t}(),wt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ct=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},St=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return wt(i,t),Ct([e.Property(0)],i.prototype,"x",void 0),Ct([e.Property(0)],i.prototype,"y",void 0),i}(e.ChildProperty),Rt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return wt(i,t),Ct([e.Property(!1)],i.prototype,"visible",void 0),Ct([e.Property(!0)],i.prototype,"toggleVisibility",void 0),Ct([e.Property("Center")],i.prototype,"alignment",void 0),Ct([e.Complex({},$)],i.prototype,"border",void 0),Ct([e.Complex({},$)],i.prototype,"shapeBorder",void 0),Ct([e.Property(8)],i.prototype,"padding",void 0),Ct([e.Property(1)],i.prototype,"opacity",void 0),Ct([e.Property("Auto")],i.prototype,"position",void 0),Ct([e.Property("Circle")],i.prototype,"shape",void 0),Ct([e.Property(null)],i.prototype,"height",void 0),Ct([e.Property(null)],i.prototype,"width",void 0),Ct([e.Complex(W.legendLabelFont,K)],i.prototype,"textStyle",void 0),Ct([e.Property(10)],i.prototype,"shapeHeight",void 0),Ct([e.Property(10)],i.prototype,"shapeWidth",void 0),Ct([e.Property(5)],i.prototype,"shapePadding",void 0),Ct([e.Complex({x:0,y:0},St)],i.prototype,"location",void 0),Ct([e.Property("transparent")],i.prototype,"background",void 0),Ct([e.Complex({left:0,right:0,top:0,bottom:0},et)],i.prototype,"margin",void 0),i}(e.ChildProperty),At=function(){function t(t){this.legendRegions=[],this.rowCount=0,this.pageButtonSize=8,this.pageXCollections=[],this.maxColumns=0,this.maxWidth=0,this.currentPage=1,this.pagingRegions=[],this.position="Auto",this.gauge=t,this.toggledIndexes=[],this.legend=this.gauge.legendSettings,this.legendID=this.gauge.element.id+"_gauge_legend",this.addEventListener()}return t.prototype.addEventListener=function(){this.gauge.isDestroyed||this.gauge.on("click",this.click,this)},t.prototype.removeEventListener=function(){this.gauge.isDestroyed||this.gauge.off("click",this.click)},t.prototype.getLegendOptions=function(t){this.legendCollection=[];for(var i,n="",o=0;o<t.length;o++)for(var r=0;r<t[o].ranges.length;r++)i=t[o].ranges[r],e.isNullOrUndefined(i.start)||e.isNullOrUndefined(i.end)||i.start===i.end||(n=i.legendText?i.legendText:i.start+" - "+i.end,this.legendCollection.push(new Mt(n,n,i.color,this.legend.shape,this.legend.visible,this.legend.border,this.legend.shapeBorder,this.legend.shapeWidth,this.legend.shapeHeight,r,o)))},t.prototype.calculateLegendBounds=function(t,e){var i=this.legend;this.position="Auto"!==i.position?i.position:e.width>e.height?"Right":"Bottom",this.legendBounds=new X(t.x,t.y,0,0),this.isVertical="Left"===this.position||"Right"===this.position,this.isVertical?(this.legendBounds.height=h(i.height,e.height-(t.y-this.gauge.margin.top))||t.height,this.legendBounds.width=h(i.width||"20%",e.width)):(this.legendBounds.width=h(i.width,e.width)||t.width,this.legendBounds.height=h(i.height||"20%",e.height)),this.getLegendBounds(e,this.legendBounds,i),this.getLocation(this.position,i.alignment,this.legendBounds,t,e)},t.prototype.alignLegend=function(t,e,i,n){switch(n){case"Far":t=e-i-t;break;case"Center":t=(e-i)/2}return t},t.prototype.getLocation=function(t,e,i,n,o){var r=this.legend.border.width,a=i.height+r+this.legend.margin.top+this.legend.margin.bottom,s=i.width+r+this.legend.margin.left+this.legend.margin.right,l=this.gauge.margin.bottom;"Bottom"===t?(i.x=this.alignLegend(i.x,o.width,i.width,e),i.y=n.y+(n.height-a)+r+this.legend.margin.top,this.subtractThickness(n,0,0,0,a)):"Top"===t?(i.x=this.alignLegend(i.x,o.width,i.width,e),i.y=n.y+r+this.legend.margin.top,this.subtractThickness(n,0,0,a,0)):"Right"===t?(i.x=n.x+(n.width-i.width)+this.legend.margin.right,i.y=n.y+this.alignLegend(0,o.height-(n.y+l),i.height,e),this.subtractThickness(n,0,s,0,0)):(i.x=i.x+this.legend.margin.left,i.y=n.y+this.alignLegend(0,o.height-(n.y+l),i.height,e),this.subtractThickness(n,s,0,0,0))},t.prototype.renderLegend=function(t,e,i){var n=this.findFirstLegendPosition(this.legendCollection),o=t.padding;this.legendRegions=[],this.maxItemHeight=Math.max(this.legendCollection[0].textSize.height,t.shapeHeight);var r=this.gauge.renderer.createGroup({id:this.legendID+"_g"}),a=this.createLegendElements(e,r,t,this.legendID,i);if(n!==this.legendCollection.length){this.totalPages=0;var s=void 0,l=void 0;l=new U(e.x+o+t.shapeWidth/2,e.y+o+this.maxItemHeight/2);var h=new Y("",l.x,l.y,"start"),d=2*t.shapePadding+2*o+t.shapeWidth,g=0;this.pageXCollections=[],this.legendCollection[n].location=l;for(var u=this.legendCollection[n],p=0,c=this.legendCollection;p<c.length;p++){var m=c[p];m.render&&""!==m.text&&(s=this.gauge.renderer.createGroup({id:this.legendID+"_g_"+g}),this.getRenderPoint(m,l,d,u,e,g,n),this.renderSymbol(m,s,m.axisIndex,m.rangeIndex),this.renderText(m,s,h,m.axisIndex,m.rangeIndex),s&&s.setAttribute("style","cursor: "+(t.toggleVisibility?"pointer":"auto")),a&&a.appendChild(s),u=m),g++}this.isPaging?this.renderPagingElements(e,h,r):this.totalPages=1}this.appendChildElement(this.gauge.svgObject,r,i),this.setStyles(this.toggledIndexes)},t.prototype.renderPagingElements=function(t,e,i){var n=this.gauge.renderer.createGroup({id:this.legendID+"_navigation"});this.pagingRegions=[],i.appendChild(n);var r=this.gauge.legendSettings;this.isVertical?this.totalPages=Math.ceil(this.totalPages/this.maxColumns):this.totalPages=Math.ceil(this.totalPages/Math.max(1,this.rowCount-1));var a=new V(this.legendID+"_pageup","transparent",5,"#545454",1,"",""),s=this.pageButtonSize;n&&n.setAttribute("style","cursor: pointer"),this.clipPathHeight=(this.rowCount-1)*(this.maxItemHeight+r.padding),this.clipRect.setAttribute("height",this.clipPathHeight.toString());var l=t.x+s/2,h=t.y+this.clipPathHeight+(t.height-this.clipPathHeight)/2,u=o(this.totalPages+"/"+this.totalPages,r.textStyle);g(k({x:l,y:h},"LeftArrow",new G(s,s),"",a),n,this.gauge,"Path"),this.pagingRegions.push(new X(l+t.width-(2*(s+8)+8+u.width)-.5*s,h-.5*s,s,s)),e.x=l+s/2+8,e.y=h+u.height/4,e.id=this.legendID+"_pagenumber",e.text="1/"+this.totalPages;var p=d(e,r.textStyle,r.textStyle.color||this.gauge.themeStyle.labelColor,n);l=e.x+8+s/2+u.width,a.id=this.legendID+"_pagedown",g(k({x:l,y:h},"RightArrow",new G(s,s),"",a),n,this.gauge,"Path"),this.pagingRegions.push(new X(l+(t.width-(2*(s+8)+8+u.width)-.5*s),h-.5*s,s,s)),n.setAttribute("transform","translate("+(t.width-(2*(s+8)+8+u.width))+", 0)"),this.translatePage(p,this.currentPage-1,this.currentPage)},t.prototype.translatePage=function(t,e,i){var n=this.clipPathHeight*e,o="translate(0,-"+n+")";if(this.isVertical){this.maxColumns;o="translate(-"+(n=(n=this.pageXCollections[e*this.maxColumns]-this.legendBounds.x)<0?0:n)+",0)"}return this.legendTranslateGroup.setAttribute("transform",o),t.textContent=i+"/"+this.totalPages,this.currentPage=i,n},t.prototype.renderText=function(t,e,i,n,o){var r=this.gauge.legendSettings;i.id=this.legendID+"_Axis_"+n+"_text_"+o;var a=t.visible?r.textStyle.color||this.gauge.themeStyle.labelColor:"#D3D3D3";i.text=t.text,i.x=t.location.x+r.shapeWidth/2+r.shapePadding,i.y=t.location.y+this.maxItemHeight/4;d(i,r.textStyle,a,e,"")},t.prototype.renderSymbol=function(t,e,i,n){t.fill=t.fill?t.fill:this.gauge.axes[i].ranges[n].rangeColor,g(k(t.location,t.shape,new G(t.shapeWidth,t.shapeHeight),"",new V(this.legendID+"_Axis_"+i+"_Shape_"+n,t.fill,t.shapeBorder.width,t.shapeBorder.color,null,"0","","")),e,this.gauge,"Circle"===t.shape?"Ellipse":"Path")},t.prototype.getRenderPoint=function(t,e,i,n,o,r,a){var s=this.legend.padding;if(this.isVertical)r===a||n.location.y+1.5*this.maxItemHeight+2*s>o.y+o.height?(t.location.x=n.location.x+(r===a?0:this.maxColumnWidth),t.location.y=e.y,this.pageXCollections.push(t.location.x-this.legend.shapeWidth/2-s),this.totalPages++):(t.location.x=n.location.x,t.location.y=n.location.y+this.maxItemHeight+s);else{var l=n.location.x+i+n.textSize.width;l+(t.textSize.width+i)>o.x+o.width+this.legend.shapeWidth/2?(t.location.y=r===a?n.location.y:n.location.y+this.maxItemHeight+s,t.location.x=e.x):(t.location.y=n.location.y,t.location.x=r===a?n.location.x:l),this.totalPages=this.totalRowCount}var h=this.getAvailWidth(t.location.x,this.legendBounds.width,this.legendBounds.x);t.text=z(+h.toFixed(4),t.text,this.legend.textStyle)},t.prototype.click=function(t){var e,i=t.target.id,n=["_text_","_Shape_"],o=-1;if(i.indexOf(this.legendID)>-1)for(var r=0,a=n;r<a.length;r++){var s=a[r];if(i.indexOf(s)>-1){var l=parseInt(i.split(this.legendID+"_Axis_")[1].split(s)[0],10),h=parseInt(i.split(this.legendID+"_Axis_")[1].split(s)[1],10);if(this.gauge.legendSettings.toggleVisibility&&!isNaN(h)){var d=this.legendByIndex(l,h,this.legendCollection);if(e=new _t(l,h,!d.render),0===this.toggledIndexes.length)this.toggledIndexes.push(e);else{for(var g=0;g<this.toggledIndexes.length;g++){if(this.toggledIndexes[g].axisIndex===e.axisIndex&&this.toggledIndexes[g].rangeIndex===e.rangeIndex){o=g;break}o=-1}-1===o?this.toggledIndexes.push(e):this.toggledIndexes[o].isToggled=!this.toggledIndexes[o].isToggled}this.setStyles(this.toggledIndexes)}}}i.indexOf(this.legendID+"_pageup")>-1?this.changePage(t,!0):i.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(t,!1)},t.prototype.setStyles=function(t){for(var e=0;e<t.length;e++){var i=this.gauge.element.id+"_Axis_"+t[e].axisIndex+"_Range_"+t[e].rangeIndex,n=this.legendID+"_Axis_"+t[e].axisIndex+"_Shape_"+t[e].rangeIndex,o=this.legendID+"_Axis_"+t[e].axisIndex+"_text_"+t[e].rangeIndex,r=this.gauge.svgObject.querySelector("#"+i),a=this.gauge.svgObject.querySelector("#"+n),s=this.gauge.svgObject.querySelector("#"+o);if(t[e].isToggled)r.style.visibility="visible",a.setAttribute("fill",this.legendCollection[t[e].rangeIndex].fill),s.setAttribute("fill",this.legend.textStyle.color||this.gauge.themeStyle.labelColor);else{r.style.visibility="hidden",a.setAttribute("fill","#D3D3D3"),s.setAttribute("fill","#D3D3D3")}}},t.prototype.legendByIndex=function(t,e,i){for(var n=0,o=i;n<o.length;n++){var r=o[n];if(r.axisIndex===t&&r.rangeIndex===e)return r}return null},t.prototype.changePage=function(t,e){var i=document.getElementById(this.legendID+"_pagenumber"),n=parseInt(i.textContent.split("/")[0],10);e&&n>1?this.translatePage(i,n-2,n-1):!e&&n<this.totalPages&&this.translatePage(i,n,n+1)},t.prototype.getAvailWidth=function(t,e,i){return this.isVertical&&(e=this.maxWidth),e-(2*this.legend.padding+this.legend.shapeWidth+this.legend.shapePadding)},t.prototype.createLegendElements=function(t,e,i,n,o){var r=i.padding,a=new H(n+"_element",i.background,i.border,i.opacity,t);a.width=this.isVertical?this.maxWidth:t.width,e?e.appendChild(this.gauge.renderer.drawRectangle(a)):this.gauge.renderer.drawRectangle(a);var s=this.gauge.renderer.createGroup({id:n+"_collections"});e.appendChild(s),this.legendTranslateGroup=this.gauge.renderer.createGroup({id:n+"_translate_g"}),s.appendChild(this.legendTranslateGroup);var l=this.gauge.renderer.createClipPath({id:n+"_clipPath"});return a.id+="_clipPath_rect",a.width=this.isVertical?a.width-r:a.width,this.clipRect=this.gauge.renderer.drawRectangle(a),l.appendChild(this.clipRect),this.appendChildElement(this.gauge.svgObject,l,o),s.setAttribute("style","clip-path:url(#"+l.id+")"),this.legendTranslateGroup},t.prototype.appendChildElement=function(t,e,i,n,o,r,a,s,l,h,d,g){void 0===n&&(n=!1),void 0===o&&(o="x"),void 0===r&&(r="y"),void 0===l&&(l=!1),void 0===h&&(h=!1),void 0===d&&(d=null);var u=t.querySelector("#"+e.id),p=u||_(e.id),c=e;u?t.replaceChild(c,p):t.appendChild(c)},t.prototype.findFirstLegendPosition=function(t){for(var e=0,i=0,n=t;i<n.length;i++){var o=n[i];if(o.render&&""!==o.text)break;e++}return e},t.prototype.getLegendBounds=function(t,e,i){var n=0,r=0,a=i.padding;this.isVertical?n=i.width?0:t.width/100*5:r=i.height?0:t.height/100*5,e.width+=n,e.height+=r;var s=0,l=0,h=0,d=[],g=0,u=0;this.maxItemHeight=Math.max(o("MeasureText",i.textStyle).height,i.shapeHeight);for(var p,c=!1,m=0,y=this.legendCollection;m<y.length;m++){var v=y[m];p={fill:v.fill,text:v.text,shape:v.shape,name:"legendRender",cancel:!1},this.gauge.trigger("legendRender",p),v.render=!p.cancel,v.text=p.text,v.fill=p.fill,v.shape=p.shape,v.textSize=o(v.text,i.textStyle),v.render&&""!==v.text&&(c=!0,u=i.shapeWidth+2*i.shapePadding+v.textSize.width+2*a,this.isVertical?(g=++h*(this.maxItemHeight+a)+a,h*(this.maxItemHeight+a)+a>e.height&&(g=Math.max(g,h*(this.maxItemHeight+a)+a),l+=s,d.push(s),this.totalPages=Math.max(h,this.totalPages||1),s=0,h=1),s=Math.max(u,s)):(l+=u,e.width<a+l&&(s=Math.max(s,l+a-u),0===h&&u!==l&&(h=1),l=u,g=++h*(this.maxItemHeight+a)+a)))}this.isVertical?(l+=s,this.isPaging=e.width<l+a,g=Math.max(g,(this.totalPages||1)*(this.maxItemHeight+a)+a),this.isPaging=this.isPaging&&this.totalPages>1,d[d.length-1]!==s&&d.push(s)):(this.isPaging=e.height<g,this.totalPages=this.totalRowCount=h,g=Math.max(g,this.maxItemHeight+a+a)),this.maxColumns=0;var f=this.isVertical?this.getMaxColumn(d,e.width,a,l+a):Math.max(l+a,s);c?this.setBounds(f,g,i,e):this.setBounds(0,0,i,e)},t.prototype.subtractThickness=function(t,e,i,n,o){return t.x+=e,t.y+=n,t.width-=e+i,t.height-=n+o,t},t.prototype.setBounds=function(t,e,i,n){t=t<n.width?t:n.width,e=e<n.height?e:n.height,n.width=i.width?n.width:t,n.height=i.height?n.height:e,this.rowCount=Math.max(1,Math.ceil((n.height-i.padding)/(this.maxItemHeight+i.padding)))},t.prototype.getMaxColumn=function(t,e,i,n){var o=i;this.maxColumnWidth=Math.max.apply(null,t);for(var r=0,a=t;r<a.length;r++){a[r];if(o+=this.maxColumnWidth,this.maxColumns++,o+i>e){o-=this.maxColumnWidth,this.maxColumns--;break}}return this.isPaging=o<n&&this.totalPages>1,o===i&&(o=e),this.maxColumns=Math.max(1,this.maxColumns),this.maxWidth=o,o},t.prototype.move=function(t){var e=this.gauge.mouseX,i=this.gauge.mouseY,n=t.target.id;if(t.target.textContent.indexOf("...")>-1&&n.indexOf("_gauge_legend_")>-1){for(var o=parseInt(n.split(this.gauge.element.id+"_gauge_legend_Axis_")[1].split("_text_")[0],10),r=parseInt(n.split(this.gauge.element.id+"_gauge_legend_Axis_")[1].split("_text_")[1],10),a="",s=0,l=this.legendCollection;s<l.length;s++){var h=l[s];h.rangeIndex===r&&h.axisIndex===o&&(a=h.originalText)}B(a,e,i,this.gauge.element.offsetWidth,this.gauge.element.id+"_EJ2_Legend_Tooltip",_(this.gauge.element.id+"_Secondary_Element"))}else T(this.gauge.element.id+"_EJ2_Legend_Tooltip")},t.prototype.getModuleName=function(){return"Legend"},t.prototype.destroy=function(t){this.removeEventListener()},t}(),_t=function(){function t(t,e,i){this.axisIndex=t,this.rangeIndex=e,this.isToggled=i}return t}(),Mt=function(){function t(t,e,i,n,o,r,a,s,l,h,d){this.location={x:0,y:0},this.text=t,this.originalText=e,this.fill=i,this.shape=n,this.visible=o,this.border=r,this.shapeBorder=a,this.shapeWidth=s,this.shapeHeight=l,this.rangeIndex=h,this.axisIndex=d}return t}(),Tt=function(){function t(t){this.control=t}return t.prototype.print=function(t){var i=this;this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);var n={cancel:!1,htmlContent:this.getHTMLContent(t),name:"beforePrint"};this.control.trigger("beforePrint",n,function(t){n.cancel||e.print(n.htmlContent,i.printWindow)})},t.prototype.getHTMLContent=function(t){var i=e.createElement("div");return t?t instanceof Array?t.forEach(function(t){i.appendChild(_(t).cloneNode(!0))}):t instanceof Element?i.appendChild(t.cloneNode(!0)):i.appendChild(_(t).cloneNode(!0)):i.appendChild(this.control.element.cloneNode(!0)),i},t.prototype.export=function(t,i,o){var r=this,a=e.createElement("canvas",{id:"ej2-canvas",attrs:{width:this.control.availableSize.width.toString(),height:this.control.availableSize.height.toString()}}),s=!(e.Browser.userAgent.toString().indexOf("HeadlessChrome")>-1);o=e.isNullOrUndefined(o)?n.PdfPageOrientation.Landscape:o;var l='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+this.control.svgObject.outerHTML+"</svg>",h=window.URL.createObjectURL(new Blob("SVG"===t?[l]:[(new XMLSerializer).serializeToString(this.control.svgObject)],{type:"image/svg+xml"}));if("SVG"===t)this.triggerDownload(i,t,h,s);else{var d=new Image,g=a.getContext("2d");d.onload=function(){if(g.drawImage(d,0,0),window.URL.revokeObjectURL(h),"PDF"===t){var e=new n.PdfDocument,l=a.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");e.pageSettings.orientation=o,l=l.slice(l.indexOf(",")+1),e.pages.add().graphics.drawImage(new n.PdfBitmap(l),0,0,r.control.availableSize.width-60,r.control.availableSize.height),s&&(e.save(i+".pdf"),e.destroy())}else r.triggerDownload(i,t,a.toDataURL("image/png").replace("image/png","image/octet-stream"),s)},d.src=h}},t.prototype.triggerDownload=function(t,i,n,o){e.createElement("a",{attrs:{download:t+"."+i.toLocaleLowerCase(),href:n}}).dispatchEvent(new MouseEvent(o?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},t}(),It=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Lt=function(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a},Et=function(t){function n(e,i){var n=t.call(this,e,i)||this;return n.isDrag=!1,n}return It(n,t),n.prototype.preRender=function(){this.isBlazor=e.isBlazor(),this.unWireEvents(),this.trigger("load",this.isBlazor?null:{gauge:this}),this.initPrivateVariable(),this.setCulture(),this.createSvg(),this.wireEvents()},n.prototype.render=function(){this.setTheme(),this.calculateBounds(),this.renderElements(),this.renderComplete()},n.prototype.setTheme=function(){this.themeStyle=j(this.theme)},n.prototype.unWireEvents=function(){e.EventHandler.remove(this.element,e.Browser.touchStartEvent,this.gaugeOnMouseDown),e.EventHandler.remove(this.element,e.Browser.touchMoveEvent,this.mouseMove),e.EventHandler.remove(this.element,e.Browser.touchEndEvent,this.mouseEnd),e.EventHandler.remove(this.element,"click",this.gaugeOnMouseClick),e.EventHandler.remove(this.element,"contextmenu",this.gaugeRightClick),e.EventHandler.remove(this.element,e.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeave),window.removeEventListener(e.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.gaugeResize)},n.prototype.wireEvents=function(){e.EventHandler.add(this.element,e.Browser.touchStartEvent,this.gaugeOnMouseDown,this),e.EventHandler.add(this.element,e.Browser.touchMoveEvent,this.mouseMove,this),e.EventHandler.add(this.element,e.Browser.touchEndEvent,this.mouseEnd,this),e.EventHandler.add(this.element,"click",this.gaugeOnMouseClick,this),e.EventHandler.add(this.element,"contextmenu",this.gaugeRightClick,this),e.EventHandler.add(this.element,e.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeave,this),window.addEventListener(e.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.gaugeResize.bind(this)),this.setGaugeStyle(this.element)},n.prototype.gaugeOnMouseClick=function(t){return this.setMouseXY(t),this.legendModule&&this.legendSettings.visible&&this.legendModule.click(t),!1},n.prototype.mouseMove=function(t){var i=this;this.setMouseXY(t);var n=this.getMouseArgs(t,"touchmove","gaugeMouseMove");return this.trigger("gaugeMouseMove",n,function(t){var e,o;i.tooltipModule;if(!n.cancel&&i.enablePointerDrag&&i.activePointer){i.isDrag=!0;var r=parseInt(i.activePointer.pathElement[0].id.slice(-1),10),a=parseInt(i.activePointer.pathElement[0].id.match(/\d/g)[0],10);e={axis:i.activeAxis,pointer:i.activePointer,previousValue:i.activePointer.currentValue,name:"dragMove",currentValue:null,axisIndex:a,pointerIndex:r},o={previousValue:i.activePointer.currentValue,name:"dragMove",currentValue:null,pointerIndex:r,axisIndex:a},i.pointerDrag(new U(n.x,n.y)),e.currentValue=o.currentValue=i.activePointer.currentValue,i.trigger("dragMove",i.isBlazor?o:e)}}),this.isTouch||this.legendModule&&this.legendSettings.visible&&this.legendModule.move(t),this.notify(e.Browser.touchMoveEvent,t),!1},n.prototype.mouseLeave=function(t){this.setMouseXY(t),this.activeAxis=null,this.activePointer=null,this.svgObject.setAttribute("cursor","auto");var e=this.getMouseArgs(t,"touchmove","gaugeMouseLeave");return this.trigger("gaugeMouseLeave",e),!1},n.prototype.gaugeRightClick=function(t){return 2!==t.buttons&&"touch"!==t.pointerType||(t.preventDefault(),t.stopPropagation(),!1)},n.prototype.pointerDrag=function(t){var e=this.activeAxis,i=e.visibleRange,n=y(f(this.midPoint,t),i.max,i.min,e.startAngle,e.endAngle,"ClockWise"===e.direction);n>=i.min&&n<=i.max&&(this.activePointer.currentValue=n,this.gaugeAxisLayoutPanel.pointerRenderer.setPointerValue(e,this.activePointer,n))},n.prototype.gaugeOnMouseDown=function(t){var i=this;this.setMouseXY(t);var n,o=this.getMouseArgs(t,"touchstart","gaugeMouseDown");return this.trigger("gaugeMouseDown",o,function(r){if(!o.cancel&&o.target.id.indexOf("_Pointer_")>=0&&o.target.id.indexOf(i.element.id+"_Axis_")>=0){n=I(o.target.id,i),i.activeAxis=i.axes[n.axisIndex],i.activePointer=i.activeAxis.pointers[n.pointerIndex],e.isNullOrUndefined(i.activePointer.pathElement)&&(i.activePointer.pathElement=[t.target]);var a=parseInt(i.activePointer.pathElement[0].id.slice(-1),10),s=parseInt(i.activePointer.pathElement[0].id.match(/\d/g)[0],10);i.trigger("dragStart",i.isBlazor?{name:"dragStart",currentValue:i.activePointer.currentValue,pointerIndex:a,axisIndex:s}:{axis:i.activeAxis,name:"dragStart",pointer:i.activePointer,currentValue:i.activePointer.currentValue,pointerIndex:a,axisIndex:s}),i.svgObject.setAttribute("cursor","pointer")}}),!1},n.prototype.mouseEnd=function(t){this.setMouseXY(t);var i=this.getMouseArgs(t,"touchend","gaugeMouseUp"),n={cancel:i.cancel,target:i.target,name:i.name,x:i.x,y:i.y};this.isTouch="touch"===t.pointerType||"2"===t.pointerType||"touchend"===t.type;this.tooltipModule;if(this.trigger("gaugeMouseUp",this.isBlazor?n:i),this.activeAxis&&this.activePointer){var o=parseInt(this.activePointer.pathElement[0].id.slice(-1),10),r=parseInt(this.activePointer.pathElement[0].id.match(/\d/g)[0],10);this.trigger("dragEnd",this.isBlazor?{name:"dragEnd",currentValue:this.activePointer.currentValue,pointerIndex:o,axisIndex:r}:{name:"dragEnd",axis:this.activeAxis,pointer:this.activePointer,currentValue:this.activePointer.currentValue,axisIndex:r,pointerIndex:o}),this.activeAxis=null,this.activePointer=null,this.isDrag=!1}return this.svgObject.setAttribute("cursor","auto"),this.notify(e.Browser.touchEndEvent,t),!1},n.prototype.getMouseArgs=function(t,e,i){var n=this.element.getBoundingClientRect(),o=new U(-n.left,-n.top),r=t.type===e;return o.x+=r?t.changedTouches[0].clientX:t.clientX,o.y+=r?t.changedTouches[0].clientY:t.clientY,{cancel:!1,name:i,x:o.x,y:o.y,target:t.target}},n.prototype.gaugeResize=function(t){var e=this,i={gauge:this.isBlazor?null:this,previousSize:new G(this.availableSize.width,this.availableSize.height),name:"resized",currentSize:new G(0,0)};return this.animatePointer=!1,this.resizeTo&&clearTimeout(this.resizeTo),this.element.classList.contains("e-circulargauge")&&(this.resizeTo=window.setTimeout(function(){if(e.createSvg(),e.calculateBounds(),e.renderElements(),i.currentSize=e.availableSize,e.isBlazor){var t=i.previousSize,n=i.name,o=i.currentSize;i={previousSize:t,name:n,currentSize:o}}e.trigger("resized",i)},500)),!1},n.prototype.setGaugeStyle=function(t){t.style.touchAction=this.enablePointerDrag?"none":"element",t.style.msTouchAction=this.enablePointerDrag?"none":"element",t.style.msContentZooming="none",t.style.msUserSelect="none",t.style.webkitUserSelect="none",t.style.position="relative"},n.prototype.setCulture=function(){this.intl=new e.Internationalization},n.prototype.createSvg=function(){this.removeSvg(),this.calculateSvgSize(),this.svgObject=this.renderer.createSvg({id:this.element.id+"_svg",width:this.availableSize.width,height:this.availableSize.height})},n.prototype.removeSvg=function(){for(var t=0;t<this.axes.length;t++)for(var i=0;i<this.axes[t].annotations.length;i++)e.resetBlazorTemplate(this.element.id+"_Axis"+t+"_ContentTemplate"+i,"_ContentTemplate");if(T(this.element.id+"_Secondary_Element"),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&e.remove(this.svgObject)}},n.prototype.initPrivateVariable=function(){if(""===this.element.id){var t=document.getElementsByClassName("e-circulargauge").length;this.element.id="circulargauge_control_"+t}this.renderer=new i.SvgRenderer(this.element.id),this.gaugeAxisLayoutPanel=new Pt(this),this.animatePointer=!0},n.prototype.calculateSvgSize=function(){var t=this.element.offsetWidth,e=this.element.offsetHeight,i=2*parseInt(this.element.style.borderWidth.split("px").join(""),10),n=h(this.width,t)||t||600,o=h(this.height,e)||e||450;n=isNaN(i)?n:n-i,o=isNaN(i)?o:o-i,this.availableSize=new G(n,o)},n.prototype.calculateBounds=function(){var t,i=this.margin,n=0;this.title&&(n=o(this.title,this.titleStyle).height+5);var r=i.top+n+this.border.width,a=i.left+this.border.width,s=this.availableSize.width-a-i.right-this.border.width,l=this.availableSize.height-r-this.border.width-i.bottom,d=Math.min(s,l)/2;t=this.moveToCenter&&1===this.axes.length&&e.isNullOrUndefined(this.centerX)&&e.isNullOrUndefined(this.centerY)?new X(a,r,s,l):new X(a+s/2-d,r+l/2-d,2*d,2*d),this.gaugeRect=t,this.legendModule&&this.legendSettings.visible&&(this.legendModule.getLegendOptions(this.axes),this.legendModule.calculateLegendBounds(this.gaugeRect,this.availableSize));var g=null!==this.centerX?h(this.centerX,this.availableSize.width):this.gaugeRect.x+this.gaugeRect.width/2,u=null!==this.centerY?h(this.centerY,this.availableSize.height):this.gaugeRect.y+this.gaugeRect.height/2;this.midPoint=new U(g,u),this.gaugeAxisLayoutPanel.measureAxis(this.gaugeRect)},n.prototype.renderElements=function(t){void 0===t&&(t=!0),this.renderBorder(),this.renderTitle(),this.gaugeAxisLayoutPanel.renderAxes(t),this.renderLegend(),this.element.appendChild(this.svgObject),this.trigger("loaded",this.isBlazor?{}:{gauge:this}),T("gauge-measuretext")},n.prototype.renderLegend=function(){if(!this.legendModule||!this.legendSettings.visible)return null;this.legendModule.legendCollection.length&&this.legendModule.renderLegend(this.legendSettings,this.legendModule.legendBounds,!0)},n.prototype.renderTitle=function(){if(this.title){this.titleStyle.fontFamily=this.themeStyle.fontFamily||this.titleStyle.fontFamily,this.titleStyle.size=this.themeStyle.fontSize||this.titleStyle.size;var t=o(this.title,this.titleStyle),e=d(new Y(this.element.id+"_CircularGaugeTitle",this.availableSize.width/2,this.margin.top+t.height/4*3,"middle",this.title),this.titleStyle,this.titleStyle.color||this.themeStyle.titleFontColor,this.svgObject,"");e.setAttribute("aria-label",this.description||this.title),e.setAttribute("tabindex",this.tabIndex.toString())}},n.prototype.renderBorder=function(){var t=this.border.width;(t>0||this.background||this.themeStyle.backgroundColor)&&this.svgObject.appendChild(this.renderer.drawRectangle(new H(this.element.id+"_CircularGaugeBorder",this.background||this.themeStyle.backgroundColor,this.border,null,new X(t/2,t/2,this.availableSize.width-t,this.availableSize.height-t))))},n.prototype.setPointerValue=function(t,e,i){var n=this,o=this.axes[t],r=o.pointers[e],a=r.currentRadius,l=r.animation.enable;i=i<o.visibleRange.min?o.visibleRange.min:i,i=i>o.visibleRange.max?o.visibleRange.max:i,r.pathElement.map(function(t){"RangeBar"===r.type?(s(t,r.color,r.border),l?n.gaugeAxisLayoutPanel.pointerRenderer.performRangeBarAnimation(t,r.currentValue,i,o,r,a,a-r.pointerWidth):n.gaugeAxisLayoutPanel.pointerRenderer.setPointerValue(o,r,i)):(t.id.indexOf("_Pointer_NeedleCap_")>=0?s(t,r.cap.color,r.cap.border):t.id.indexOf("_Pointer_NeedleTail_")>=0?s(t,r.needleTail.color,r.needleTail.border):t.id.indexOf("_Pointer_NeedleRect_")>=0?s(t,"transparent",{color:"transparent",width:0}):s(t,r.color,r.border),l?n.gaugeAxisLayoutPanel.pointerRenderer.performNeedleAnimation(t,r.currentValue,i,o,r,a,a-r.pointerWidth):n.gaugeAxisLayoutPanel.pointerRenderer.setPointerValue(o,r,i))}),this.isProtectedOnChange=!0,r.currentValue=i,r.value=i,this.isProtectedOnChange=!1},n.prototype.setAnnotationValue=function(t,i,n){var o=null!==_(this.element.id+"_Annotations_"+t),r=_(this.element.id+"_Annotations_"+t)||e.createElement("div",{id:this.element.id+"_Annotations_"+t}),a=this.axes[t].annotations[i];null!==n&&(T(this.element.id+"_Axis_"+t+"_Annotation_"+i),a.content=n,this.annotationsModule.createTemplate(r,i,t),o||_(this.element.id+"_Secondary_Element").appendChild(r))},n.prototype.print=function(t){new Tt(this).print(t)},n.prototype.export=function(t,e,i){new Tt(this).export(t,e,i)},n.prototype.setMouseXY=function(t){var e,i,n=_(this.element.id+"_svg").getBoundingClientRect(),o=this.element.getBoundingClientRect();if(t.type.indexOf("touch")>-1){this.isTouch=!0;var r=t;i=r.changedTouches[0].clientY,e=r.changedTouches[0].clientX}else this.isTouch="touch"===t.pointerType||"2"===t.pointerType,e=t.clientX,i=t.clientY;this.mouseY=i-o.top-Math.max(n.top-o.top,0),this.mouseX=e-o.left-Math.max(n.left-o.left,0)},n.prototype.setRangeValue=function(t,e,i,n){var o,a=_(this.element.id+"_Axis_"+t+"_Range_"+e),l=this.axes[t],h=l.ranges[e],d=l.visibleRange,g="ClockWise"===l.direction,u=Math.min(Math.max(i,d.min),n),p=Math.min(Math.max(i,n),d.max),m=c(u,d.max,d.min,l.startAngle,l.endAngle,g),y=c(p,d.max,d.min,l.startAngle,l.endAngle,g);o=h.startWidth.length>0?r(h.startWidth,h.currentRadius):h.startWidth;var v;v=h.endWidth.length>0?r(h.endWidth,h.currentRadius):h.endWidth,y=g?y:[m,m=y][0],v=g?v:[o,o=v][0],a.setAttribute("d",b(this.midPoint,Math.round(m),Math.round(y),h.currentRadius,o,v,h)),s(a,h.color?h.color:h.rangeColor,{color:h.color?h.color:h.rangeColor,width:0})},n.prototype.destroy=function(){this.unWireEvents(),this.removeSvg(),t.prototype.destroy.call(this)},n.prototype.requiredModules=function(){var t=[],e=!1;return this.axes.map(function(t){t.annotations.map(function(t){e=e||null!==t.content})}),e&&t.push({member:"Annotations",args:[this,mt]}),this.tooltip.enable&&t.push({member:"Tooltip",args:[this,vt]}),this.legendSettings.visible&&t.push({member:"Legend",args:[this,At]}),t},n.prototype.getPersistData=function(){return this.addOnPersist([])},n.prototype.onPropertyChanged=function(t,i){for(var n=!1,o=!1,r=!1,a=1===Object.keys(t).length&&t instanceof Object&&!e.isNullOrUndefined(this.activePointer),s=0,l=Object.keys(t);s<l.length;s++)switch(l[s]){case"height":case"width":case"centerX":case"centerY":case"margin":this.createSvg(),o=!0;break;case"title":o=""===t.title||""===i.title,n=!(""===t.title||""===i.title);break;case"titleStyle":t.titleStyle&&t.titleStyle.size?o=!0:n=!0;break;case"border":case"background":n=!0;break;case"legendSettings":case"axes":r=!0}a||(!o&&n&&(this.removeSvg(),this.renderElements()),o&&(this.removeSvg(),this.calculateBounds(),this.renderElements()),!r||n||o||(this.removeSvg(),this.calculateBounds(),this.renderElements(!1)))},n.prototype.getModuleName=function(){return"circulargauge"},Lt([e.Property(null)],n.prototype,"width",void 0),Lt([e.Property(null)],n.prototype,"height",void 0),Lt([e.Complex({color:"transparent",width:0},$)],n.prototype,"border",void 0),Lt([e.Property(null)],n.prototype,"background",void 0),Lt([e.Property("")],n.prototype,"title",void 0),Lt([e.Complex({size:"15px",color:null},K)],n.prototype,"titleStyle",void 0),Lt([e.Complex({},et)],n.prototype,"margin",void 0),Lt([e.Collection([{}],ct)],n.prototype,"axes",void 0),Lt([e.Complex({},it)],n.prototype,"tooltip",void 0),Lt([e.Property(!1)],n.prototype,"enablePointerDrag",void 0),Lt([e.Property(null)],n.prototype,"centerX",void 0),Lt([e.Property(null)],n.prototype,"centerY",void 0),Lt([e.Property(!1)],n.prototype,"moveToCenter",void 0),Lt([e.Property("Material")],n.prototype,"theme",void 0),Lt([e.Property(!1)],n.prototype,"useGroupingSeparator",void 0),Lt([e.Property(null)],n.prototype,"description",void 0),Lt([e.Property(1)],n.prototype,"tabIndex",void 0),Lt([e.Complex({},Rt)],n.prototype,"legendSettings",void 0),Lt([e.Event()],n.prototype,"loaded",void 0),Lt([e.Event()],n.prototype,"load",void 0),Lt([e.Event()],n.prototype,"animationComplete",void 0),Lt([e.Event()],n.prototype,"axisLabelRender",void 0),Lt([e.Event()],n.prototype,"radiusCalculate",void 0),Lt([e.Event()],n.prototype,"annotationRender",void 0),Lt([e.Event()],n.prototype,"legendRender",void 0),Lt([e.Event()],n.prototype,"tooltipRender",void 0),Lt([e.Event()],n.prototype,"dragStart",void 0),Lt([e.Event()],n.prototype,"dragMove",void 0),Lt([e.Event()],n.prototype,"dragEnd",void 0),Lt([e.Event()],n.prototype,"gaugeMouseMove",void 0),Lt([e.Event()],n.prototype,"gaugeMouseLeave",void 0),Lt([e.Event()],n.prototype,"gaugeMouseDown",void 0),Lt([e.Event()],n.prototype,"gaugeMouseUp",void 0),Lt([e.Event()],n.prototype,"resized",void 0),Lt([e.Event()],n.prototype,"beforePrint",void 0),n=Lt([e.NotifyPropertyChanges],n)}(e.Component);return Et.Inject(vt,mt,At),t.CircularGauge=Et,t.Annotations=mt,t.Line=rt,t.Label=at,t.Range=st,t.Tick=lt,t.Cap=ht,t.NeedleTail=dt,t.Animation=gt,t.Annotation=ut,t.Pointer=pt,t.Axis=ct,t.Border=$,t.Font=K,t.RangeTooltip=Q,t.AnnotationTooltip=tt,t.Margin=et,t.TooltipSettings=it,t.GaugeTooltip=vt,t.measureText=o,t.toPixel=r,t.getFontStyle=a,t.setStyles=s,t.measureElementRect=l,t.stringToNumber=h,t.textElement=d,t.appendPath=g,t.calculateSum=u,t.linear=p,t.getAngleFromValue=c,t.getDegree=m,t.getValueFromAngle=y,t.isCompleteAngle=v,t.getAngleFromLocation=f,t.getLocationFromAngle=x,t.getPathArc=b,t.getRangePath=P,t.getRoundedPathArc=w,t.getRoundedPath=C,t.getCompleteArc=S,t.getCirclePath=R,t.getCompletePath=A,t.getElement=_,t.getTemplateFunction=M,t.removeElement=T,t.getPointer=I,t.getElementSize=L,t.getMousePosition=E,t.getLabelFormat=O,t.calculateShapes=k,t.getRangeColor=F,t.CustomizeOption=N,t.PathOption=V,t.RectOption=H,t.Size=G,t.GaugeLocation=U,t.Rect=X,t.textTrim=z,t.showTooltip=B,t.TextOption=Y,t.VisibleLabels=Z,t.Location=St,t.LegendSettings=Rt,t.Legend=At,t.Index=_t,t.LegendOptions=Mt,t}({},ej.base,ej.svgbase,ej.pdfexport),this.ejs=ej;

this.ej=this.ej||{},this.ej.lineargauge=function(e,t,i,o){"use strict";function n(e,t){return null!==e&&void 0!==e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function r(e,i){var o=document.getElementById("gauge-measuretext");return null===o&&(o=t.createElement("text",{id:"gauge-measuretext"}),document.body.appendChild(o)),o.innerHTML=e,o.style.position="absolute",o.style.fontSize=i.size,o.style.fontWeight=i.fontWeight,o.style.fontStyle=i.fontStyle,o.style.fontFamily=i.fontFamily,o.style.visibility="hidden",o.style.top="-100",o.style.left="0",o.style.whiteSpace="nowrap",new Y(o.clientWidth,o.clientHeight)}function a(e,t,i,o,n,r){return"pointer"===r?e<=o&&e>=n:null!=t&&t<=o&&t>=n&&null!=i&&i<=o&&i>=n}function s(e,t,i,o,n,r){var a=e.getBoundingClientRect(),s=t.getBoundingClientRect(),l=t.id.indexOf("MarkerPointer")>-1?s.height/2:o.isInversed?s.height:0,h=t.id.indexOf("MarkerPointer")>-1?s.width/2:o.isInversed?0:s.width,u=new Y(o.lineBounds.width,o.lineBounds.height),p="drag"===n?r.y-o.lineBounds.y:s.top+l-a.top-o.lineBounds.y,d="drag"===n?r.x-o.lineBounds.x:s.left+h-a.left-o.lineBounds.x,g="Vertical"===i?u.height:u.width,c="Vertical"===i?p:d,m="Vertical"===i?o.isInversed?c/g:1-c/g:o.isInversed?1-c/g:c/g;return m=m*o.visibleRange.delta+o.visibleRange.min}function l(e,o,n){var r=document.getElementById("gauge_path");null===r&&((r=t.createElement("text",{id:"gauge_path"})).style.position="absolute",r.style.top="0px",r.style.left="0px",n.appendChild(r));var a=new i.SvgRenderer("id").createSvg({id:"box_path",width:o.width,height:o.height});a.appendChild(e),r.appendChild(a);var s=e.getBBox();return t.remove(r),s}function h(e){return document.getElementById(e)}function u(e){var i=h(e);i&&t.remove(i)}function p(e){var t=!1;return e.map(function(e,i){e.pointers.map(function(e,i){e.enableDrag&&(t=!0)})}),t}function d(e,t,i,o){var n=(e-o.min)/o.delta;return n="Vertical"===i?t.isInversed?n:1-n:t.isInversed?1-n:n}function g(e){return"font-size:"+e.size+"; font-style:"+e.fontStyle+"; font-weight:"+e.fontWeight+"; font-family:"+e.fontFamily+";opacity:"+e.opacity+"; color:"+e.color+";"}function c(e,i,o){if(t.isNullOrUndefined(e))return null;for(var n=0,r=Object.keys(i);n<r.length;n++){var a=r[n];e=e.split("{"+a+"}").join(m(i[a],o).toString())}return e}function m(e,t){var i;return i=t.format&&!isNaN(Number(e))?t.intl.getNumberFormat({format:t.format,useGrouping:t.useGroupingSeparator})(Number(e)):e,null!==i?i:""}function y(e){return e&&null!==e.match("{value}")?"":e}function f(e){var i=null;try{document.querySelectorAll(e).length&&(i=t.compile(document.querySelector(e).innerHTML.trim()))}catch(o){i=t.compile(e)}return i}function v(e,t){var i,o;return t.appendChild(e),i=e.offsetWidth,o=e.offsetHeight,t.removeChild(e),new Y(i,o)}function b(e,t,o,n){var r,a={},s=new i.SvgRenderer(""),l="fill:"+o+"; font-size:"+t.size+"; font-style:"+t.fontStyle+" ; font-weight:"+t.fontWeight+"; font-family:"+t.fontFamily+"; text-anchor:"+e.anchor+"; transform:"+e.transform+"; opacity:"+t.opacity+"; dominant-baseline:"+e.baseLine+";";return a={id:e.id,x:e.x,y:e.y,style:l},r=s.createText(a,e.text),n.appendChild(r),r}function x(e,t,i,o){for(var n,r=t-e,a=[10,5,2,1],s=w(i,o),l=r/s,h=Math.pow(10,Math.floor(Math.log(l)/Math.log(10))),u=0,p=a;u<p.length&&(n=h*p[u],!(s<r/n));u++)l=n;return l}function w(e,t){var i=5*("Horizontal"===t?.533:1);return i=Math.max(e*(i/100),1)}function P(e,t){var i,o,n,r,a=[];return a=e.id.replace(t.element.id,"").split("_"),i=parseInt(a[2],10),o=parseInt(a[4],10),n=t.axes[i],r=t.axes[i].pointers[o],{axis:n,axisIndex:i,pointer:r,pointerIndex:o}}function C(e,t){var i=null;return t.forEach(function(t,o){e>=t.start&&t.end>=e&&(i=t.interior)}),i}function S(){return["#ff5985","#ffb133","#fcde0b","#27d5ff","#50c917"]}function T(e,i,o,n,r,a,s,l){var h,u,p=o.width,d=o.height,g=e.x,c=e.y;switch(i){case"Circle":u=(p+d)/4,g="Vertical"===a?s.opposedPosition?"Near"===l.placement?g-u:g+u:"Far"!==l.placement?g-u:g+u:g,c="Vertical"===a?c:s.opposedPosition?"Near"===l.placement?c-u:c+u:"Far"===l.placement?c+u:c-u,t.merge(r,{r:u,cx:g,cy:c});break;case"Diamond":case"Rectangle":g="Horizontal"===a?g-p/2:!s.opposedPosition&&"Far"!==l.placement||s.opposedPosition&&"Near"===l.placement?g-p:g,c="Vertical"===a?c:s.opposedPosition?"Near"===l.placement?c-d/2:c+d/2:"Far"===l.placement?c+d/2:c-d/2,h="Diamond"===i?"M "+g+" "+c+" L "+(g+p/2)+" "+(c-d/2)+" L "+(g+p)+" "+c+" L "+(g+p/2)+" "+(c+d/2)+" L "+g+" "+c+" z":"M "+g+" "+(c-d/2)+" L "+(g+p)+" "+(c-d/2)+" L "+(g+p)+" "+(c+d/2)+" L "+g+" "+(c+d/2)+" L "+g+" "+(c-d/2)+" z",t.merge(r,{d:h});break;case"Triangle":h="Vertical"===a?"M "+g+" "+c+" L"+(g-p)+" "+(c-d/2)+"L"+(g-p)+" "+(c+d/2)+" Z":"M "+g+" "+c+" L"+(g+p/2)+" "+(c-d)+"L"+(g-p/2)+" "+(c-d)+" Z",t.merge(r,{d:h});break;case"InvertedTriangle":h="Vertical"===a?"M "+g+" "+c+" L"+(g+p)+" "+(c-d/2)+"L"+(g+p)+" "+(c+d/2)+" Z":"M "+g+" "+c+" L"+(g+p/2)+" "+(c+d)+"L"+(g-p/2)+" "+(c+d)+" Z",t.merge(r,{d:h});break;case"Arrow":h="Vertical"===a?"M "+g+" "+c+" L"+(g-p/2)+" "+(c-d/2)+" L"+(g-p/2)+" "+(c-d/2+d/4)+" L"+(g-p)+" "+(c-d/2+d/4)+" L"+(g-p)+" "+(c+d/2-d/4)+" L"+(g-p/2)+" "+(c+d/2-d/4)+" L"+(g-p/2)+" "+(c+d/2)+"z":"M "+g+" "+c+" L"+(g+p/2)+" "+(c-d/2)+" L"+(g+p/2-p/4)+" "+(c-d/2)+" L"+(g+p/2-p/4)+" "+(c-d)+" L"+(g-p/2+p/4)+" "+(c-d)+" L"+(g-p/2+p/4)+" "+(c-d/2)+" L"+(g-p/2)+" "+(c-d/2)+"z",t.merge(r,{d:h});break;case"InvertedArrow":h="Vertical"===a?"M "+g+" "+c+"L"+(g+p/2)+" "+(c-d/2)+" L"+(g+p/2)+" "+(c-d/2+d/4)+" L"+(g+p)+" "+(c-d/2+d/4)+" L"+(g+p)+" "+(c+d/2-d/4)+" L"+(g+p/2)+" "+(c+d/2-d/4)+" L"+(g+p/2)+" "+(c+d/2)+"z":"M "+g+" "+c+" L"+(g+p/2)+" "+(c+d/2)+" L"+(g+p/2-p/4)+" "+(c+d/2)+" L"+(g+p/2-p/4)+" "+(c+d)+" L"+(g-p/2+p/4)+" "+(c+d)+" L"+(g-p/2+p/4)+" "+(c+d/2)+" L"+(g-p/2)+" "+(c+d/2)+"z",t.merge(r,{d:h});break;case"Image":t.merge(r,{href:n,height:d,width:p,x:g-p/2,y:c-d/2})}return r}function A(e,t,i,o,n,r,a,s){var l,h,u,p,d,g,c=" ",m=s;switch(t){case"RoundedRectangle":c="M "+(l=e.x)+" "+(m+(h=e.y))+" Q "+l+" "+h+" "+(l+m)+" "+h+" ",c+="L "+(l+(u=e.width)-m)+" "+h+" Q "+(l+u)+" "+h+" "+(l+u)+" "+(h+m)+" ",c+="L "+(l+u)+" "+(h+(p=e.height)-m)+" Q "+(l+u)+" "+(h+p)+" "+(l+u-m)+" "+(h+p)+" ",c+=" L "+(l+m)+" "+(h+p)+" Q "+l+" "+(h+p)+" "+l+" "+(h+p-m)+" ",c+="L "+l+" "+(m+h)+" z";break;case"Thermometer":var y="Vertical"===i?e.width:e.height;if(d=y+y/2/Math.PI,g=y/2,"Vertical"===i){var f=r+r/2/Math.PI-d,v="bar"===n?e.y+f:e.y,b="bar"===n?e.y+(g-g/Math.PI):e.y,x=e.height;c="M"+e.x+" "+(v+x)+" A "+d+" "+d+", 0, 1, 0, "+(e.x+e.width)+" "+(v+x)+" L "+(e.x+e.width)+" "+b+" A "+g+" "+g+", 0, 1, 0, "+e.x+" "+b+" z "}else{var w="bar"!==n||a.isInversed?e.x:e.x-(r+r/2/Math.PI-d),P="bar"===n?e.width-(g-g/Math.PI):e.width;c="M"+w+" "+e.y+" A "+d+" "+d+", 0, 1, 0, "+w+" "+(e.y+e.height)+" L "+(("bar"===n?e.x:w)+P)+" "+(e.y+e.height)+" A "+g+" "+g+", 0, 1, 0, "+(("bar"===n?e.x:w)+P)+" "+e.y+" z "}}return c}function B(e){var t;switch(e.toLowerCase()){case"materialdark":case"fabricdark":case"bootstrapdark":t={backgroundColor:"#333232",titleFontColor:"#ffffff",tooltipFillColor:"#FFFFFF",tooltipFontColor:"#000000",labelColor:"#DADADA",lineColor:"#C8C8C8",majorTickColor:"#C8C8C8",minorTickColor:"#9A9A9A",pointerColor:"#9A9A9A"};break;case"highcontrast":t={backgroundColor:"#000000",titleFontColor:"#FFFFFF",tooltipFillColor:"#ffffff",tooltipFontColor:"#000000",labelColor:"#FFFFFF",lineColor:"#FFFFFF",majorTickColor:"#FFFFFF",minorTickColor:"#FFFFFF",pointerColor:"#FFFFFF"};break;case"bootstrap4":t={backgroundColor:"#FFFFFF",titleFontColor:"#212529",tooltipFillColor:"#000000",tooltipFontColor:"#FFFFFF",labelColor:"#212529",lineColor:"#ADB5BD",majorTickColor:"#ADB5BD",minorTickColor:"#CED4DA",pointerColor:"#6C757D",fontFamily:"HelveticaNeue-Medium",fontSize:"16px",labelFontFamily:"HelveticaNeue",tooltipFillOpacity:1,tooltipTextOpacity:.9,containerBackground:"#F8F9FA"};break;default:t={backgroundColor:"#FFFFFF",titleFontColor:"#424242",tooltipFillColor:"#FFFFF",tooltipFontColor:"#FFFFFF",labelColor:"#686868",lineColor:"#a6a6a6",majorTickColor:"#a6a6a6",minorTickColor:"#a6a6a6",pointerColor:"#a6a6a6",containerBackground:"#e0e0e0"}}return t}var k=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),L=function(e,t,i,o){var n,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},O=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return k(i,e),L([t.Property("16px")],i.prototype,"size",void 0),L([t.Property("")],i.prototype,"color",void 0),L([t.Property("Segoe UI")],i.prototype,"fontFamily",void 0),L([t.Property("Regular")],i.prototype,"fontWeight",void 0),L([t.Property("Normal")],i.prototype,"fontStyle",void 0),L([t.Property(1)],i.prototype,"opacity",void 0),i}(t.ChildProperty),E=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return k(i,e),L([t.Property(10)],i.prototype,"left",void 0),L([t.Property(10)],i.prototype,"right",void 0),L([t.Property(10)],i.prototype,"top",void 0),L([t.Property(10)],i.prototype,"bottom",void 0),i}(t.ChildProperty),I=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return k(i,e),L([t.Property(null)],i.prototype,"color",void 0),L([t.Property(0)],i.prototype,"width",void 0),i}(t.ChildProperty),R=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return k(i,e),L([t.Property("")],i.prototype,"content",void 0),L([t.Property(0)],i.prototype,"x",void 0),L([t.Property(0)],i.prototype,"y",void 0),L([t.Property("None")],i.prototype,"verticalAlignment",void 0),L([t.Property("None")],i.prototype,"horizontalAlignment",void 0),L([t.Property("-1")],i.prototype,"zIndex",void 0),L([t.Complex({size:"12px",color:null},O)],i.prototype,"font",void 0),L([t.Property(null)],i.prototype,"axisIndex",void 0),L([t.Property(null)],i.prototype,"axisValue",void 0),i}(t.ChildProperty),_=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return k(i,e),L([t.Property("Normal")],i.prototype,"type",void 0),L([t.Property(0)],i.prototype,"height",void 0),L([t.Property(0)],i.prototype,"width",void 0),L([t.Property(10)],i.prototype,"roundedCornerRadius",void 0),L([t.Property("transparent")],i.prototype,"backgroundColor",void 0),L([t.Complex({width:1,color:"#bfbfbf"},I)],i.prototype,"border",void 0),L([t.Property(0)],i.prototype,"offset",void 0),i}(t.ChildProperty),z=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return k(i,e),L([t.Property(!1)],i.prototype,"enable",void 0),L([t.Property("")],i.prototype,"fill",void 0),L([t.Complex({color:"",size:"13px"},O)],i.prototype,"textStyle",void 0),L([t.Property(null)],i.prototype,"format",void 0),L([t.Property(null)],i.prototype,"template",void 0),L([t.Property(!0)],i.prototype,"enableAnimation",void 0),L([t.Complex({},I)],i.prototype,"border",void 0),i}(t.ChildProperty),F=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),M=function(e,t,i,o){var n,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},j=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return F(i,e),M([t.Property("")],i.prototype,"dashArray",void 0),M([t.Property(null)],i.prototype,"height",void 0),M([t.Property(2)],i.prototype,"width",void 0),M([t.Property(null)],i.prototype,"color",void 0),M([t.Property(0)],i.prototype,"offset",void 0),i}(t.ChildProperty),V=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return F(i,e),M([t.Complex({size:"12px",color:null},O)],i.prototype,"font",void 0),M([t.Property(!1)],i.prototype,"useRangeColor",void 0),M([t.Property("")],i.prototype,"format",void 0),M([t.Property(0)],i.prototype,"offset",void 0),M([t.Property("Auto")],i.prototype,"position",void 0),i}(t.ChildProperty),N=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return F(i,e),M([t.Property(0)],i.prototype,"start",void 0),M([t.Property(0)],i.prototype,"end",void 0),M([t.Property("Outside")],i.prototype,"position",void 0),M([t.Property("")],i.prototype,"color",void 0),M([t.Property(10)],i.prototype,"startWidth",void 0),M([t.Property(10)],i.prototype,"endWidth",void 0),M([t.Property(0)],i.prototype,"offset",void 0),M([t.Complex({color:"#000000",width:0},I)],i.prototype,"border",void 0),i}(t.ChildProperty),D=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return F(i,e),M([t.Property(20)],i.prototype,"height",void 0),M([t.Property(2)],i.prototype,"width",void 0),M([t.Property(null)],i.prototype,"interval",void 0),M([t.Property(null)],i.prototype,"color",void 0),M([t.Property(null)],i.prototype,"offset",void 0),M([t.Property("Auto")],i.prototype,"position",void 0),i}(t.ChildProperty),U=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.animationComplete=!0,t.currentValue=null,t}return F(i,e),M([t.Property("Marker")],i.prototype,"type",void 0),M([t.Property(null)],i.prototype,"value",void 0),M([t.Property("InvertedTriangle")],i.prototype,"markerType",void 0),M([t.Property(null)],i.prototype,"imageUrl",void 0),M([t.Complex({color:"#808080"},I)],i.prototype,"border",void 0),M([t.Property(10)],i.prototype,"roundedCornerRadius",void 0),M([t.Property("Far")],i.prototype,"placement",void 0),M([t.Property(20)],i.prototype,"height",void 0),M([t.Property(20)],i.prototype,"width",void 0),M([t.Property(null)],i.prototype,"color",void 0),M([t.Property(1)],i.prototype,"opacity",void 0),M([t.Property(0)],i.prototype,"animationDuration",void 0),M([t.Property(!1)],i.prototype,"enableDrag",void 0),M([t.Property(0)],i.prototype,"offset",void 0),M([t.Property("Auto")],i.prototype,"position",void 0),M([t.Property(null)],i.prototype,"description",void 0),i}(t.ChildProperty),G=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.visibleLabels=[],t}return F(i,e),M([t.Property(0)],i.prototype,"minimum",void 0),M([t.Property(100)],i.prototype,"maximum",void 0),M([t.Property(!1)],i.prototype,"isInversed",void 0),M([t.Property(!1)],i.prototype,"showLastLabel",void 0),M([t.Property(!1)],i.prototype,"opposedPosition",void 0),M([t.Complex({},j)],i.prototype,"line",void 0),M([t.Collection([{}],N)],i.prototype,"ranges",void 0),M([t.Collection([{}],U)],i.prototype,"pointers",void 0),M([t.Complex({width:2,height:20},D)],i.prototype,"majorTicks",void 0),M([t.Complex({width:1,height:10},D)],i.prototype,"minorTicks",void 0),M([t.Complex({},V)],i.prototype,"labelStyle",void 0),i}(t.ChildProperty),H=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),W=function(){function e(e,t,i,o){this.min=e,this.max=t,this.interval=i,this.delta=o}return e}(),X=function(){function e(e,t){this.x=e,this.y=t}return e}(),Y=function(){function e(e,t){this.width=e,this.height=t}return e}(),Z=function(){function e(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o}return e}(),q=function(){function e(e){this.id=e}return e}(),Q=function(e){function t(t,i,o,n,r,a,s,l){void 0===l&&(l="");var h=e.call(this,t)||this;return h.opacity=r,h.fill=i,h.stroke=n,h["stroke-width"]=o,h["stroke-dasharray"]=a,h.d=s,h.transform=l,h}return H(t,e),t}(q),J=function(){function e(e,t,i,o,n,r,a){this.opacity=o,this.id=e,this.y=n.y,this.x=n.x,this.fill=t,this.stroke=i.color,this["stroke-width"]=i.width,this.height=n.height,this.width=n.width}return e}(),K=function(e){function t(t,i,o,n,r,a,s){void 0===a&&(a="");var l=e.call(this,t)||this;return l.transform="",l.baseLine="auto",l.x=i,l.y=o,l.anchor=n,l.text=r,l.transform=a,l.baseLine=s,l}return H(t,e),t}(q),$=function(){function e(e,t,i){this.text=e,this.value=t,this.size=i}return e}(),ee=function(){function e(e,t){this.align=t,this.axisIndex=e}return e}(),te=function(){function e(e){this.gauge=e}return e.prototype.calculateAxesBounds=function(){var e,t;this.gauge.nearSizes=[],this.gauge.farSizes=[];var i,o,n,r;this.gauge.containerBounds;this.checkThermometer();for(var a=0;a<this.gauge.axes.length;a++)(e=this.gauge.axes[a]).checkAlign=new ee(a,e.opposedPosition?"Far":"Near"),e.opposedPosition?this.gauge.farSizes.push(1):this.gauge.nearSizes.push(1),this.calculateLineBounds(e,a),this.calculateTickBounds(e,a),this.calculateLabelBounds(e,a),e.pointers.length>0&&this.calculatePointerBounds(e,a),e.ranges.length>0&&this.calculateRangesBounds(e,a),t=e.labelBounds,"Vertical"===this.gauge.orientation?(i=e.opposedPosition?e.lineBounds.x:t.x-8,o=e.lineBounds.y,r=e.lineBounds.height,n=Math.abs(e.opposedPosition?t.x+t.width+8-i:e.lineBounds.x-i)):(o=e.opposedPosition?e.lineBounds.y:t.y-t.height-8,i=e.lineBounds.x,n=e.lineBounds.width,r=Math.abs(e.opposedPosition?t.y+8-o:Math.abs(e.lineBounds.y-o))),e.bounds=new Z(i,o,n,r)},e.prototype.calculateLineBounds=function(e,i){var o,n,r,a,s,l,h=e.line.height,u=this.gauge.orientation,p=this.gauge.containerBounds;h=e.line.width>0?h:null,"Vertical"===u?(n=t.isNullOrUndefined(h)?p.y:p.y+(p.height/2-h/2),r=e.line.width,a=t.isNullOrUndefined(h)?p.height:h):(o=t.isNullOrUndefined(h)?p.x:p.x+(p.width/2-h/2),a=e.line.width,r=t.isNullOrUndefined(h)?p.width:h),s=this.checkPreviousAxes(e,i),t.isNullOrUndefined(s)?"Vertical"===u?o=(e.opposedPosition?p.x+p.width:p.x)+e.line.offset:n=(e.opposedPosition?p.y+p.height:p.y)+e.line.offset:(l=this.gauge.axes[s],"Vertical"===u?o=(e.opposedPosition?l.bounds.x+l.bounds.width:l.bounds.x)+e.line.offset:n=(e.opposedPosition?l.bounds.y+l.bounds.height:l.bounds.y)+e.line.offset),e.lineBounds=new Z(o,n,r,a)},e.prototype.calculateTickBounds=function(e,i){var o,n,r,a,s=Math.min(e.minimum,e.maximum),l=Math.max(e.minimum,e.maximum);s=s===l?l-1:s;e.majorTicks.interval;var h=e.lineBounds;r=e.majorTicks,a=e.minorTicks,e.majorInterval=r.interval,e.minorInterval=a.interval;var u="Vertical"===this.gauge.orientation?h.height:h.width,p=("Vertical"===this.gauge.orientation?h.width:h.height)/2;e.majorInterval=t.isNullOrUndefined(e.majorInterval)?x(s,l,u,this.gauge.orientation):r.interval,e.visibleRange=new W(s,l,e.majorInterval,l-s),e.minorInterval=t.isNullOrUndefined(e.minorInterval)?e.majorInterval/2:e.minorInterval,"Vertical"===this.gauge.orientation?(o="Auto"===e.majorTicks.position?(e.opposedPosition?h.x+p:h.x-p-r.height)+r.offset:o,o="Auto"!==e.majorTicks.position?"Cross"===e.majorTicks.position?h.x-r.height/2-r.offset:"Inside"===e.majorTicks.position&&!e.opposedPosition||"Outside"===e.majorTicks.position&&e.opposedPosition?h.x-p-r.height-r.offset:h.x+p+r.offset:o,e.majorTickBounds=new Z(o,h.y,r.height,h.height),o="Auto"===e.minorTicks.position?(e.opposedPosition?h.x+p:h.x-p-a.height)+a.offset:o,o="Auto"!==e.minorTicks.position?"Cross"===e.minorTicks.position?h.x-a.height/2-a.offset:"Inside"===e.minorTicks.position&&!e.opposedPosition||"Outside"===e.minorTicks.position&&e.opposedPosition?h.x-p-a.height-a.offset:h.x+p+a.offset:o,e.minorTickBounds=new Z(o,h.y,a.height,h.height)):(n="Auto"===e.majorTicks.position?(e.opposedPosition?h.y+p:h.y-p-r.height)+r.offset:n,n="Auto"!==e.majorTicks.position?"Cross"===e.majorTicks.position?h.y-r.height/2-r.offset:"Inside"===e.majorTicks.position&&!e.opposedPosition||"Outside"===e.majorTicks.position&&e.opposedPosition?h.y-p-r.height-r.offset:h.y+p+r.offset:n,e.majorTickBounds=new Z(h.x,n,h.width,r.height),n="Auto"===e.minorTicks.position?(e.opposedPosition?h.y+p:h.y-p-a.height)+a.offset:n,n="Auto"!==e.minorTicks.position?"Cross"===e.minorTicks.position?h.y-a.height/2-r.offset:"Inside"===e.minorTicks.position&&!e.opposedPosition||"Outside"===e.minorTicks.position&&e.opposedPosition?h.y-p-a.height-a.offset:h.y+p+a.offset:n,e.minorTickBounds=new Z(h.x,n,h.width,a.height))},e.prototype.calculateLabelBounds=function(e,t){var i,o,n,r,a="Auto"!==e.labelStyle.position&&"Auto"!==e.majorTicks.position&&"Auto"!==e.minorTicks.position,s=a&&e.labelStyle.position===e.minorTicks.position&&e.minorTicks.position!==e.majorTicks.position?e.minorTickBounds:e.majorTickBounds,l=e.labelStyle.offset;if(this.calculateVisibleLabels(e),n=e.maxLabelSize.width,r=e.maxLabelSize.height/2,"Vertical"===this.gauge.orientation){i="Auto"===e.labelStyle.position?(e.opposedPosition?s.x+s.width+5:s.x-n-5)+l:i;var h=s.x,u=("Cross"===e.majorTicks.position||"Cross"===e.minorTicks.position)&&s.width>e.lineBounds.width?s.width/2:e.lineBounds.width/2;h=a&&e.labelStyle.position!==e.minorTicks.position&&e.labelStyle.position!==e.majorTicks.position?"Cross"!==e.minorTicks.position&&"Cross"!==e.majorTicks.position?"Inside"===e.labelStyle.position?s.x-e.lineBounds.width:"Outside"===e.labelStyle.position?s.x+e.lineBounds.width:s.x:"Inside"===e.labelStyle.position?e.lineBounds.x-u:"Outside"===e.labelStyle.position?e.lineBounds.x-s.width+u:s.x:s.x,i="Auto"!==e.labelStyle.position?"Cross"===e.labelStyle.position?e.lineBounds.x-e.maxLabelSize.width/4-l:"Inside"===e.labelStyle.position&&!e.opposedPosition||"Outside"===e.labelStyle.position&&e.opposedPosition?h-n-5-l:h+s.width+5+l:i,o=e.lineBounds.y}else{o="Auto"===e.labelStyle.position?(e.opposedPosition?s.y+s.height+5+r:s.y-5)+l:o;var p=s.y,u=("Cross"===e.majorTicks.position||"Cross"===e.minorTicks.position)&&s.height>e.lineBounds.height?s.height/2:e.lineBounds.height/2;p=a&&e.labelStyle.position!==e.minorTicks.position&&e.labelStyle.position!==e.majorTicks.position?"Cross"!==e.minorTicks.position&&"Cross"!==e.majorTicks.position?"Inside"===e.labelStyle.position?s.y-e.lineBounds.height:"Outside"===e.labelStyle.position?s.y+e.lineBounds.height:s.y:"Inside"===e.labelStyle.position?e.lineBounds.y-u:"Outside"===e.labelStyle.position?e.lineBounds.y-s.height+u:s.y:s.y,o="Auto"!==e.labelStyle.position?"Cross"===e.labelStyle.position?e.lineBounds.y+e.maxLabelSize.height/4-l:"Inside"===e.labelStyle.position&&!e.opposedPosition||"Outside"===e.labelStyle.position&&e.opposedPosition?p-5-l:p+s.height+5+r+l:o,i=e.lineBounds.x}e.labelBounds=new Z(i,o,n,r)},e.prototype.calculatePointerBounds=function(e,t){for(var i,o=e.visibleRange,r=(this.gauge.orientation,e.lineBounds,e.labelBounds,Math.min(o.min,o.max)),s=Math.max(o.min,o.max),l=0;l<e.pointers.length;l++)(i=e.pointers[l]).offset.length>0?i.currentOffset=n(i.offset,"Horizontal"===this.gauge.orientation?this.gauge.availableSize.height/2:this.gauge.availableSize.width/2):i.currentOffset=i.offset,i.currentValue=null!==i.value?i.value<r?r:i.value>s?s:i.value:r,i.width>0&&a(i.currentValue,null,null,o.max,o.min,"pointer")&&this["calculate"+i.type+"Bounds"](t,e,l,i)},e.prototype.calculateMarkerBounds=function(e,t,i,o){var n,r,a=t.lineBounds,s=o.currentOffset,l=t.visibleRange,h=o.placement,u=t.majorTickBounds,p=t.labelBounds,g=o.border.width;"Vertical"===this.gauge.orientation?("Auto"===o.position?(n=t.opposedPosition?"Far"===h?p.x+p.width:"Center"===h?u.x+u.width:a.x:"Near"===h?p.x:"Center"===h?u.x:a.x,n=t.opposedPosition?("Near"===o.placement?n-g:n+g)+s:("Far"===o.placement?n+g:n-g)+s):n="Cross"===o.position?a.x-o.width/2-s:"Inside"===o.position&&!t.opposedPosition||"Outside"===o.position&&t.opposedPosition?a.x-a.width/2-("InvertedTriangle"!==o.markerType&&"Triangle"!==o.markerType?o.width:0)-s:a.x+a.width/2+s,r=d(o.currentValue,t,this.gauge.orientation,l)*a.height+a.y):("Auto"===o.position?(r=t.opposedPosition?"Far"===h?p.y:"Center"===h?u.y+u.height:a.y:"Near"===h?p.y-p.height:"Center"===h?u.y:a.y,r=t.opposedPosition?("Near"===o.placement?r-g:r+g)+s:("Far"===o.placement?r+g:r-g)+s):r="Cross"===o.position?a.y-o.height/2-s:"Inside"===o.position&&!t.opposedPosition||"Outside"===o.position&&t.opposedPosition?a.y-a.height/2-("InvertedTriangle"!==o.markerType&&"Triangle"!==o.markerType?o.height:0)-s:a.y+a.height/2+s,n=d(o.currentValue,t,this.gauge.orientation,l)*a.width+a.x),o.bounds=new Z(n,r,o.width,o.height)},e.prototype.calculateBarBounds=function(e,t,i,o){var n,r,a,s,l,h,u=t.lineBounds,p=t.visibleRange,g=this.gauge.orientation,c=o.currentOffset,m=this.gauge.containerBounds;"Vertical"===g?("Auto"===o.position?(n=m.width>0?m.x+(m.width/2-o.width/2):t.opposedPosition?u.x-o.width-10:u.x+10,n+=c):n="Cross"===o.position?u.x-o.width/2-c:"Inside"===o.position&&!t.opposedPosition||"Outside"===o.position&&t.opposedPosition?u.x-u.width/2-o.width-c:u.x+u.width/2+c,a=d(o.currentValue,t,g,p)*u.height+u.y,s=d(p.min,t,g,p)*u.height+u.y,l=Math.abs(s-a),a=t.isInversed?s:a,h=o.width):("Auto"===o.position?(a=m.height>0?m.y+m.height/2-o.height/2:t.opposedPosition?u.y-o.height-10:u.y+10,a+=c):a="Cross"===o.position?u.y-o.height/2-c:"Inside"===o.position&&!t.opposedPosition||"Outside"===o.position&&t.opposedPosition?u.y-u.height/2-o.height-c:u.y+u.height/2+c,l=o.height,n=d(p.min,t,g,p)*u.width+u.x,r=d(o.currentValue,t,g,p)*u.width+u.x,h=Math.abs(r-n),n=t.isInversed?r:n),o.bounds=new Z(n,a,h,l)},e.prototype.calculateRangesBounds=function(e,t){for(var i,o,r,s,l,h,u,p,g,c,m,y,f,v=e.lineBounds,b=e.visibleRange,x=this.gauge.orientation,w=0;w<e.ranges.length;w++)(i=e.ranges[w]).offset.length>0?i.currentOffset=n(i.offset,"Horizontal"===this.gauge.orientation?this.gauge.availableSize.height/2:this.gauge.availableSize.width/2):i.currentOffset=i.offset,a(null,o=Math.max(i.start,b.min),r=Math.min(i.end,b.max),b.max,b.min,"range")&&(o=Math.min(o,i.end),r=Math.max(o,r),c=i.position,m=i.startWidth,y=i.endWidth,f=this.gauge.rangePalettes.length?this.gauge.rangePalettes:["#ff5985","#ffb133","#fcde0b","#27d5ff","#50c917"],i.interior=i.color?i.color:f[w%f.length],"Vertical"===this.gauge.orientation?(h=v.x+i.currentOffset+("Cross"===c?m/2:"Outside"===c?-v.width/2:"Inside"===c?v.width/2:0),u=d(r,e,x,b)*v.height+v.y,g=d(o,e,x,b)*v.height+v.y,g-=u,s=e.opposedPosition?"Inside"===c?h-m:"Cross"===c?h-m:h+m:"Inside"===c?h+m:h-m,l=e.opposedPosition?"Inside"===c?h-y:"Cross"===c?h-y:h+y:"Inside"===c?h+y:h-y,i.path="M"+h+" "+u+" L "+h+" "+(u+g)+" L "+s+" "+(u+g)+" L "+l+" "+u+" L "+h+" "+u+" z "):(h=d(r,e,x,b)*v.width+v.x,u=e.lineBounds.y+i.currentOffset+("Cross"===c?m/2:"Outside"===c?-v.height/2:"Inside"===c?v.height/2:0),p=h-(p=d(o,e,x,b)*v.width+v.x),s=e.opposedPosition?"Inside"===c?u-m:"Cross"===c?u-m:u+m:"Inside"===c?u+m:u-m,l=e.opposedPosition?"Inside"===c?u-y:"Cross"===c?u-y:u+y:"Inside"===c?u+y:u-y,i.path="M"+h+" "+u+" L "+(h-p)+" "+u+" L "+(h-p)+" "+s+" L "+h+" "+l+" L "+h+" "+u+" z "))},e.prototype.checkPreviousAxes=function(e,t){var i=t-1;return i=i>=0?this.gauge.axes[i].checkAlign.align===e.checkAlign.align?i:this.checkPreviousAxes(e,i):null},e.prototype.calculateVisibleLabels=function(e){e.visibleLabels=[];var t,i,o,n=e.visibleRange.min,a=e.visibleRange.max,s=e.visibleRange.interval,l=e.labelStyle,h=l.format&&null!==l.format.match("{value}");t=this.gauge.intl.getNumberFormat({format:y(l.format),useGrouping:this.gauge.useGroupingSeparator});for(var u=this,p=n;p<=a&&s>0;p+=s)!function(t){i={cancel:!1,name:"axisLabelRender",axis:e,text:h?c(l.format,{value:t},u.gauge):m(t,u.gauge).toString(),value:t};var n=function(i){i.cancel||e.visibleLabels.push(new $(i.text,t,o))};n.bind(u),u.gauge.trigger("axisLabelRender",i,n)}(p);var d=e.visibleLabels.length?e.visibleLabels[e.visibleLabels.length-1].value:null,g=e.visibleRange.max;if(d!==g&&!0===e.showLastLabel){i={cancel:!1,name:"axisLabelRender",axis:e,text:h?l.format.replace(new RegExp("{value}","g"),t(g)):t(g),value:g};var f=function(t){o=r(t.text,e.labelStyle.font),t.cancel||e.visibleLabels.push(new $(t.text,g,o))};f.bind(this),this.gauge.trigger("axisLabelRender",i,f)}this.getMaxLabelWidth(this.gauge,e)},e.prototype.getMaxLabelWidth=function(e,t){t.maxLabelSize=new Y(0,0);for(var i,o=0;o<t.visibleLabels.length;o++)(i=t.visibleLabels[o]).size=r(i.text,t.labelStyle.font),i.size.width>t.maxLabelSize.width&&(t.maxLabelSize.width=i.size.width),i.size.height>t.maxLabelSize.height&&(t.maxLabelSize.height=i.size.height)},e.prototype.checkThermometer=function(){"Thermometer"===this.gauge.container.type&&this.gauge.axes.map(function(e,t){e.isInversed&&e.pointers.map(function(t,i){"Bar"===t.type&&(e.isInversed=!1)})})},e}(),ie=function(){function e(e){this.gauge=e}return e.prototype.performMarkerAnimation=function(e,i,o){var n,r,a=this,s=e,l=i.visibleRange,h="Vertical"===this.gauge.orientation?i.lineBounds.height:i.lineBounds.width,u="Vertical"===this.gauge.orientation?i.lineBounds.y:i.lineBounds.x;"Vertical"===this.gauge.orientation?o.bounds.y=d(o.currentValue,i,this.gauge.orientation,l)*h+u:o.bounds.x=d(o.currentValue,i,this.gauge.orientation,l)*h+u,n=new Q(s.id,null,null,null),n=T(o.bounds,o.markerType,new Y(o.width,o.height),o.imageUrl,n,this.gauge.orientation,i,o);var p,g=o.startValue,c=o.currentValue;g=g===c?l.min:g;var m=Math.abs(g-c),y=n.d;new t.Animation({}).animate(s,{duration:o.animationDuration,progress:function(e){e.timeStamp>=e.delay&&(r=(e.timeStamp-e.delay)/e.duration,p=g<c?g+r*m:g-r*m,"Vertical"===a.gauge.orientation?o.bounds.y=d(p,i,a.gauge.orientation,l)*h+u:o.bounds.x=d(p,i,a.gauge.orientation,l)*h+u,n=T(o.bounds,o.markerType,new Y(o.width,o.height),o.imageUrl,n,a.gauge.orientation,i,o),s.setAttribute("d",n.d))},end:function(e){s.setAttribute("d",y),o.startValue=o.currentValue,o.animationComplete=!0,a.gauge.trigger("animationComplete",{axis:a.gauge.isBlazor?null:i,pointer:o})}})},e.prototype.performBarAnimation=function(e,i,o){var n,r,a,s,l,h,u,p,g,c,m,y,f,v,b=this,x=i.visibleRange,w=e,P="Vertical"===this.gauge.orientation?i.lineBounds.height:i.lineBounds.width,C="Vertical"===this.gauge.orientation?i.lineBounds.y:i.lineBounds.x,S=(new Y(this.gauge.availableSize.width,this.gauge.availableSize.height),o.startValue),T=o.currentValue;S=S===T?x.min:S;var B="",k="",L=w.tagName;n=Math.abs(S-T);var O=d(T,i,this.gauge.orientation,x)*P+C,E=d(x.min,i,this.gauge.orientation,x)*P+C;m="Vertical"===this.gauge.orientation?i.isInversed?E:O:i.isInversed?O:E,c=Math.abs(E-O),"Thermometer"===this.gauge.container.type&&0===S&&(v=w.parentElement.childNodes[1].childNodes[0].childNodes[0],"Vertical"===this.gauge.orientation?(u=v.getAttribute("y"),h=v.getAttribute("height"),g=parseInt(u,10)+parseInt(h,10),v.setAttribute("y",g.toString())):(p=v.getAttribute("x"),y=v.getAttribute("width"),g=parseInt(p,10)+parseInt(y,10),v.setAttribute("width","0"))),B=A(o.bounds,this.gauge.container.type,this.gauge.orientation,new Y(o.bounds.width,o.bounds.height),"bar",this.gauge.container.width,i,o.roundedCornerRadius),new t.Animation({}).animate(w,{duration:o.animationDuration,progress:function(e){e.timeStamp>=e.delay&&(r=(e.timeStamp-e.delay)/e.duration,a=d(l=S<T?S+r*n:S-r*n,i,b.gauge.orientation,x)*P+C,s=d(x.min,i,b.gauge.orientation,x)*P+C,f=Math.abs(a-s),"Vertical"===b.gauge.orientation?(o.bounds.y=i.isInversed?s:a,o.bounds.height=f):(o.bounds.x=i.isInversed?a:s,o.bounds.width=f),"path"===L?(0===S&&"Thermometer"===b.gauge.container.type&&("Vertical"===b.gauge.orientation?v.setAttribute("y",(g-r*parseInt(h,10)).toString()):v.setAttribute("width",(r*parseInt(y,10)).toString())),k=A(o.bounds,b.gauge.container.type,b.gauge.orientation,new Y(o.bounds.width,o.bounds.height),"bar",b.gauge.container.width,i,o.roundedCornerRadius),w.setAttribute("d",k)):"Vertical"===b.gauge.orientation?(w.setAttribute("y",o.bounds.y.toString()),w.setAttribute("height",o.bounds.height.toString())):(w.setAttribute("x",o.bounds.x.toString()),w.setAttribute("width",o.bounds.width.toString())))},end:function(e){"path"===L?0===S&&"Thermometer"===b.gauge.container.type?w.parentElement.children[1].remove():w.setAttribute("d",B):"Vertical"===b.gauge.orientation?(w.setAttribute("y",m.toString()),w.setAttribute("height",c.toString())):(w.setAttribute("x",m.toString()),w.setAttribute("width",c.toString())),o.startValue=o.currentValue,b.gauge.trigger("animationComplete",{axis:b.gauge.isBlazor?null:i,pointer:o})}})},e}(),oe=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ne=function(e){function i(t){return e.call(this,t)||this}return oe(i,e),i.prototype.renderAxes=function(){var e,i,o,n=this;this.axisElements=[];var r=this.gauge.svgObject.querySelector("#"+this.gauge.element.id+"_Axis_Collections");r&&t.remove(r),this.axisObject=this.gauge.renderer.createGroup({id:this.gauge.element.id+"_Axis_Collections",transform:"translate( 0, 0 )"});for(var a=0;a<this.gauge.axes.length;a++)i=(e=this.gauge.axes[a]).majorTicks,o=e.minorTicks,this.htmlObject=this.gauge.renderer.createGroup({id:this.gauge.element.id+"_Axis_Group_"+a}),this.drawAxisLine(e,this.htmlObject,a),this.drawRanges(e,this.htmlObject,a),this.drawTicks(e,i,this.htmlObject,"MajorTicks",e.majorTickBounds),this.drawTicks(e,o,this.htmlObject,"MinorTicks",e.minorTickBounds),this.drawAxisLabels(e,this.htmlObject),this.drawPointers(e,this.htmlObject,a),this.axisElements.push(this.htmlObject);this.axisElements.forEach(function(e){n.axisObject.appendChild(e)}),this.gauge.svgObject.appendChild(this.axisObject),this.gauge.nearSizes.length!==this.gauge.farSizes.length&&this.gauge.axes.length>1&&this.axisAlign(this.gauge.axes)},i.prototype.axisAlign=function(e){var i,o,n=0,r=0;"Vertical"===this.gauge.orientation?(e.forEach(function(e,t){e.opposedPosition?r+=e.bounds.width:n+=e.bounds.width}),n+=this.gauge.containerBounds.width/2,r+=this.gauge.containerBounds.width/2,i=n/2-r/2,this.axisObject.setAttribute("transform","translate("+i+",0)"),t.isNullOrUndefined(this.gauge.containerObject)||this.gauge.containerObject.setAttribute("transform","translate("+i+",0)")):(e.forEach(function(e,t){e.opposedPosition?r+=e.bounds.height:n+=e.bounds.height}),n+=this.gauge.containerBounds.height/2,r+=this.gauge.containerBounds.height/2,o=n/2-r/2,this.axisObject.setAttribute("transform","translate(0,"+o+")"),t.isNullOrUndefined(this.gauge.containerObject)||this.gauge.containerObject.setAttribute("transform","translate(0,"+o+")"))},i.prototype.drawAxisLine=function(e,t,i){var o,n=e.lineBounds,r="",a=e.line.color||this.gauge.themeStyle.lineColor;e.line.width>0&&(r="M"+n.x+" "+n.y+" L "+("Vertical"===this.gauge.orientation?n.x:n.x+n.width)+" "+("Vertical"===this.gauge.orientation?n.y+n.height:n.y)+"z",o=new Q(this.gauge.element.id+"_AxisLine_"+i,a,e.line.width,a,1,e.line.dashArray,r),t.appendChild(this.gauge.renderer.drawPath(o)))},i.prototype.drawTicks=function(e,t,i,o,n){for(var r,a,s,l="",h=e.visibleRange,u=e.lineBounds,p=e.majorTicks.color||this.gauge.themeStyle.majorTickColor,g=e.minorTicks.color||this.gauge.themeStyle.minorTickColor,c="MajorTicks"===o?p:g,m="MajorTicks"===o?e.majorInterval:e.minorInterval,y=h.min;y<=h.max&&m>0;y+=m)"MajorTicks"!==o&&"MinorTicks"!==o||("Vertical"===this.gauge.orientation?(a=n.x,r=d(y,e,this.gauge.orientation,h)*u.height+u.y,l=l.concat("M"+a+" "+r+" L"+(a+t.height)+" "+r+" ")):(a=d(y,e,this.gauge.orientation,h)*u.width+u.x,r=n.y,l=l.concat("M"+a+" "+r+" L"+a+" "+(r+t.height)+" ")));s=new Q(this.gauge.element.id+"_"+o+"Line_0",c,t.width,c,1,null,l),i.appendChild(this.gauge.renderer.drawPath(s))},i.prototype.drawAxisLabels=function(e,i){for(var o,n,r,a,s,l,h=e.lineBounds,u=e.labelBounds,p=e.majorTickBounds,g=e.visibleRange,c=this.gauge.themeStyle.labelColor,m=e.labelStyle.offset,y=this.gauge.renderer.createGroup({id:this.gauge.element.id+"_AxisLabelsGroup"}),f=0;f<e.visibleLabels.length;f++)r=e.visibleLabels[f].size,l=e.labelStyle.useRangeColor?C(e.visibleLabels[f].value,e.ranges):null,l=t.isNullOrUndefined(l)?e.labelStyle.font.color||c:l,"Vertical"===this.gauge.orientation?(n=d(e.visibleLabels[f].value,e,this.gauge.orientation,g)*h.height+h.y,o="Auto"===e.labelStyle.position?e.opposedPosition?u.x:p.x-r.width-5+m:u.x,n+=r.height/4):(o=d(e.visibleLabels[f].value,e,this.gauge.orientation,g)*h.width+h.x,n=u.y,a="middle",s=""),e.labelStyle.font.fontFamily=this.gauge.themeStyle.labelFontFamily||e.labelStyle.font.fontFamily,b(new K(this.gauge.element.id+"_AxisLabel_"+f,o,n,a,e.visibleLabels[f].text,null,s),e.labelStyle.font,l,y);i.appendChild(y)},i.prototype.drawPointers=function(e,i,o){var n,r,a,s;a=this.gauge.renderer.createGroup({id:this.gauge.element.id+"_PointersGroup"});for(var l=0;l<e.pointers.length;l++)n=e.pointers[l],r="url(#"+this.gauge.element.id+"_AxisIndex_"+o+"__"+n.type+"ClipRect_"+l+")",t.isNullOrUndefined(n.bounds)||(s=this.gauge.renderer.createGroup({id:this.gauge.element.id+"_AxisIndex_"+o+"_"+n.type+"Pointer_"+l,"clip-path":r}),t.isNullOrUndefined(n.startValue)&&(n.startValue=e.visibleRange.min),this["draw"+n.type+"Pointer"](e,o,n,l,s),a.appendChild(s));i.appendChild(a)},i.prototype.drawMarkerPointer=function(e,i,o,n,r){var a,s,l=this.gauge.element.id+"_AxisIndex_"+i+"_"+o.type+"Pointer_"+n;h(l)&&h(l).childElementCount>0&&t.remove(h(l));var u=o.color||this.gauge.themeStyle.pointerColor,p=o.markerType;t.isNullOrUndefined(o.position)||"InvertedTriangle"!==o.markerType&&"Triangle"!==o.markerType||(p=("Outside"===o.position&&!e.opposedPosition||"Inside"===o.position&&e.opposedPosition||"Cross"===o.position)&&"Triangle"===o.markerType?"InvertedTriangle":("Inside"===o.position&&!e.opposedPosition||"Outside"===o.position&&e.opposedPosition)&&"InvertedTriangle"===o.markerType?"Triangle":o.markerType),a=new Q(l,u,o.border.width,o.border.color,o.opacity,null,null,"translate( 0, 0 )"),a=T(o.bounds,p,new Y(o.width,o.height),o.imageUrl,a,this.gauge.orientation,e,o),s="Circle"===o.markerType?this.gauge.renderer.drawCircle(a):"Image"===o.markerType?this.gauge.renderer.drawImage(a):this.gauge.renderer.drawPath(a),r.appendChild(s),o.animationDuration>0&&!this.gauge.gaugeResized&&(o.animationComplete=!1,this.performMarkerAnimation(s,e,o)),s.setAttribute("aria-label",o.description||"Pointer:"+Number(o.currentValue).toString())},i.prototype.drawBarPointer=function(e,i,o,n,r){var a,s,u,p,d,g="",c=new Y(this.gauge.availableSize.width,this.gauge.availableSize.height),m=this.gauge.element.id+"_AxisIndex_"+i+"_"+o.type+"Pointer_"+n;if(h(m)&&h(m).childElementCount>0&&t.remove(h(m)),"Normal"===this.gauge.container.type?(a=new J(m,o.color||this.gauge.themeStyle.pointerColor,o.border,o.opacity,o.bounds,null,null),d=o.bounds,u=this.gauge.renderer.drawRectangle(a)):(g=A(o.bounds,this.gauge.container.type,this.gauge.orientation,new Y(o.bounds.width,o.bounds.height),"bar",this.gauge.container.width,e,o.roundedCornerRadius),p=new Q(m,o.color||this.gauge.themeStyle.pointerColor,o.border.width,o.border.color,o.opacity,null,g),d=l((u=this.gauge.renderer.drawPath(p)).cloneNode(!0),c,this.gauge.element)),h(m)&&h(m).childElementCount>0){var y=h(m).firstElementChild;"Normal"===this.gauge.container.type?(y.setAttribute("x",a.x+""),y.setAttribute("y",a.y+""),y.setAttribute("width",a.width+""),y.setAttribute("height",a.height+"")):y.setAttribute("d",p.d)}else r.appendChild(u);u.setAttribute("aria-label",o.description||"Pointer:"+Number(o.currentValue).toString()),o.animationDuration>0&&!this.gauge.gaugeResized&&("Thermometer"===this.gauge.container.type&&0===o.startValue&&(s=this.gauge.renderer.drawClipPath(new J(this.gauge.element.id+"_AxisIndex_"+i+"__"+o.type+"ClipRect_"+n,"transparent",{width:1,color:"Gray"},1,d)),r.appendChild(s)),this.performBarAnimation(u,e,o))},i.prototype.drawRanges=function(e,i,o){for(var n,r,a=this.gauge.renderer.createGroup({id:this.gauge.element.id+"_RangesGroup"}),s=0;s<e.ranges.length;s++)n=e.ranges[s],t.isNullOrUndefined(n.path)||(r=new Q(this.gauge.element.id+"_AxisIndex_"+o+"_Range_"+s,n.interior,n.border.width,n.border.color,1,null,n.path),a.appendChild(this.gauge.renderer.drawPath(r)));i.appendChild(a)},i}(ie),re=function(){function e(e){this.gauge=e}return e.prototype.renderAnnotationElements=function(){var e=this,i=this.gauge.element.id+"_Secondary_Element",o=t.createElement("div",{id:this.gauge.element.id+"_AnnotationsGroup"});if(o.style.position="absolute",o.style.top="0px",o.style.left="0px",this.gauge.annotations.map(function(t,i){null!==t.content&&e.createAnnotationTemplate(o,i)}),o.childElementCount>0&&!t.isNullOrUndefined(h(i))){h(i).appendChild(o);for(var n=0;n<this.gauge.annotations.length;n++)t.updateBlazorTemplate(this.gauge.element.id+"_ContentTemplate"+n,"ContentTemplate",this.gauge.annotations[n])}},e.prototype.createAnnotationTemplate=function(e,i){var o,n,r,a,s,l,h,u=this,p=!1,c=(this.gauge.element.id,this.gauge.annotations[i]);h=t.createElement("div",{id:this.gauge.element.id+"_Annotation_"+i,styles:"position: absolute; z-index:"+c.zIndex+";"});var m={cancel:!1,name:"annotationRender",content:c.content,annotation:c,textStyle:c.font};if(m.textStyle.color=c.font.color||this.gauge.themeStyle.labelColor,this.gauge.isBlazor){var y=m.cancel,b=m.name,x=m.content,w=m.annotation,P=m.textStyle;m={cancel:y,name:b,content:x,annotation:w,textStyle:P}}this.gauge.trigger("annotationRender",m,function(y){if(!m.cancel){if((r=f(m.content))&&(u.gauge.isBlazor?{}:r(u.gauge,null,null,u.gauge.element.id+"_ContentTemplate"+i).length))for(var b=(a=Array.prototype.slice.call(r(u.gauge.isBlazor?{}:u.gauge,null,null,u.gauge.element.id+"_ContentTemplate"+i))).length,x=0;x<b;x++)h.appendChild(a[x]);else h.appendChild(t.createElement("div",{innerHTML:m.content,styles:g(m.textStyle)}));var w=v(h.cloneNode(!0),u.gauge.element);if(t.isNullOrUndefined(c.axisValue)){var P=u.gauge.element.getBoundingClientRect(),C=u.gauge.svgObject.getBoundingClientRect();switch(p=!0,o=Math.abs(C.left-P.left),n=Math.abs(C.top-P.top),o="None"===c.horizontalAlignment?o+c.x:o,n="None"===c.verticalAlignment?n+c.y:n,c.verticalAlignment){case"Near":n+=c.y;break;case"Center":n=n+c.y+(C.height/2-w.height/2);break;case"Far":n=n+C.height+c.y-w.height}switch(c.horizontalAlignment){case"Near":o+=c.x;break;case"Center":o=o+c.x+(C.width/2-w.width/2);break;case"Far":o=o+C.width+c.x-w.width}}else{l=t.isNullOrUndefined(c.axisIndex)?0:c.axisIndex;var S=(s=u.gauge.axes[l]).visibleRange;p=c.axisValue>=S.min&&c.axisValue<=S.max;var T=s.lineBounds;"Vertical"===u.gauge.orientation?(o=T.x+c.x,n=d(c.axisValue,s,u.gauge.orientation,S)*T.height+T.y,n+=c.y):(o=d(c.axisValue,s,u.gauge.orientation,S)*T.width+T.x,o+=c.x,n=T.y+c.y),o-=w.width/2,n-=w.height/2}h.style.left=o+"px",h.style.top=n+"px",p&&e.appendChild(h)}})},e.prototype.getModuleName=function(){return"Annotations"},e.prototype.destroy=function(e){},e}(),ae=function(){function e(e){this.gauge=e,this.element=e.element,this.tooltip=e.tooltip,this.textStyle=this.tooltip.textStyle,this.borderStyle=this.tooltip.border,this.tooltipId=this.gauge.element.id+"_LinearGauge_Tooltip",this.addEventListener()}return e.prototype.renderTooltip=function(e){var o,n,r=this;-1!==e.type.indexOf("touch")?(this.isTouch=!0,(n=e).changedTouches[0].pageX,n.changedTouches[0].pageY,o=n.target):(this.isTouch="touch"===e.pointerType,e.pageX,e.pageY,o=e.target);var a,s;if(o.id.indexOf("Pointer")>-1){this.pointerElement=o;var l=this.gauge.element.getBoundingClientRect(),h=P(this.pointerElement,this.gauge);this.currentAxis=h.axis,this.axisIndex=h.axisIndex,this.currentPointer=h.pointer;var u=this.tooltip.format&&null!==this.tooltip.format.match("{value}");if(this.tooltip.textStyle.fontFamily=this.gauge.themeStyle.fontFamily||this.tooltip.textStyle.fontFamily,this.tooltip.textStyle.opacity=this.gauge.themeStyle.tooltipTextOpacity||this.tooltip.textStyle.opacity,s=u?c(this.tooltip.format,{value:this.currentPointer.currentValue},this.gauge):m(this.currentPointer.currentValue,this.gauge).toString(),document.getElementById(this.tooltipId)?a=document.getElementById(this.tooltipId):(a=t.createElement("div",{id:this.tooltipId,className:"EJ2-LinearGauge-Tooltip",styles:"position: absolute;pointer-events:none;"}),document.getElementById(this.gauge.element.id+"_Secondary_Element").appendChild(a)),0!==a.childElementCount&&!this.gauge.pointerDrag)return null;var p=this.getTooltipLocation(),d={name:"tooltipRender",cancel:!1,gauge:this.gauge,event:e,location:p,content:s,tooltip:this.tooltip,axis:this.currentAxis,pointer:this.currentPointer},g=this.getTooltipPosition();p.y+=this.tooltip.template&&"Top"===g?20:0,p.x+=this.tooltip.template&&"Right"===g?20:0,this.gauge.trigger("tooltipRender",d,function(e){var t=d.tooltip.template;null!==t&&1===Object.keys(t).length&&(t=t[Object.keys(t)[0]]);r.gauge.theme.toLowerCase();d.cancel||(d.tooltip.properties.textStyle.color=r.tooltip.textStyle.color||r.gauge.themeStyle.tooltipFontColor,r.svgTooltip=new i.Tooltip({enable:!0,header:"",data:{value:d.pointer.currentValue},template:t,content:[d.content],shapes:[],location:d.location,palette:[],inverted:!("Horizontal"===d.gauge.orientation),enableAnimation:d.tooltip.enableAnimation,fill:r.tooltip.fill||r.gauge.themeStyle.tooltipFillColor,availableSize:r.gauge.availableSize,areaBounds:new Z(l.left,"Bottom"===g?p.y:l.top,"Right"===g?Math.abs(l.left-p.x):l.width,l.height),textStyle:d.tooltip.textStyle,border:d.tooltip.border,theme:d.gauge.theme,blazorTemplate:{name:"TooltipTemplate",parent:r.gauge.tooltip}}),r.svgTooltip.opacity=r.gauge.themeStyle.tooltipFillOpacity||r.svgTooltip.opacity,r.svgTooltip.appendTo(a))})}else this.removeTooltip()},e.prototype.getTooltipPosition=function(){return"Vertical"===this.gauge.orientation?this.currentAxis.opposedPosition?"Right":"Left":this.currentAxis.opposedPosition?"Top":"Bottom"},e.prototype.getTooltipLocation=function(){new Y(this.gauge.availableSize.width,this.gauge.availableSize.height);var e,t,i,o,n,r,a,s,l=this.gauge.element.id+"_AxisLine_"+this.axisIndex,u=this.gauge.element.id+"_MajorTicksLine_"+this.axisIndex;h(l)?(t=(s=h(l).getBoundingClientRect()).left,i=s.top):(s=h(u).getBoundingClientRect(),t=this.currentAxis.opposedPosition?s.left:s.left+s.width,i=this.currentAxis.opposedPosition?s.top:s.top+s.height),e=this.pointerElement.getBoundingClientRect();var p=this.gauge.element.getBoundingClientRect();return o=e.left-p.left,n=e.top-p.top,r=e.height,a=e.width,"Vertical"===this.gauge.orientation?(o=t-p.left,n="Marker"===this.currentPointer.type?n+r/2:this.currentAxis.isInversed?n+r:n):(n=i-p.top,o="Marker"===this.currentPointer.type?o+a/2:this.currentAxis.isInversed?o:o+a),new X(o,n)},e.prototype.removeTooltip=function(){document.getElementsByClassName("EJ2-LinearGauge-Tooltip").length>0&&document.getElementsByClassName("EJ2-LinearGauge-Tooltip")[0].remove()},e.prototype.mouseUpHandler=function(e){this.renderTooltip(e),clearTimeout(this.clearTimeout),this.clearTimeout=setTimeout(this.removeTooltip.bind(this),2e3)},e.prototype.addEventListener=function(){this.gauge.isDestroyed||(this.gauge.on(t.Browser.touchMoveEvent,this.renderTooltip,this),this.gauge.on(t.Browser.touchEndEvent,this.mouseUpHandler,this))},e.prototype.removeEventListener=function(){this.gauge.isDestroyed||(this.gauge.off(t.Browser.touchMoveEvent,this.renderTooltip),this.gauge.off(t.Browser.touchEndEvent,this.mouseUpHandler))},e.prototype.getModuleName=function(){return"Tooltip"},e.prototype.destroy=function(e){this.removeEventListener()},e}(),se=function(){function e(e){this.control=e}return e.prototype.print=function(e){var i=this;this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);var o={cancel:!1,htmlContent:this.getHTMLContent(e),name:"beforePrint"};this.control.trigger("beforePrint",o,function(e){o.cancel||t.print(o.htmlContent,i.printWindow)})},e.prototype.getHTMLContent=function(e){var i=t.createElement("div");return e?e instanceof Array?e.forEach(function(e){i.appendChild(h(e).cloneNode(!0))}):e instanceof Element?i.appendChild(e.cloneNode(!0)):i.appendChild(h(e).cloneNode(!0)):i.appendChild(this.control.element.cloneNode(!0)),i},e.prototype.export=function(e,i,n){var r=this,a=t.createElement("canvas",{id:"ej2-canvas",attrs:{width:this.control.availableSize.width.toString(),height:this.control.availableSize.height.toString()}}),s=!(t.Browser.userAgent.toString().indexOf("HeadlessChrome")>-1);n=t.isNullOrUndefined(n)?o.PdfPageOrientation.Landscape:n;var l='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+this.control.svgObject.outerHTML+"</svg>",h=window.URL.createObjectURL(new Blob("SVG"===e?[l]:[(new XMLSerializer).serializeToString(this.control.svgObject)],{type:"image/svg+xml"}));if("SVG"===e)this.triggerDownload(i,e,h,s);else{var u=new Image,p=a.getContext("2d");u.onload=function(){if(p.drawImage(u,0,0),window.URL.revokeObjectURL(h),"PDF"===e){var t=new o.PdfDocument,l=a.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");t.pageSettings.orientation=n,l=l.slice(l.indexOf(",")+1),t.pages.add().graphics.drawImage(new o.PdfBitmap(l),0,0,r.control.availableSize.width-60,r.control.availableSize.height),s&&(t.save(i+".pdf"),t.destroy())}else r.triggerDownload(i,e,a.toDataURL("image/png").replace("image/png","image/octet-stream"),s)},u.src=h}},e.prototype.triggerDownload=function(e,i,o,n){t.createElement("a",{attrs:{download:e+"."+i.toLocaleLowerCase(),href:o}}).dispatchEvent(new MouseEvent(n?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},e}(),le=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),he=function(e,t,i,o){var n,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},ue=function(e){function o(t,i){var o=e.call(this,t,i)||this;return o.pointerDrag=!1,o.mouseX=0,o.mouseY=0,o.gaugeResized=!1,o}return le(o,e),o.prototype.preRender=function(){this.isBlazor=t.isBlazor(),this.unWireEvents(),this.trigger("load",{gauge:this.isBlazor?null:this}),this.initPrivateVariable(),this.setCulture(),this.createSvg(),this.wireEvents()},o.prototype.setTheme=function(){this.themeStyle=B(this.theme)},o.prototype.initPrivateVariable=function(){if(""===this.element.id){var e=document.getElementsByClassName("e-lineargauge").length;this.element.id="lineargauge_control_"+e}this.renderer=new i.SvgRenderer(this.element.id),this.gaugeAxisLayoutPanel=new te(this),this.axisRenderer=new ne(this)},o.prototype.setCulture=function(){this.intl=new t.Internationalization},o.prototype.createSvg=function(){this.removeSvg(),this.calculateSize(),this.svgObject=this.renderer.createSvg({id:this.element.id+"_svg",width:this.availableSize.width,height:this.availableSize.height})},o.prototype.removeSvg=function(){for(var e=0;e<this.annotations.length;e++)t.resetBlazorTemplate(this.element.id+"_ContentTemplate"+e,"ContentTemplate");u(this.element.id+"_Secondary_Element"),t.isNullOrUndefined(this.svgObject)||t.isNullOrUndefined(this.svgObject.parentNode)||t.remove(this.svgObject)},o.prototype.calculateSize=function(){var e=n(this.width,this.element.offsetWidth)||this.element.offsetWidth||600,t=n(this.height,this.element.offsetHeight)||this.element.offsetHeight||450;this.availableSize=new Y(e,t)},o.prototype.render=function(){this.setTheme(),this.renderGaugeElements(),this.calculateBounds(),this.renderAxisElements(),this.renderComplete()},o.prototype.renderGaugeElements=function(){this.appendSecondaryElement(),this.renderBorder(),this.renderTitle(),this.renderContainer()},o.prototype.appendSecondaryElement=function(){if(t.isNullOrUndefined(h(this.element.id+"_Secondary_Element"))){var e=t.createElement("div");e.id=this.element.id+"_Secondary_Element",e.setAttribute("style","position: relative"),this.element.appendChild(e)}},o.prototype.renderArea=function(){var e=r(this.title,this.titleStyle),t=new Z(this.actualRect.x,this.actualRect.y-e.height/2,this.actualRect.width,this.actualRect.height),i=new J(this.element.id+"LinearGaugeBorder",this.background||this.themeStyle.backgroundColor,this.border,1,t);this.svgObject.appendChild(this.renderer.drawRectangle(i))},o.prototype.calculateBounds=function(){this.gaugeAxisLayoutPanel.calculateAxesBounds()},o.prototype.renderAxisElements=function(){this.axisRenderer.renderAxes(),this.element.appendChild(this.svgObject),this.annotationsModule&&this.annotationsModule.renderAnnotationElements(),this.trigger("loaded",{gauge:this.isBlazor?null:this}),u("gauge-measuretext")},o.prototype.renderBorder=function(){var e=this.border.width;if(e>0||this.background||this.themeStyle.backgroundColor){var t=new J(this.element.id+"_LinearGaugeBorder",this.background||this.themeStyle.backgroundColor,this.border,1,new Z(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e),null,null);this.svgObject.appendChild(this.renderer.drawRectangle(t))}},o.prototype.renderTitle=function(){var e,i,o,n,a,s=r(this.title,this.titleStyle),l=new K(this.element.id+"_LinearGaugeTitle",this.availableSize.width/2,this.margin.top+s.height/2,"middle",this.title);if(a={x:l.x-s.width/2,y:l.y,width:s.width,height:s.height},e=this.margin.left,i=t.isNullOrUndefined(a)?this.margin.top:a.y,o=this.availableSize.height-i-this.margin.bottom,n=this.availableSize.width-this.margin.left-this.margin.right,this.actualRect={x:e,y:i,width:n,height:o},this.title){this.titleStyle.fontFamily=this.themeStyle.fontFamily||this.titleStyle.fontFamily,this.titleStyle.size=this.themeStyle.fontSize||this.titleStyle.size;var h=b(l,this.titleStyle,this.titleStyle.color||this.themeStyle.titleFontColor,this.svgObject);h.setAttribute("aria-label",this.description||this.title),h.setAttribute("tabindex",this.tabIndex.toString())}},o.prototype.unWireEvents=function(){t.EventHandler.remove(this.element,t.Browser.touchStartEvent,this.gaugeOnMouseDown),t.EventHandler.remove(this.element,t.Browser.touchMoveEvent,this.mouseMove),t.EventHandler.remove(this.element,t.Browser.touchEndEvent,this.mouseEnd),t.EventHandler.remove(this.element,"contextmenu",this.gaugeRightClick),t.EventHandler.remove(this.element,t.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeave),t.EventHandler.remove(window,t.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.gaugeResize.bind(this))},o.prototype.wireEvents=function(){t.EventHandler.add(this.element,t.Browser.touchStartEvent,this.gaugeOnMouseDown,this),t.EventHandler.add(this.element,t.Browser.touchMoveEvent,this.mouseMove,this),t.EventHandler.add(this.element,t.Browser.touchEndEvent,this.mouseEnd,this),t.EventHandler.add(this.element,"contextmenu",this.gaugeRightClick,this),t.EventHandler.add(this.element,t.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeave,this),t.EventHandler.add(window,t.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.gaugeResize,this),this.setStyle(this.element)},o.prototype.setStyle=function(e){e.style.touchAction=p(this.axes)?"none":"element",e.style.msTouchAction=p(this.axes)?"none":"element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative"},o.prototype.gaugeResize=function(e){var t=this,i={gauge:this.isBlazor?null:this,previousSize:new Y(this.availableSize.width,this.availableSize.height),name:"resized",currentSize:new Y(0,0)};return this.resizeTo&&clearTimeout(this.resizeTo),this.element.classList.contains("e-lineargauge")&&(this.resizeTo=window.setTimeout(function(){t.createSvg(),t.renderGaugeElements(),t.calculateBounds(),t.renderAxisElements(),i.currentSize=new Y(t.availableSize.width,t.availableSize.height),t.trigger("resized",i),t.render()},500)),!1},o.prototype.destroy=function(){this.unWireEvents(),this.removeSvg(),e.prototype.destroy.call(this)},o.prototype.renderContainer=function(){var e,t,i,o,n,r,a,s,l="",h="transparent"!==this.container.backgroundColor||"Bootstrap4"!==this.theme&&"Material"!==this.theme?this.container.backgroundColor:this.themeStyle.containerBackground,u=this.container.width;a=u+u/2/Math.PI,r=u/2,"Vertical"===this.orientation?(t=this.actualRect.height,t=this.container.height>0?this.container.height:2*(t/2-t/2/4),e=this.container.width,t="Thermometer"===this.container.type?t-2*a-r:t,i=this.actualRect.x+(this.actualRect.width/2-this.container.width/2)+this.container.offset,o=this.actualRect.y+(this.actualRect.height/2-("Thermometer"===this.container.type?(t+2*a-r)/2:t/2)),t=t):(e=this.container.height>0?this.container.height:2*(this.actualRect.width/2-this.actualRect.width/2/4),e="Thermometer"===this.container.type?e-2*a-r:e,i=this.actualRect.x+(this.actualRect.width/2-("Thermometer"===this.container.type?(e-2*a+r)/2:e/2)),o=this.actualRect.y+(this.actualRect.height/2-this.container.width/2)+this.container.offset,t=this.container.width),this.containerBounds={x:i,y:o,width:e,height:t},this.containerBounds.width>0&&(this.containerObject=this.renderer.createGroup({id:this.element.id+"_Container_Group",transform:"translate( 0, 0)"}),"Normal"===this.container.type?(s=new J(this.element.id+"_"+this.container.type+"_Layout",h,this.container.border,1,new Z(i,o,e,t)),this.containerObject.appendChild(this.renderer.drawRectangle(s))):(l=A(this.containerBounds,this.container.type,this.orientation,new Y(this.container.height,this.container.width),"container",null,null,this.container.roundedCornerRadius),n=new Q(this.element.id+"_"+this.container.type+"_Layout",h,this.container.border.width,this.container.border.color,1,"",l),this.containerObject.appendChild(this.renderer.drawPath(n))),this.svgObject.appendChild(this.containerObject))},o.prototype.gaugeOnMouseDown=function(e){var i,o=this,n=(e.target,this.element.getBoundingClientRect(),this.getMouseArgs(e,"touchstart","gaugeMouseDown"));return this.trigger("gaugeMouseDown",n,function(e){o.mouseX=n.x,o.mouseY=n.y,n.target&&!n.cancel&&(n.target.id.indexOf("MarkerPointer")>-1||n.target.id.indexOf("BarPointer")>-1)&&(i=o.moveOnPointer(n.target),!t.isNullOrUndefined(i)&&i.pointer&&(o.pointerDrag=!0,o.mouseElement=n.target))}),!0},o.prototype.mouseMove=function(e){var i,o=this,n=this.getMouseArgs(e,"touchmove","gaugeMouseMove");return this.trigger("gaugeMouseMove",n,function(r){o.mouseX=n.x,o.mouseY=n.y,n.target&&!n.cancel&&(n.target.id.indexOf("MarkerPointer")>-1||n.target.id.indexOf("BarPointer")>-1?(i=o.moveOnPointer(n.target),!t.isNullOrUndefined(i)&&i.pointer&&(o.element.style.cursor=i.style)):o.element.style.cursor=o.pointerDrag?o.element.style.cursor:"auto",o.gaugeOnMouseMove(e))}),this.notify(t.Browser.touchMoveEvent,e),!1},o.prototype.moveOnPointer=function(e){var t,i,o,n,r,a,s,l=this.element.getBoundingClientRect(),u=!1,p=h(e.id),d=p;return t=P(e,this),i=t.axis,(o=t.pointer).enableDrag&&("Bar"===o.type?"Vertical"===this.orientation?(n=p.getBoundingClientRect().top-l.top,n=i.isInversed?n+d.getBBox().height:n,u=i.isInversed?this.mouseY<=n&&this.mouseY>n-10:this.mouseY<n+10&&this.mouseY>=n,a="n-resize"):(r=p.getBoundingClientRect().left-l.left,r=i.isInversed?r:r+d.getBBox().width,u=i.isInversed?this.mouseX>=r&&this.mouseX<r+10:this.mouseX>r-10&&this.mouseX<=r,a="e-resize"):(u=!0,a="pointer")),u&&(s={pointer:u,style:a}),s},o.prototype.gaugeRightClick=function(e){return 2!==e.buttons&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)},o.prototype.mouseLeave=function(e){this.getMouseArgs(e,"touchmove","gaugeMouseLeave");return t.isNullOrUndefined(this.mouseElement)||(this.element.style.cursor="",this.mouseElement=null,this.pointerDrag=!1),!1},o.prototype.gaugeOnMouseMove=function(e){var t;return this.pointerDrag&&(t=P(this.mouseElement,this)).pointer.enableDrag&&t.pointer.animationComplete&&this[t.pointer.type.toLowerCase()+"Drag"](t.axis,t.pointer),!0},o.prototype.mouseEnd=function(e){"touch"===e.pointerType||"2"===e.pointerType||e.type;var i=this.getMouseArgs(e,"touchend","gaugeMouseUp");return this.trigger("gaugeMouseUp",i),t.isNullOrUndefined(this.mouseElement)||(this.element.style.cursor="",this.mouseElement=null,this.pointerDrag=!1),this.notify(t.Browser.touchEndEvent,e),!0},o.prototype.print=function(e){new se(this).print(e)},o.prototype.export=function(e,t,i){new se(this).export(e,t,i)},o.prototype.getMouseArgs=function(e,t,i){var o=this.element.getBoundingClientRect(),n=new X(-o.left,-o.top),r=e.type===t;return n.x+=r?e.changedTouches[0].clientX:e.clientX,n.y+=r?e.changedTouches[0].clientY:e.clientY,{cancel:!1,name:i,model:this.isBlazor?null:this,x:n.x,y:n.y,target:e.target}},o.prototype.markerDrag=function(e,t){var i,o=s(this.element,this.mouseElement,this.orientation,e,"drag",new X(this.mouseX,this.mouseY));a(o,null,null,e.visibleRange.max,e.visibleRange.min,"pointer");a(o,null,null,e.visibleRange.max,e.visibleRange.min,"pointer")&&(this.triggerDragEvent(this.mouseElement),i=new Q("pointerID",t.color||this.themeStyle.pointerColor,t.border.width,t.border.color,t.opacity,null,null,""),"Vertical"===this.orientation?t.bounds.y=this.mouseY:t.bounds.x=this.mouseX,t.currentValue=o,i=T(t.bounds,t.markerType,new Y(t.width,t.height),t.imageUrl,i,this.orientation,e,t),"Image"===t.markerType?(this.mouseElement.setAttribute("x",(t.bounds.x-t.bounds.width/2).toString()),this.mouseElement.setAttribute("y",(t.bounds.y-t.bounds.height/2).toString())):this.mouseElement.setAttribute("d",i.d))},o.prototype.barDrag=function(e,t){var i,o,n,r,a=e.lineBounds,s=e.visibleRange,l="Vertical"===this.orientation?a.height:a.width,h="Vertical"===this.orientation?a.y:a.x;i=d(s.min,e,this.orientation,s)*l+h,o=d(s.max,e,this.orientation,s)*l+h,"Vertical"===this.orientation?(n=e.isInversed?this.mouseY>i&&this.mouseY<o:this.mouseY>o&&this.mouseY<i)&&("Normal"===this.container.type?(e.isInversed||this.mouseElement.setAttribute("y",this.mouseY.toString()),this.mouseElement.setAttribute("height",Math.abs(i-this.mouseY).toString())):(e.isInversed||(t.bounds.y=this.mouseY),t.bounds.height=Math.abs(i-this.mouseY))):(n=e.isInversed?this.mouseX>o&&this.mouseX<i:this.mouseX>i&&this.mouseX<o)&&("Normal"===this.container.type?(e.isInversed&&this.mouseElement.setAttribute("x",this.mouseX.toString()),this.mouseElement.setAttribute("width",Math.abs(i-this.mouseX).toString())):(e.isInversed&&(t.bounds.x=this.mouseX),t.bounds.width=Math.abs(i-this.mouseX))),n&&"path"===this.mouseElement.tagName&&(this.triggerDragEvent(this.mouseElement),r=A(t.bounds,this.container.type,this.orientation,new Y(t.bounds.width,t.bounds.height),"bar",this.container.width,e,t.roundedCornerRadius),this.mouseElement.setAttribute("d",r))},o.prototype.triggerDragEvent=function(e){var t=P(this.mouseElement,this),i=s(this.element,this.mouseElement,this.orientation,t.axis,"tooltip",null),o={name:"valueChange",gauge:this.isBlazor?null:this,element:this.mouseElement,axisIndex:t.axisIndex,axis:t.axis,pointerIndex:t.pointerIndex,pointer:t.pointer,value:i};this.trigger("valueChange",o)},o.prototype.setPointerValue=function(e,t,i){var o=this.axes[e],n=o.pointers[t],r=h(this.element.id+"_AxisIndex_"+e+"_"+n.type+"Pointer_"+t);n.currentValue=i,null!==r&&a(n.currentValue,null,null,o.visibleRange.max,o.visibleRange.min,"pointer")&&(this.gaugeAxisLayoutPanel["calculate"+n.type+"Bounds"](e,o,t,n),this.axisRenderer["draw"+n.type+"Pointer"](o,e,n,t,r.parentElement))},o.prototype.setAnnotationValue=function(e,i,o){var n=null===h(this.element.id+"_Annotation_"+e),r=h(this.element.id+"_AnnotationsGroup")||t.createElement("div",{id:this.element.id+"_AnnotationsGroup"}),a=this.annotations[e];null!==i&&(u(this.element.id+"_Annotation_"+e),a.content=i,a.axisValue=o||a.axisValue,this.annotationsModule.createAnnotationTemplate(r,e),n||r.appendChild(h(this.element.id+"_Annotation_"+e)))},o.prototype.requiredModules=function(){var e=[],t=!1;return this.annotations.map(function(e,i){t=null!=e.content}),t&&e.push({member:"Annotations",args:[this,re]}),this.tooltip.enable&&e.push({member:"Tooltip",args:[this,ae]}),e},o.prototype.getPersistData=function(){var e=["loaded"];return this.addOnPersist(e)},o.prototype.getModuleName=function(){return"lineargauge"},o.prototype.onPropertyChanged=function(e,t){for(var i=!1,o=!1,n=0,r=Object.keys(e);n<r.length;n++)switch(r[n]){case"height":case"width":case"margin":this.createSvg(),o=!0;break;case"title":o=""===e.title||""===t.title,i=!(""===e.title||""===t.title);break;case"titleStyle":e.titleStyle&&e.titleStyle.size?o=!0:i=!0;break;case"border":case"background":i=!0;break;case"container":case"axes":case"orientation":o=!0}!o&&i&&(this.removeSvg(),this.renderGaugeElements(),this.renderAxisElements()),o&&(this.createSvg(),this.renderGaugeElements(),this.calculateBounds(),this.renderAxisElements())},he([t.Property(null)],o.prototype,"width",void 0),he([t.Property(null)],o.prototype,"height",void 0),he([t.Property("Vertical")],o.prototype,"orientation",void 0),he([t.Complex({},E)],o.prototype,"margin",void 0),he([t.Complex({color:"",width:0},I)],o.prototype,"border",void 0),he([t.Property(null)],o.prototype,"background",void 0),he([t.Property("")],o.prototype,"title",void 0),he([t.Complex({size:"15px",color:null},O)],o.prototype,"titleStyle",void 0),he([t.Complex({},_)],o.prototype,"container",void 0),he([t.Collection([{}],G)],o.prototype,"axes",void 0),he([t.Complex({},z)],o.prototype,"tooltip",void 0),he([t.Collection([{}],R)],o.prototype,"annotations",void 0),he([t.Property([])],o.prototype,"rangePalettes",void 0),he([t.Property(!1)],o.prototype,"useGroupingSeparator",void 0),he([t.Property(null)],o.prototype,"description",void 0),he([t.Property(1)],o.prototype,"tabIndex",void 0),he([t.Property(null)],o.prototype,"format",void 0),he([t.Property("Material")],o.prototype,"theme",void 0),he([t.Event()],o.prototype,"loaded",void 0),he([t.Event()],o.prototype,"load",void 0),he([t.Event()],o.prototype,"animationComplete",void 0),he([t.Event()],o.prototype,"axisLabelRender",void 0),he([t.Event()],o.prototype,"annotationRender",void 0),he([t.Event()],o.prototype,"tooltipRender",void 0),he([t.Event()],o.prototype,"gaugeMouseMove",void 0),he([t.Event()],o.prototype,"gaugeMouseLeave",void 0),he([t.Event()],o.prototype,"gaugeMouseDown",void 0),he([t.Event()],o.prototype,"gaugeMouseUp",void 0),he([t.Event()],o.prototype,"valueChange",void 0),he([t.Event()],o.prototype,"resized",void 0),he([t.Event()],o.prototype,"beforePrint",void 0),o=he([t.NotifyPropertyChanges],o)}(t.Component);return ue.Inject(ae,re),e.LinearGauge=ue,e.Font=O,e.Margin=E,e.Border=I,e.Annotation=R,e.Container=_,e.TooltipSettings=z,e.Line=j,e.Label=V,e.Range=N,e.Tick=D,e.Pointer=U,e.Axis=G,e.stringToNumber=n,e.measureText=r,e.withInRange=a,e.convertPixelToValue=s,e.getPathToRect=l,e.getElement=h,e.removeElement=u,e.isPointerDrag=p,e.valueToCoefficient=d,e.getFontStyle=g,e.textFormatter=c,e.formatValue=m,e.getLabelFormat=y,e.getTemplateFunction=f,e.getElementOffset=v,e.VisibleRange=W,e.GaugeLocation=X,e.Size=Y,e.Rect=Z,e.CustomizeOption=q,e.PathOption=Q,e.RectOption=J,e.TextOption=K,e.VisibleLabels=$,e.Align=ee,e.textElement=b,e.calculateNiceInterval=x,e.getActualDesiredIntervalsCount=w,e.getPointer=P,e.getRangeColor=C,e.getRangePalette=S,e.calculateShapes=T,e.getBox=A,e.Annotations=re,e.GaugeTooltip=ae,e}({},ej.base,ej.svgbase,ej.pdfexport),this.ejs=ej;

this.ej=this.ej||{},this.ej.maps=function(e,t,i,a,o){"use strict";function n(e,t){return null!==e&&void 0!==e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function l(e){var t=e.element.clientWidth,i=e.element.clientHeight,a=(e.element.parentElement.clientHeight,e.element.parentElement.clientWidth,n(e.element.style.width,t)),o=n(e.element.style.height,t);e.availableSize=new Ke(n(e.width,t)||t||a||600,n(e.height,i)||i||o||(e.isDevice?Math.min(window.innerWidth,window.innerHeight):450))}function r(e){e.renderer=new i.SvgRenderer(e.element.id),l(e),e.svgObject=e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height})}function s(e,t,i){var a=i.getBoundingClientRect(),o=i.ownerDocument.defaultView.pageXOffset,n=i.ownerDocument.defaultView.pageYOffset,l=i.ownerDocument.documentElement.clientTop,r=i.ownerDocument.documentElement.clientLeft,s=a.left+o-r,d=a.top+n-l;return new pt(e-s,t-d)}function d(e){return e*(Math.PI/180)}function p(e){return e*(180/Math.PI)}function h(e,i,a,o,n){var l,r,s,h,c,f,b=new Ke(n.mapAreaRect.width,n.mapAreaRect.height),x=n.baseMapBounds.longitude,S=n.baseMapBounds.latitude,O=d(e),_=d(i),M=n.projectionType,C=n.isTileMap?256*Math.pow(2,1):t.isNullOrUndefined(a)?Math.min(b.width,b.height):Math.min(b.width,b.height)*a;if("Normal"===o.geometryType)l=t.isNullOrUndefined(a)?i:Math.abs((i-x.min)*a),r=t.isNullOrUndefined(a)?e:Math.abs((S.max-e)*a);else if("Geographic"===o.geometryType){switch(M){case"Mercator":var L=new Qe(C/2,C/2);l=L.x+i*(C/360);var P=v(Math.sin(d(e)),-.9999,.9999);r=L.y+.5*Math.log((1+P)/(1-P))*(-C/(2*Math.PI));break;case"Winkel3":c=((s=g(_,O)).x+_/(Math.PI/2))/2,h=(s.y+O)/2;break;case"Miller":c=_,h=1.25*Math.log(Math.tan(Math.PI/4+.4*O));break;case"Eckert3":c=2/(f=Math.sqrt(Math.PI*(4+Math.PI)))*_*(1+Math.sqrt(1-4*O*O/(Math.PI*Math.PI))),h=4/f*O;break;case"AitOff":c=(s=g(_,O)).x,h=s.y;break;case"Eckert5":c=_*(1+Math.cos(O))/Math.sqrt(2+Math.PI),h=2*O/Math.sqrt(2+Math.PI);break;case"Equirectangular":c=_,h=O;break;case"Eckert6":f=(1+Math.PI/2)*Math.sin(O);for(var w=1/0,T=0;T<10&&Math.abs(w)>1e-6;T++)O-=w=(O+Math.sin(O)-f)/(1+Math.cos(O));f=Math.sqrt(2+Math.PI),c=_*(1+Math.cos(O))/f,h=2*O/f}l="Mercator"===M?l:y(m(n,p(c)),3),r="Mercator"===M?r:-y(u(n,p(h)),3)}return new Qe(l,r)}function c(e,t,i,a){var o=256*Math.pow(2,t),n=(e.x+180)/360,l=Math.sin(e.y*Math.PI/180),r=.5-Math.log((1+l)/(1-l))/(4*Math.PI),s=e.x,d=e.y;return a&&(s=n*o+.5+i.x,d=r*o+.5+i.y),{x:s,y:d}}function m(e,i){var a=e.baseMapBounds.longitude,o=t.isNullOrUndefined(e.baseSize)?e.mapAreaRect.width:e.mapAreaRect.width+Math.abs(e.baseSize.width-e.mapAreaRect.width)/2;return Math.round(o*(i-a.min)/(a.max-a.min)*100)/100}function u(e,t){var i=e.baseMapBounds.latitude;return Math.round(e.mapAreaRect.height*(t-i.min)/(i.max-i.min)*100)/100}function g(e,t){var i=Math.cos(t),a=f(b(i*Math.cos(e/=2)));return new Qe(2*i*Math.sin(e)*a,Math.sin(t)*a)}function y(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}function f(e){return e/Math.sin(e)}function b(e){return Math.acos(e)}function v(e,i,a){return t.isNullOrUndefined(i)||(e=Math.max(e,i)),t.isNullOrUndefined(a)||(e=Math.min(e,a)),e}function x(e,i){var a=document.getElementById("mapsmeasuretext");return null===a&&(a=t.createElement("text",{id:"mapsmeasuretext"}),document.body.appendChild(a)),a.innerHTML=e,a.style.position="absolute",a.style.fontSize=i.size,a.style.fontWeight=i.fontWeight,a.style.fontStyle=i.fontStyle,a.style.fontFamily=i.fontFamily,a.style.visibility="hidden",a.style.top="-100",a.style.left="0",a.style.whiteSpace="nowrap",a.style.lineHeight="normal",new Ke(a.clientWidth,a.clientHeight)}function S(e,t,a,o,n){void 0===n&&(n=!1);var l,r,s={id:e.id,x:e.x,y:e.y,fill:a,"font-size":t.size,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine},d="string"==typeof e.text?e.text:n?e.text[e.text.length-1]:e.text[0],p=new i.SvgRenderer(""),h=p.createText(s,d);if(h.style["user-select"]="none",h.style["-moz-user-select"]="none",h.style["-webkit-touch-callout"]="none",h.style["-webkit-user-select"]="none",h.style["-khtml-user-select"]="none",h.style["-ms-user-select"]="none",h.style["-o-user-select"]="none","string"!=typeof e.text&&e.text.length>1)for(var c=1,m=e.text.length;c<m;c++)r=x(e.text[c],t).height,l=p.createTSpan({x:e.x,id:e.id,y:e.y+(n?-c*r:c*r)},n?e.text[e.text.length-(c+1)]:e.text[c]),h.appendChild(l);return o.appendChild(h),h}function O(e,i,a,o,n){for(var l=t.createElement("div",{id:i,styles:"position: absolute;pointer-events: auto;"}),r=e.length;r>0;)l.appendChild(e[0]),r--;for(var s=l.innerHTML,d=Object.keys(a),p=0;p<d.length;p++)"object"==typeof a[d[p]]?s=M(s,"",a,n):"latitude"!==d[p].toLowerCase()&&"longitude"!==d[p].toLowerCase()&&(s=s.replace(new RegExp("{{:"+d[p]+"}}","g"),a[d[p].toString()]));return l.innerHTML=s,l}function _(e,t){return t.format&&!isNaN(Number(e))?t.intl.getNumberFormat({format:t.format,useGrouping:t.useGroupingSeparator})(Number(e)):e}function M(e,t,i,a){for(var o=""===e?t:e,n=""===e?o.split("${"):o.split("{{:"),l=0;l<n.length;l++)if(n[l].indexOf("}}")>-1&&n[l].indexOf(".")>-1||n[l].indexOf("}")>-1&&n[l].search(".")>-1)for(var r=""===e?n[l].split("}"):n[l].split("}}"),s=0;s<r.length;s++)if(r[s].indexOf(".")>-1){var d=P(i,r[s]).toString();o=""===e?o.split("${"+r[s]+"}").join(_(d,a)):o.replace(new RegExp("{{:"+r[s]+"}}","g"),d)}return o}function C(e,i,a,o,n){for(var l=(t.isNullOrUndefined(e.childElementCount)?e[0]:e).outerHTML,r=Object.keys(a),s=0;s<r.length;s++)l=l.replace(new RegExp("{{:"+r[s]+"}}","g"),a[r[s].toString()]);return t.createElement("div",{id:i,innerHTML:l,styles:"position: absolute"})}function L(e,i,a,o,n,l,r){var s,d,p,h,c,m,u=n.size,g=n.borderColor,y=parseFloat(n.borderWidth),f=n.fill,b=n.dashArray,v={color:g,width:y},x=n.opacity;if(c=new it(o,f,y,g,x,b,""),"Circle"===e){var S=(u.width+u.height)/4;h=new nt(o,f,v,x,a.x,a.y,S,b),s=r.renderer.drawCircle(h)}else"Rectangle"===e?(d=a.x-u.width/2,p=a.y-u.height/2,m=new ot(o,f,v,x,new ht(d,p,u.width,u.height),null,null,"",b),s=r.renderer.drawRectangle(m)):"Image"===e?(d=a.x-u.width/2,p=a.y-u.height,t.merge(c,{href:i,height:u.height,width:u.width,x:d,y:p}),s=r.renderer.drawImage(c)):s=V(r,e,c,u,a,l);return s}function P(e,i){if(!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(i)){var a=i.replace(/\[/g,".").replace(/\]/g,"").split(".");if(1===a.length)e=e[a[0]];else for(var o=0;o<a.length&&!t.isNullOrUndefined(e);o++)e=e[a[o]]}return e}function w(e,i){var a=t.isNullOrUndefined(e.colorValuePath)?i[e.colorValuePath]:e.colorValuePath.indexOf(".")>-1?P(i,e.colorValuePath).toString():i[e.colorValuePath];return e.fill=t.isNullOrUndefined(e.colorValuePath)||t.isNullOrUndefined(a)?e.fill:e.colorValuePath.indexOf(".")>-1?P(i,e.colorValuePath).toString():i[e.colorValuePath],e}function T(e,i){if(t.isNullOrUndefined(e.shapeValuePath)||t.isNullOrUndefined(i[e.shapeValuePath])){var a=t.isNullOrUndefined(e.shapeValuePath)?e.shape:e.shapeValuePath.indexOf(".")>-1?P(i,e.shapeValuePath).toString():e.shape;e.shape=a;var o=t.isNullOrUndefined(e.imageUrlValuePath)?e.imageUrl:e.imageUrlValuePath.indexOf(".")>-1?P(i,e.imageUrlValuePath).toString():e.imageUrl;e.imageUrl=o}else{var n=e.shapeValuePath.indexOf(".")>-1?P(i,e.shapeValuePath).toString():i[e.shapeValuePath];e.shape=n,"Image"==i[e.shapeValuePath]&&(e.imageUrl=t.isNullOrUndefined(e.imageUrlValuePath)||t.isNullOrUndefined(i[e.imageUrlValuePath])?e.imageUrl:e.imageUrlValuePath.indexOf(".")>-1?P(i,e.imageUrlValuePath).toString():i[e.imageUrlValuePath])}return e}function I(e,i,a,o,n,l,r,s){var d,p,h,c,m,u,g,y=[],f=[],b=0,v=0,x=e.markerClusterSettings.labelStyle,O=0,_=[],M=e.markerClusterSettings,C=a.renderer.createGroup({id:a.element.id+"_LayerIndex_"+o+"_markerCluster"}),P={cancel:!1,name:Qt,fill:M.fill,height:M.height,width:M.width,imageUrl:M.imageUrl,shape:M.shape,data:void 0,maps:a,cluster:M,border:M.border};if(t.isBlazor()){P.data,P.maps,P.cluster;var w=Je(P,["data","maps","cluster"]);P=w}a.trigger("markerClusterRendering",P,function(M){for(var w=0;w<i.childElementCount;w++)if(_=[],"hidden"!==i.childNodes[w].style.visibility){if(g=i.childNodes[w],d=g.getBoundingClientRect(),!t.isNullOrUndefined(d)){for(var T=w+1;T<i.childElementCount;T++)"hidden"!==i.childNodes[T].style.visibility&&(g=i.childNodes[T],p=g.getBoundingClientRect(),t.isNullOrUndefined(p)||d.left>p.right||d.right<p.left||d.top>p.bottom||d.bottom<p.top||(y.push(p),i.childNodes[T].style.visibility="hidden",_.push(T)));if(b=d.left+d.width/2,v=d.top+d.height,_.push(w),y.length>0){_=_.filter(function(e,t,i){return i.indexOf(e)===t});var I=a.element.getBoundingClientRect();b-=I.left,v-=I.top;var N=a.isTileMap?new Object:pe(a,e,!1),k=a.isTileMap?{x:0,y:0}:0!==a.translatePoint.x?a.translatePoint:N.location,E=parseInt(i.childNodes[w].id.split("_dataIndex_")[1].split("_")[0],10),z=parseInt(i.childNodes[w].id.split("_MarkerIndex_")[1].split("_")[0],10);i.childNodes[w].style.visibility="hidden";var j=e.markerClusterSettings;P.cancel?((u={size:new Ke(j.width,j.height),fill:j.fill,borderColor:j.border.color,borderWidth:j.border.width,opacity:j.opacity,dashArray:j.dashArray}).fill=j.fill,u.size.width=j.width,u.size.height=j.height,u.imageUrl=j.imageUrl,u.shape=j.shape,u.borderColor=j.border.color,u.borderWidth=j.border.width):((u={size:new Ke(j.width,j.height),fill:j.fill,borderColor:j.border.color,borderWidth:j.border.width,opacity:j.opacity,dashArray:j.dashArray}).fill=P.fill,u.size.width=P.width,u.size.height=P.height,u.imageUrl=P.imageUrl,u.shape=P.shape,u.borderColor=P.border.color,u.borderWidth=P.border.width),b=a.isTileMap?b:i.id.indexOf("_Markers_Group")>-1?b:(b+k.x)*a.mapScaleValue,v=a.isTileMap?v:i.id.indexOf("_Markers_Group")>-1?v:(v+k.y)*a.mapScaleValue;var A=a.element.id+"_LayerIndex_"+o+"_MarkerIndex_"+z+"_dataIndex_"+E+"_cluster_"+O,B=a.element.id+"_LayerIndex_"+o+"_MarkerIndex_"+z+"_dataIndex_"+E+"_cluster_"+O+"_datalabel_"+O;O++;var F="Image"===u.shape?u.size.height/2:0,R=L(u.shape,u.imageUrl,{x:0,y:F},A,u,n,a);R.setAttribute("transform","translate( "+b+" "+v+" )"),"Balloon"===P.shape?R.children[0].innerHTML=_.toString():R.innerHTML=_.toString(),h=new tt(B,0,3.75,"middle",(y.length+1).toString(),"",""),(c=S(h,x,x.color,n)).setAttribute("transform","translate( "+b+" "+v+" )"),C.appendChild(c),C.appendChild(R)}}y=[]}l.appendChild(C),a.svgObject.appendChild(l),a.element.appendChild(a.svgObject);for(var U=0;U<C.childElementCount;U++)if("hidden"!==C.childNodes[U].style.visibility&&(g=C.childNodes[U],d=g.getBoundingClientRect(),!(t.isNullOrUndefined(d)||g.id.indexOf("_datalabel_")>-1))){for(var Z=U+1;Z<C.childElementCount;Z++)"hidden"!==C.childNodes[Z].style.visibility&&(m=C.childNodes[Z],p=m.getBoundingClientRect(),t.isNullOrUndefined(p)||m.id.indexOf("_datalabel_")>-1||d.left>p.right||d.right<p.left||d.top>p.bottom||d.bottom<p.top||(f.push(m),f.push(C.childNodes[Z-1]),C.childNodes[Z].style.visibility="hidden",C.childNodes[Z-1].style.visibility="hidden",_.push(Z)));if(f.length>0){g=C.childNodes[U];for(var D=0;D<f.length;D++)"g"===g.tagName?g.childNodes[0].textContent=g.childNodes[0].textContent+","+f[D].textContent:g.textContent=g.textContent+","+f[D].textContent,C.childNodes[U-1].textContent=(+C.childNodes[U-1].textContent+ +f[D+1].textContent).toString(),D++}f=[]}for(;0<C.childNodes.length;)n.insertBefore(C.childNodes[0],n.firstChild);r?l.appendChild(n):(me(a.element.id+"_Secondary_Element").appendChild(n),l.appendChild(n)),document.getElementById(a.element.id+"_LayerIndex_0_markerCluster").remove(),s&&document.getElementById(a.element.id+"_Layer_Collections").appendChild(l)})}function N(e,t,i){var a=e[0].layerIndex,o=e[0].targetClusterIndex,n=e[0].markerIndex,l=e[0].isClusterSame?e[0].data[0].index:e[0].data[e[0].data.length-1].index,r=t.element.id+"_LayerIndex_"+a+"_MarkerIndex_"+n,s=r+"_dataIndex_"+l+"_cluster_"+o,d=ye(s),p=ye(s+"_datalabel_"+o);d.setAttribute("visibility","visible"),p.setAttribute("visibility","visible");for(var h=e[0].data.length,c=0;c<h;c++)ye(r+"_dataIndex_"+e[0].data[c].index).style.visibility="hidden";se(t.element.id+"_LayerIndex_"+a+"_MarkerIndex_"+n+"_markerClusterConnectorLine")}function k(e,t,i,a){var o=e[0].layerIndex,n=e[0].markerIndex,l=e[0].targetClusterIndex,r=e[0].isClusterSame?e[0].data[0].index:e[0].data[e[0].data.length-1].index,s=a?ye:i.querySelector.bind(i),d=a?"":"#",p=t.element.id+"_LayerIndex_"+o+"_MarkerIndex_"+n,h=p+"_dataIndex_"+r+"_cluster_"+l,c=s(d+""+h),m=s(d+""+h+"_datalabel_"+l);c.setAttribute("visibility","hidden"),m.setAttribute("visibility","hidden");var u=t.layers[o].markerSettings[n],g=s(d+""+p+"_dataIndex_"+r),y=u.height,f=u.width,b=+c.getAttribute("transform").split("translate(")[1].trim().split(" ")[0],v=+c.getAttribute("transform").split("translate(")[1].trim().split(" ")[1].split(")")[0].trim(),x=f+5,S=6.28*x,O=0,_=Math.round(S/f);O+=_;for(var M=e[0].data.length,C=Math.round(y/S*100),L=(C=M<_?100/M:C)/100*360,P=M<_?45:0,w=1,T="M "+b+" "+v+" ",I="",N=0;N<M;N++){if(O===N||Math.round(P)>=360){for(P=0,S=6.28*(x=(f+5)*++w),_=Math.round(S/y),C=Math.round(y/S*100);C*_<100;)_++;L=C/100*360,O+=_}var k=b+x*Math.sin(2*Math.PI*P/360),E=v+x*Math.cos(2*Math.PI*P/360);I+=T+"L "+k+" "+E+" ",(g=s(d+""+p+"_dataIndex_"+e[0].data[N].index)).setAttribute("transform","translate( "+k+" "+E+")"),g.style.visibility="visible",P+=L}var z,j=t.layers[o].markerClusterSettings.connectorLineSettings;z={d:I,id:t.element.id+"_LayerIndex_"+o+"_MarkerIndex_"+n+"_dataIndex_"+r+"_markerClusterConnectorLine",stroke:j.color,opacity:j.opacity,"stroke-width":j.width},i=a?s(t.element.id+"_Markers_Group"):i;var A=t.renderer.createGroup({id:t.element.id+"_LayerIndex_"+o+"_MarkerIndex_"+n+"_markerClusterConnectorLine"});A.appendChild(t.renderer.drawPath(z)),i.insertBefore(A,i.querySelector("#"+p+"_dataIndex_0"))}function E(e,t,i,a,o,n,l,r,s,d,p){var h={size:new Ke(e.width,e.height),fill:e.fill,borderColor:e.border.color,borderWidth:e.border.width,opacity:t.opacity,dashArray:t.dashArray},c=L(e.shape,e.imageUrl,{x:0,y:0},l,h,p,d),m=(d.isTileMap?o.x:(o.x+n.x)*s)+r.x,u=(d.isTileMap?o.y:(o.y+n.y)*s)+r.y;c.setAttribute("transform","translate( "+m+" "+u+" )"),j(d.selectedMarkerElementId,d.markerSelectionClass,c,"MarkerselectionMapStyle"),p.appendChild(c);var g=i.length-1===a?"marker":null,y=new Qe(m,u);return t.animationDuration>0&&Le(c,t.animationDelay,t.animationDuration,y,d,g),p}function z(e,t,i,a,o,n,l,r,s,d){if((t=ge(e.template))&&(d.isBlazor?{}:t(a,null,null,d.element.id+"_MarkerTemplate"+o,!1).length)){for(var p=O(t(a,null,null,d.element.id+"_MarkerTemplate"+o,!1),i,a,o,d),h=0;h<p.children.length;h++)p.children[h].style.pointerEvents="none";if(p.style.left=(d.isTileMap?l.x:Math.abs(d.baseMapRectBounds.min.x-l.x)*r)+s.x+"px",p.style.top=(d.isTileMap?l.y:Math.abs(d.baseMapRectBounds.min.y-l.y)*r)+s.y+"px",n.appendChild(p),"GoogleStaticMap"===d.layers[d.baseLayerIndex].layerType){var c=me(d.element.id+"_StaticGoogleMap").getBoundingClientRect(),m=p.getBoundingClientRect();(c.x>m.x||c.x+640<m.x+m.width)&&(c.y>m.y||c.y+c.height<m.y+m.height)&&(p.style.display="none")}}return n}function j(e,i,a,o){if(e)for(var n=0;n<e.length;n++)a.getAttribute("id")===e[n]&&((t.isNullOrUndefined(ye(i.id))||0===n)&&(document.body.appendChild(i),a.id.indexOf("_MarkerIndex_")>-1&&a.childElementCount>0&&a.children[0].setAttribute("class",o)),a.setAttribute("class",o))}function A(e,i,a,o,n,l,r){if(!ye(e)){var s=void 0;s=t.createElement("style",{id:e,innerHTML:"."+i+"{fill:"+a+";opacity:"+o+";stroke-width:"+l+";stroke:"+n+";}"}),r.shapeSelectionClass=s,document.body.appendChild(s)}}function B(e,t){return t&&t.appendChild(e),e}function F(e,t,i){return B(e.renderer.drawCircle(t),i)}function R(e,t,i){return B(e.renderer.drawRectangle(t),i)}function U(e,t,i){return B(e.renderer.drawPath(t),i)}function Z(e,t,i){return B(e.renderer.drawPolygon(t),i)}function D(e,t,i){return B(e.renderer.drawPolyline(t),i)}function H(e,t,i){return B(e.renderer.drawLine(t),i)}function V(e,t,i,a,o,n){var l;switch(t){case"Balloon":l=K(e,i,a,o,n);break;case"Cross":i.d="M "+o.x+" "+(o.y-a.height/2)+" L "+o.x+" "+(o.y+a.height/2)+" M "+(o.x-a.width/2)+" "+o.y+" L "+(o.x+a.width/2)+" "+o.y;break;case"Diamond":i.d="M "+o.x+" "+(o.y-a.height/2)+" L "+(o.x+a.width/2)+" "+o.y+" L "+o.x+" "+(o.y+a.height/2)+" L "+(o.x-a.width/2)+" "+o.y+" Z";break;case"Star":i.d="M "+(o.x+a.width/3)+" "+(o.y-a.height/2)+" L "+(o.x-a.width/2)+" "+(o.y+a.height/6)+" L "+(o.x+a.width/2)+" "+(o.y+a.height/6)+" L "+(o.x-a.width/3)+" "+(o.y-a.height/2)+" L "+o.x+" "+(o.y+a.height/2)+" L "+(o.x+a.width/3)+" "+(o.y-a.height/2)+" Z";break;case"Triangle":i.d="M "+o.x+" "+(o.y-a.height/2)+" L "+(o.x+a.width/2)+" "+(o.y+a.height/2)+" L "+(o.x-a.width/2)+" "+(o.y+a.height/2)+" Z";break;case"HorizontalLine":i.d=" M "+(o.x-a.width/2)+" "+o.y+" L "+(o.x+a.width/2)+" "+o.y;break;case"VerticalLine":i.d="M "+o.x+" "+(o.y-a.height/2)+" L "+o.x+" "+(o.y+a.height/2);break;case"InvertedTriangle":i.d="M "+(o.x-a.width/2)+" "+(o.y-a.height/2)+" L "+(o.x+a.width/2)+" "+(o.y-a.height/2)+" L "+o.x+" "+(o.y+a.height/2)+" Z";break;case"Pentagon":for(var r=void 0,s=void 0,d=0;d<5;d++)r=a.width/2*Math.cos(Math.PI/180*(72*d)),s=a.height/2*Math.sin(Math.PI/180*(72*d)),i.d+=(0==d?"M ":"L ")+(o.x+r)+" "+(o.y+s);i.d+=" Z"}return"Cross"!==t&&"HorizontalLine"!==t&&"VerticalLine"!==t||(i.stroke="transparent"===i.stroke?i.fill:i.stroke),"Balloon"===t?l:e.renderer.drawPath(i)}function G(e,t,i,a,o){return t.d="M "+a.x+" "+(a.y-i.height/2)+" L "+(a.x+i.width/2)+" "+a.y+" L "+a.x+" "+(a.y+i.height/2)+" L "+(a.x-i.width/2)+" "+a.y+" Z",B(e.renderer.drawPath(t),o)}function W(e,t,i,a,o){return t.d="M "+a.x+" "+(a.y-i.height/2)+" L "+(a.x+i.width/2)+" "+(a.y+i.height/2)+" L "+(a.x-i.width/2)+" "+(a.y+i.height/2)+" Z",B(e.renderer.drawPath(t),o)}function q(e,t,i,a,o){return t.d="M "+a.x+" "+(a.y-i.height/2)+" L "+a.x+" "+(a.y+i.height/2)+" M "+(a.x-i.width/2)+" "+a.y+" L "+(a.x+i.width/2)+" "+a.y,B(e.renderer.drawPath(t),o)}function X(e,t,i,a,o){return t.d=" M "+(a.x-i.width/2)+" "+a.y+" L "+(a.x+i.width/2)+" "+a.y,B(e.renderer.drawPath(t),o)}function Y(e,t,i,a,o){return t.d="M "+a.x+" "+(a.y-i.height/2)+" L "+a.x+" "+(a.y+i.height/2),B(e.renderer.drawPath(t),o)}function J(e,t,i,a,o){return t.d="M "+(a.x+i.width/3)+" "+(a.y-i.height/2)+" L "+(a.x-i.width/2)+" "+(a.y+i.height/6)+" L "+(a.x+i.width/2)+" "+(a.y+i.height/6)+" L "+(a.x-i.width/3)+" "+(a.y-i.height/2)+" L "+a.x+" "+(a.y+i.height/2)+" L "+(a.x+i.width/3)+" "+(a.y-i.height/2)+" Z",B(e.renderer.drawPath(t),o)}function K(e,t,i,a,o){var n=i.width,l=i.height;a.x-=n/2,a.y-=l,t.d="M15,0C8.8,0,3.8,5,3.8,11.2C3.8,17.5,9.4,24.4,15,30c5.6-5.6,11.2-12.5,11.2-18.8C26.2,5,21.2,0,15,0z M15,16c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S17.8,16,15,16z";var r=e.renderer.drawPath(t),s=i.width/30,d=i.height/30;r.setAttribute("transform","translate("+a.x+", "+a.y+") scale("+s+", "+d+")");var p=e.renderer.createGroup({id:t.id});return B(r,p),B(p,o)}function Q(e,t,i,a){for(var o=e.renderer.createPattern(t,"pattern"),n=0,l=i;n<l.length;n++)B(l[n],o);return B(o,a)}function $(e,t){for(var i,a=[],o=0,n=e;o<n.length;o++){var l=n[o];i={};for(var r=0,s=t;r<s.length;r++){var d=s[r];l[d]&&(i[d]=l[d])}a.push(i)}return a}function ee(e,i,a,o,n){if(!t.isNullOrUndefined(i))for(var l=0;l<e.length;l++){var r=a.indexOf(".")>-1?P(e[l],a):e[l][a],s=te(r,o,i);if((!t.isNullOrUndefined(r)&&isNaN(i[s])?r.toLowerCase():r)===(!t.isNullOrUndefined(i[s])&&isNaN(i[s])?i[s].toLowerCase():i[s]))return l}return null}function te(e,i,a){if(!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(a)&&!t.isNullOrUndefined(i))for(var o="[object Array]"===Object.prototype.toString.call(i)?i:[i],n=0;n<o.length;n++)if((t.isNullOrUndefined(e)?e:e.toLowerCase())===(!t.isNullOrUndefined(a[o[n]])&&isNaN(a[o[n]])?a[o[n]].toLowerCase():a[o[n]]))return o[n];return null}function ie(e,t,i){for(var a=[],o=0;o<e.length;o++){var n=e[o];t<=n.y&&i>=n.y&&a.push(n)}return a}function ae(e,t,i,a,o){var n=(t-e)/100*(100/(o-a)*(i-a))+e;return o===a&&(n=(t-e)/100+e),n}function oe(e,t){if(!e.length)return null;for(var i,a,o,n,l=e.length,r=0,s=0,d=0,p=0;p<=l-1;p++)i=e[p].x,a="Mercator"===t?e[p].y:-e[p].y,p===l-1?(o=e[0].x,n="Mercator"===t?e[0].y:-e[0].y):(o=e[p+1].x,n="Mercator"===t?e[p+1].y:-e[p+1].y),r+=Math.abs(i*n-o*a),s+=Math.abs((i+o)*(i*n-o*a)),d+=Math.abs((a+n)*(i*n-o*a));s*=1/(4*(r*=.5)),d*=1/(4*r);for(var h={x:0,y:0},c={x:0,y:0},m={x:0,y:0},u={x:0,y:0},g={x:0,y:0},y={x:0,y:0},f={x:0,y:0},b={x:0,y:0},v=0,p=0;p<=l-1;p++){var x=e[p];x.y="Mercator"===t?x.y:-x.y,x.y>d?x.x<s&&s-x.x<s-g.x?g={x:x.x,y:x.y}:x.x>s&&(0===y.x||x.x-s<y.x-s)&&(y={x:x.x,y:x.y}):x.x<s&&s-x.x<s-f.x?f={x:x.x,y:x.y}:x.x>s&&(0===b.x||x.x-s<b.x-s)&&(b={x:x.x,y:x.y}),v=y.y-b.y+(y.y-b.y)/4,x.x>s?x.y<d&&d-x.y<d-h.y?h={x:x.x,y:x.y}:x.y>d&&(0===c.y||x.y-d<c.y-d)&&(c={x:x.x,y:x.y}):x.y<d&&d-x.y<d-m.y?m={x:x.x,y:x.y}:x.y>d&&(0===u.y||x.y-d<u.y-d)&&(u={x:x.x,y:x.y})}return{x:s,y:d,rightMin:h,rightMax:c,leftMin:m,leftMax:u,points:e,topMax:b,topMin:f,bottomMax:y,bottomMin:g,height:v}}function ne(e){var i=!1;return"[object Array]"===Object.prototype.toString.call(e)&&Array.prototype.forEach.call(e,function(e,a){t.isNullOrUndefined(e.geometry)||"Path"!==e.geometry.type||(i=!0)}),i}function le(e,t,i){var a=t,o=x(t,i).width;if(o>e)for(var n=t.length-1;n>=0;--n)if(a=t.substring(0,n)+"...",(o=x(a,i).width)<=e||a.length<4)return a.length<4&&(a=" "),a;return a}function re(e,t,i,a){var o,n;switch(t){case"Near":o=e.x;break;case"Center":o="title"===a?e.width/2-i.width/2:e.x+e.width/2-i.width/2;break;case"Far":o="title"===a?e.width-e.y-i.width:e.x+e.width-i.width}return n="title"===a?e.y+i.height/2:e.y+e.height/2+i.height/2,new Qe(o,n)}function se(e){var i=document.getElementById(e);return i?t.remove(i):null}function de(e,t){var i=h(e.minLatOfGivenLocation,e.minLongOfGivenLocation,e.mapLayerPanel.calculateFactor(t),t,e),a=h(e.maxLatOfGivenLocation,e.maxLongOfGivenLocation,e.mapLayerPanel.calculateFactor(t),t,e),o=(i.x+a.x)/2,n=(i.y+a.y)/2;return new Qe(o,n)}function pe(e,i,a){var o,n=e.zoomSettings.zoomFactor,l=e.centerPosition,r=l.latitude,s=l.longitude,d=!t.isNullOrUndefined(e.centerLatOfGivenLocation)&&!t.isNullOrUndefined(e.centerLongOfGivenLocation)&&e.zoomNotApplied;t.isNullOrUndefined(e.mapScaleValue)&&(e.mapScaleValue=n),e.zoomSettings.shouldZoomInitially&&e.zoomSettings.enable&&(e.mapScaleValue=o=n=(e.zoomSettings.shouldZoomInitially||e.enablePersistence)&&1==e.scale?e.scale:t.isNullOrUndefined(e.markerZoomFactor)?1:e.markerZoomFactor,e.mapScaleValue===e.markerZoomFactor||e.enablePersistence||(e.mapScaleValue=n=e.markerZoomFactor),t.isNullOrUndefined(e.markerCenterLatitude)||t.isNullOrUndefined(e.markerCenterLongitude)||(r=e.markerCenterLatitude,s=e.markerCenterLongitude)),d&&(e.mapScaleValue=o=n=e.scaleOfGivenLocation);var p=e.baseMapRectBounds.min,c=e.baseMapRectBounds.max,m=a?1:e.mapScaleValue;t.isNullOrUndefined(e.currentShapeDataLength)&&(e.currentShapeDataLength=t.isNullOrUndefined(i.shapeData.features)?i.shapeData.geometries.length:i.shapeData.features.length);var u,g,y=e.totalRect&&e.legendSettings.visible?e.totalRect:e.mapAreaRect,f=e.availableSize,b=Math.abs(c.x-p.x),v=Math.abs(p.y-c.y),x=a?1:1===e.markerZoomFactor?e.mapScaleValue:n;if(l=e.zoomSettings.shouldZoomInitially&&e.markerZoomedState&&!e.zoomPersistence?e.markerZoomCenterPoint:e.centerPosition,!t.isNullOrUndefined(s)&&!t.isNullOrUndefined(r)||d){var S=((b+Math.abs(e.mapAreaRect.width-b))/2+e.mapAreaRect.x)/x,O=((v+Math.abs(e.mapAreaRect.height-v))/2+e.mapAreaRect.y)/x,_=d?de(e,i):h(r,s,e.mapLayerPanel.calculateFactor(i),i,e);t.isNullOrUndefined(e.previousProjection)||e.previousProjection!==e.projectionType?(u=-_.x+S,g=-_.y+O,o=m):(1!==Math.floor(e.scale)&&e.zoomSettings.shouldZoomInitially||e.zoomNotApplied?(u=-_.x+S,g=-_.y+O):e.zoomSettings.shouldZoomInitially||e.zoomNotApplied?(u=-_.x+S,g=-_.y+O,o=m):(u=e.zoomTranslatePoint.x,g=e.zoomTranslatePoint.y),o=e.mapScaleValue)}else if(t.isNullOrUndefined(e.previousProjection)||e.previousProjection!==e.projectionType){b*=o=parseFloat(Math.min(y.width/b,y.height/v).toFixed(2)),v*=o;var M=0!==p.x&&"layers"===e.translateType?f.width-y.width:0;u=y.x+(-p.x+(y.width/2-b/2))-M,g=y.y+(-p.y+(y.height/2-v/2)),e.previousTranslate=new Qe(u,g)}else if(e.zoomSettings.shouldZoomInitially||1!==e.markerZoomFactor||1!==e.mapScaleValue)if(o=e.mapScaleValue<1?e.mapScaleValue+1:e.mapScaleValue,e.mapScaleValue=e.zoomSettings.enable&&1!==e.mapScaleValue?e.mapScaleValue:1,e.currentShapeDataLength!==(t.isNullOrUndefined(i.shapeData.features)?i.shapeData.geometries.length:i.shapeData.features.length)&&"SubLayer"!==i.type){var C=parseFloat(Math.min(y.height/v,y.width/b).toFixed(2));v*=C,b*=C,g=y.y+(-p.y+(y.height/2-v/2)),o=C,u=y.x+(-p.x+(y.width/2-b/2))}else if(e.availableSize.height!==e.heightBeforeRefresh||e.widthBeforeRefresh!==e.availableSize.width){var L=parseFloat(Math.min(y.width/b,y.height/v).toFixed(2)),P=b;P*=L;var w=v;w*=L;var T=y.x+(-p.x+(y.width/2-P/2)),I=y.y+(-p.y+(y.height/2-w/2)),N=(e.translatePoint.x-e.previousTranslate.x)/e.widthBeforeRefresh,k=(e.translatePoint.y-e.previousTranslate.y)/e.heightBeforeRefresh;u=T+N*e.availableSize.width,g=I+k*e.availableSize.height,e.previousTranslate=new Qe(T,I),e.zoomTranslatePoint.x=u,e.zoomTranslatePoint.y=g}else t.isNullOrUndefined(e.previousProjection)||1!==e.mapScaleValue||e.zoomModule.isDragZoom?(u=e.zoomTranslatePoint.x,g=e.zoomTranslatePoint.y,o=e.scale):(b*=o=parseFloat(Math.min(y.width/b,y.height/v).toFixed(2)),u=y.x+(-p.x+(y.width/2-b/2)),v*=o,g=y.y+(-p.y+(y.height/2-v/2)));else v*=o=parseFloat(Math.min(y.width/b,y.height/v).toFixed(2)),b*=o,g=y.y+(-p.y+(y.height/2-v/2)),u=y.x+(-p.x+(y.width/2-b/2));return t.isNullOrUndefined(e.translatePoint)||(u=e.enablePersistence&&0!=e.translatePoint.x&&!e.zoomNotApplied?e.translatePoint.x:u,g=e.enablePersistence&&0!=e.translatePoint.y&&!e.zoomNotApplied?e.translatePoint.y:g),o=e.enablePersistence?e.mapScaleValue>=1?e.mapScaleValue:1:o,e.widthBeforeRefresh=e.availableSize.width,e.heightBeforeRefresh=e.availableSize.height,{scale:o,location:new Qe(u,g)}}function he(e,i,a){var o,n=e.zoomSettings.zoomFactor,l=e.centerPosition,r=l.latitude,s=l.longitude,d=!t.isNullOrUndefined(e.centerLongOfGivenLocation)&&!t.isNullOrUndefined(e.centerLatOfGivenLocation)&&e.zoomNotApplied;t.isNullOrUndefined(e.previousCenterLatitude)&&t.isNullOrUndefined(e.previousCenterLongitude)?(e.previousCenterLatitude=e.centerPosition.latitude,e.previousCenterLongitude=e.centerPosition.longitude):e.previousCenterLatitude!==e.centerPosition.latitude&&e.previousCenterLongitude!==e.centerPosition.longitude?(e.centerPositionChanged=!0,e.previousCenterLatitude=e.centerPosition.latitude,e.previousCenterLongitude=e.centerPosition.longitude):e.centerPositionChanged=!1,(t.isNullOrUndefined(e.mapScaleValue)||n>e.mapScaleValue)&&(e.isReset&&1===e.mapScaleValue?e.mapScaleValue=e.mapScaleValue:e.mapScaleValue=n),e.mapScaleValue=1!==e.zoomSettings.zoomFactor&&e.zoomSettings.zoomFactor===e.mapScaleValue?e.zoomSettings.zoomFactor:e.zoomSettings.zoomFactor===e.mapScaleValue||e.centerPositionChanged?e.zoomSettings.zoomFactor:e.mapScaleValue,e.zoomSettings.shouldZoomInitially&&(e.mapScaleValue=n=o=(e.enablePersistence||e.zoomSettings.shouldZoomInitially)&&1==e.scale?e.scale:t.isNullOrUndefined(e.markerZoomFactor)?e.mapScaleValue:e.markerZoomFactor,n=e.mapScaleValue,t.isNullOrUndefined(e.markerCenterLatitude)||t.isNullOrUndefined(e.markerCenterLongitude)||(r=e.markerCenterLatitude,s=e.markerCenterLongitude)),d&&(e.mapScaleValue=o=n=e.scaleOfGivenLocation);var p,c,m=a?1:e.mapScaleValue,u=e.mapAreaRect,g=e.baseMapRectBounds.min,y=e.baseMapRectBounds.max,f=a?1:e.mapScaleValue,b=Math.abs(y.x-g.x),v=Math.abs(g.y-y.y);if(!t.isNullOrUndefined(s)&&!t.isNullOrUndefined(r)||d){var x=(v+Math.abs(e.mapAreaRect.height-v))/2/f,S=(b+Math.abs(e.mapAreaRect.width-b))/2/f,O=d?de(e,i):h(r,s,e.mapLayerPanel.calculateFactor(i),i,e);t.isNullOrUndefined(e.zoomTranslatePoint)&&t.isNullOrUndefined(e.previousProjection)||e.zoomNotApplied?(p=-O.x+S+e.mapAreaRect.x/m,c=-O.y+x+e.mapAreaRect.y/m):e.previousProjection!==e.projectionType?(p=-O.x+S,c=-O.y+x):(p=e.zoomTranslatePoint.x,c=e.zoomTranslatePoint.y,n=m),t.isNullOrUndefined(e.translatePoint)||(c=e.enablePersistence&&0!=e.translatePoint.y&&!e.zoomNotApplied?e.translatePoint.y:c,p=e.enablePersistence&&0!=e.translatePoint.x&&!e.zoomNotApplied?e.translatePoint.x:p),o=0!==n?n:1}else{var _=0===e.zoomSettings.zoomFactor?1:e.zoomSettings.zoomFactor;o=_=_>10?10:_;var M=0===e.mapScaleValue?1:e.mapScaleValue>10?10:e.mapScaleValue,S=u.x+(-g.x+(u.width/2-b/2)),x=u.y+(-g.y+(u.height/2-v/2));if(!t.isNullOrUndefined(e.zoomTranslatePoint)||!t.isNullOrUndefined(e.previousProjection))if(e.previousProjection!==e.projectionType){var C=[],L={x:S,y:x};C.push(L);for(var P=1;P<10;P++)L={x:C[P-1].x-(u.width/P-u.width/(P+1))/2,y:C[P-1].y-(u.height/P-u.height/(P+1))/2},C.push(L);S=C[_-1].x,x=C[_-1].y}else S=e.zoomTranslatePoint.x,x=e.zoomTranslatePoint.y,_!==M&&(o=M);t.isNullOrUndefined(e.translatePoint)||(p=e.enablePersistence&&0!=e.translatePoint.x&&!e.zoomNotApplied?e.translatePoint.x:S,c=e.enablePersistence&&0!=e.translatePoint.y&&!e.zoomNotApplied?e.translatePoint.y:x)}return o=e.enablePersistence?0==e.mapScaleValue?1:e.mapScaleValue:o,{scale:a?1:o,location:new Qe(p,c)}}function ce(e){e.tileZoomScale=e.tileZoomLevel=Math.floor(e.availableSize.height/512)+1;var t="GoogleStaticMap"!==e.layers[e.baseLayerIndex].layerType?20:0,i=256*Math.pow(2,e.tileZoomLevel);e.tileTranslatePoint.x=e.availableSize.width/2-i/2,e.tileTranslatePoint.y=e.availableSize.height/2-i/2+t,e.previousTileWidth=e.availableSize.width,e.previousTileHeight=e.availableSize.height}function me(e){return document.getElementById(e)}function ue(e,t){return e.formatFunction=e.intl.getNumberFormat({format:e.format,useGrouping:e.useGroupingSeparator}),e.formatFunction(t)}function ge(e){var i=null;try{document.querySelectorAll(e).length&&(i=t.compile(document.querySelector(e).innerHTML.trim()))}catch(a){i=t.compile(e)}return i}function ye(e){return document.getElementById(e)}function fe(e,t){var i,a=parseInt(e.split("_LayerIndex_")[1].split("_")[0],10),o=parseInt(e.split("_shapeIndex_")[1].split("_")[0],10),n=t.layers[a],l=n.layerData[o].property;return n.dataSource&&(i=n.dataSource[ee(n.dataSource,l,n.shapeDataPath,n.shapePropertyPath,n)]),{shapeData:l,data:i}}function be(e,t,i,a){var o=fe(e,i),n={cancel:!1,name:a,fill:t.fill,opacity:t.opacity,border:t.border,shapeData:o.shapeData,data:o.data,target:e,maps:i};if(i.isBlazor){n.maps,n.shapeData;n=Je(n,["maps","shapeData"])}return i.trigger(a,n),n}function ve(e){return document.getElementsByClassName(e)}function xe(e,t){var i=null;return document.getElementById(t)&&(i=document.getElementById(t).querySelector("#"+e)),i}function Se(e,t,i,a){for(var o,n=a.layers[e].shapeData.features,l=0;l<n.length;l++)if(n[l].properties.name===t){o=a.element.id+"_LayerIndex_"+e+"_shapeIndex_"+l+"_dataIndex_undefined";break}return ye(o)}function Oe(e,i,a){return t.createElement("style",{id:e,innerHTML:"."+i+"{fill:"+a.fill+";opacity:"+a.opacity.toString()+";stroke-width:"+a.border.width.toString()+";stroke:"+a.border.color+";}"})}function _e(e,t,i){ye(e).innerHTML="."+t+"{fill:"+i.fill+";opacity:"+i.opacity.toString()+";stroke-width:"+i.border.width.toString()+";stroke:"+i.border.color+"}"}function Me(e,t,i,a,o){var n={color:e.border.color,width:e.border.width/t.scale},l={opacity:e.opacity,fill:e.fill,border:n,name:oi,target:i.id,cancel:!1,shapeData:a,data:o,maps:t};t.trigger("itemSelection",l,function(e){ye("ShapeselectionMap")?_e("ShapeselectionMap","ShapeselectionMapStyle",l):document.body.appendChild(Oe("ShapeselectionMap","ShapeselectionMapStyle",l))})}function Ce(e){e.removeAttribute("class")}function Le(e,i,a,o,n,l,r){void 0===r&&(r=0);var s=o.x,d=o.y,p=0,h=e.getAttribute("transform")||"";new t.Animation({}).animate(e,{duration:a,delay:i,progress:function(t){t.timeStamp>t.delay&&(p=(t.timeStamp-t.delay)/t.duration,e.setAttribute("transform","translate( "+(s-r*p)+" "+(d-r*p)+" ) scale("+p+")"))},end:function(t){if(e.setAttribute("transform",h),l){var i={cancel:!1,name:ai,element:l,maps:n.isBlazor?null:n};n.trigger(ai,i)}}})}function Pe(e){se(e)}function we(e,i,a,o,n,l,r,d,p){var h=s(a,o,d);t.isNullOrUndefined(h)||(a=h.x,o=h.y);for(var c=document.getElementById(r),m=x(e,{fontFamily:"Segoe UI",size:"8px",fontStyle:"Normal",fontWeight:"Regular"}).width,u=e.split(" "),g=u[0].length,y=1;y<u.length;y++)g<u[y].length&&(g=u[y].length);c||(c=t.createElement("div",{id:r,styles:'background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(0, 0, 0); padding-left:5px;font-size:12px; font-family: "Segoe UI"; text-align:center'})),a<n-m?a=a:a>n-m&&a<n-8*g?m=n-a:a>=n-8*g&&(a>m?a-=m:(m=a,a=0));var f=i.split("px");Te(c,e,a,o,f,m,n,d),c.clientHeight+2*parseInt(f[0],10)>l&&(m=a,a=0),Te(c,e,a,o,f,m,n,d),p&&setTimeout(Pe,5e3,r)}function Te(e,t,i,a,o,n,l,r){e.innerHTML=t,e.style.top=-1!==e.id.indexOf("_Legend")?(parseInt(o[0],10)+a).toString()+"px":(2*parseInt(o[0],10)).toString()+"px",e.style.left=i.toString()+"px",e.style.width=n.toString()+"px",e.style.maxWidth=l.toString()+"px",e.style.wordWrap="break-word",r.appendChild(e)}function Ie(e,i,a,o,n){var l=ye(e),r="top:"+a.toString()+"px;left:"+o.toString()+"px;color: #000000; background:#FFFFFF;position:absolute;border:1px solid #707070;font-size:"+n+";border-radius:2px;";l?(l.setAttribute("innerHTML","&nbsp;"+i+"&nbsp;"),l.setAttribute("styles",r)):(l=t.createElement("div",{id:e,innerHTML:"&nbsp;"+i+"&nbsp;",styles:r}),document.body.appendChild(l))}function Ne(e,t,a,o,n){var l=new i.SvgRenderer(""),r=ke(e,a,t,n,o);return l["draw"+r.functionName](r.renderOption)}function ke(e,i,a,o,n){var l,r="Path",s=i.width,d=i.height,p=e.x,h=e.y,c=e.x+-s/2,m=e.y+-d/2;switch(a){case"Circle":case"Bubble":r="Ellipse",t.merge(o,{rx:s/2,ry:d/2,cx:p,cy:h});break;case"VerticalLine":l="M "+p+" "+(h+d/2)+" L "+p+" "+(h+-d/2),t.merge(o,{d:l});break;case"Diamond":l="M "+c+" "+h+" L "+p+" "+(h+-d/2)+" L "+(p+s/2)+" "+h+" L "+p+" "+(h+d/2)+" L "+c+" "+h+" z",t.merge(o,{d:l});break;case"Rectangle":l="M "+c+" "+(h+-d/2)+" L "+(p+s/2)+" "+(h+-d/2)+" L "+(p+s/2)+" "+(h+d/2)+" L "+c+" "+(h+d/2)+" L "+c+" "+(h+-d/2)+" z",t.merge(o,{d:l});break;case"Triangle":l="M "+c+" "+(h+d/2)+" L "+p+" "+(h+-d/2)+" L "+(p+s/2)+" "+(h+d/2)+" L "+c+" "+(h+d/2)+" z",t.merge(o,{d:l});break;case"InvertedTriangle":l="M "+(p+s/2)+" "+(h-d/2)+" L "+p+" "+(h+d/2)+" L "+(p-s/2)+" "+(h-d/2)+" L "+(p+s/2)+" "+(h-d/2)+" z",t.merge(o,{d:l});break;case"Pentagon":for(var u=void 0,g=void 0,y=0;y<=5;y++)u=s/2*Math.cos(Math.PI/180*(72*y)),g=s/2*Math.sin(Math.PI/180*(72*y)),l=0===y?"M "+(p+u)+" "+(h+g)+" ":l.concat("L "+(p+u)+" "+(h+g)+" ");l=l.concat("Z"),t.merge(o,{d:l});break;case"Star":l="M "+(e.x+i.width/3)+" "+(e.y-i.height/2)+" L "+(e.x-i.width/2)+" "+(e.y+i.height/6)+" L "+(e.x+i.width/2)+" "+(e.y+i.height/6)+" L "+(e.x-i.width/3)+" "+(e.y-i.height/2)+" L "+e.x+" "+(e.y+i.height/2)+" L "+(e.x+i.width/3)+" "+(e.y-i.height/2)+" Z",t.merge(o,{d:l});break;case"Cross":l="M "+c+" "+h+" L "+(p+s/2)+" "+h+" M "+p+" "+(h+d/2)+" L "+p+" "+(h+-d/2),t.merge(o,{d:l});break;case"Image":r="Image",t.merge(o,{href:n,height:d,width:s,x:c,y:m})}return{renderOption:o,functionName:r}}function Ee(e,t){var i,a;return t.appendChild(e),i=e.offsetWidth,a=e.offsetHeight,t.removeChild(e),new Ke(i,a)}function ze(e,t,i,a){for(var o,n=0;n<e.childElementCount;n++)if((o=e.childNodes[n]).id.indexOf("_NavigationGroup")>-1)je(o,t,i,a);else{var l=a.layersCollection[t].shapeSettings.border.width;o.setAttribute("stroke-width",(l/i).toString())}}function je(e,t,i,a){for(var o,n=0;n<e.childElementCount;n++)if("path"===(o=e.childNodes[n]).tagName){var l=a.layersCollection[t].navigationLineSettings[parseFloat(o.id.split("_NavigationIndex_")[1].split("_")[0])].width;o.setAttribute("stroke-width",(l/i).toString())}}function Ae(e){for(var t=[],i=e.touches,a=0;a<i.length;a++)t.push({pageX:i[a].pageX,pageY:i[a].pageY});return t}function Be(e,t){var i=Fe(e[0],e[1]);return Fe(t[0],t[1])/i}function Fe(e,t){var i=e.pageX-t.pageX,a=e.pageY-t.pageY;return Math.sqrt(i*i+a*a)}function Re(e,t){var i=t.element.getBoundingClientRect(),a=i.top+document.defaultView.pageXOffset,o=i.left+document.defaultView.pageYOffset;return Array.prototype.slice.call(e).map(function(e){return{x:e.pageX-o,y:e.pageY-a}})}function Ue(e){return{x:e.map(function(e){return e.x}).reduce(Ze)/e.length,y:e.map(function(e){return e.y}).reduce(Ze)/e.length}}function Ze(e,t){return e+t}function De(e,t,i,a,o,n,l){var r=0,s=l.previousPoint,d=l.previousScale,p=o-d,h=new pt(0,0),c=1;if(o===d)return void e.setAttribute("transform","scale( "+o+" ) translate( "+a.x+" "+a.y+" )");var m=function(e,t){return e.x===t.x?null:(t.y-e.y)/(t.x-e.x)}(s,a),u=function(e,t){return null===t?e.x:e.y-t*e.x}(s,m),g=a.x-s.x,y=a.y-s.y;He(e,t,i,function(e){e.timeStamp>e.delay&&(r=(e.timeStamp-e.delay)/e.duration,c=d+r*p,h.x=s.x+r*g/(c/o),h.y=null==m?s.y+r*y:m*h.x+u,e.element.setAttribute("transform","scale( "+c+" ) translate( "+h.x+" "+h.y+" )"),l.translatePoint=h,l.scale=c,l.zoomModule.processTemplate(a.x,a.y,c,l))},function(){l.translatePoint=a,l.scale=o,e.setAttribute("transform","scale( "+o+" ) translate( "+a.x+" "+a.y+" )"),l.zoomModule.processTemplate(a.x,a.y,o,l)})}function He(e,t,i,a,o){var n,l=this,r=null,s=function(t){r||(r=t);var d=t-r;d<i?(a.call(l,{element:e,delay:0,timeStamp:d,duration:i}),window.requestAnimationFrame(s)):(window.cancelAnimationFrame(n),o.call(l,{element:e}),e.setAttribute("style","visibility:visible"))};n=window.requestAnimationFrame(s)}function Ve(e,t,i,a){var o=0,n=e.getAttribute("transform").split(" ");2===n.length&&(n[2]=n[1].split(")")[0],n[1]=n[0].split("(")[1]);var l=new pt(parseInt(n[1],10),parseInt(n[2],10)),r=a.x-l.x,s=a.y-l.y,d=new pt(0,0);He(e,t,i,function(e){e.timeStamp>e.delay&&(o=(e.timeStamp-e.delay)/e.duration,d.x=l.x+o*r,d.y=l.y+o*s,e.element.setAttribute("transform","translate( "+d.x+" "+d.y+" )"))},function(){e.setAttribute("transform","translate( "+a.x+" "+a.y+" )")})}function Ge(e,i){var a=t.isNullOrUndefined(i.shouldZoomPreviousFactor)?null:i.shouldZoomPreviousFactor,o=t.isNullOrUndefined(i.shouldZoomCurrentFactor)?null:i.shouldZoomCurrentFactor;t.isNullOrUndefined(o)?!t.isNullOrUndefined(a)&&t.isNullOrUndefined(o)&&i.shouldZoomPreviousFactor!==e?i.shouldZoomCurrentFactor=e:i.shouldZoomPreviousFactor=e:(i.shouldZoomCurrentFactor=null,i.shouldZoomPreviousFactor=null)}function We(e,t,i,a,o,n,l){var r,s,d,p,c,m,u,g=Math.sin(t*Math.PI/180),y=Math.log((1+g)/(1-g))/2,f=Math.max(Math.min(y,Math.PI),-Math.PI)/2,b=Math.sin(e*Math.PI/180),v=Math.log((1+b)/(1-b))/2,x=Math.max(Math.min(v,Math.PI),-Math.PI)/2;if(l.zoomNotApplied&&!l.isTileMap){var S=Math.abs((l.baseMapBounds.latitude.max-l.baseMapBounds.latitude.min)/(t-e)),O=Math.abs((l.baseMapBounds.longitude.max-l.baseMapBounds.longitude.min)/(a-i));p=Math.min(S,O);h(e,i,1,l.layersCollection[0],l),h(t,a,1,l.layersCollection[0],l)}r=(f-x)/Math.PI;var _=a-i;s=(_<0?_+360:_)/360;return c=Math.log(n/256/r)/Math.LN2,m=Math.log(o/256/s)/Math.LN2,u=l.zoomNotApplied&&!l.isTileMap?p:Math.min(c,m),d=Math.min(u,10),d=l.isTileMap||!l.zoomNotApplied?Math.floor(d):d,l.isTileMap||Ge(d,l),d}function qe(e){var t,i;switch(e.toLowerCase()){case"materialdark":i="#303030";break;case"fabricdark":i="#201F1F";break;case"bootstrapdark":i="#1A1A1A"}switch(e.toLowerCase()){case"materialdark":case"fabricdark":case"bootstrapdark":t={backgroundColor:i,areaBackgroundColor:i,titleFontColor:"#FFFFFF",subTitleFontColor:"#FFFFFF",legendTitleFontColor:"#DADADA",legendTextColor:"#DADADA",dataLabelFontColor:"#DADADA",tooltipFontColor:"#ffffff",tooltipFillColor:"#363F4C",zoomFillColor:"#FFFFFF",labelFontFamily:"Roboto, Noto, Sans-serif"};break;case"highcontrast":t={backgroundColor:"#000000",areaBackgroundColor:"#000000",titleFontColor:"#FFFFFF",subTitleFontColor:"#FFFFFF",legendTitleFontColor:"#FFFFFF",legendTextColor:"#FFFFFF",dataLabelFontColor:"#000000",tooltipFontColor:"#000000",tooltipFillColor:"#ffffff",zoomFillColor:"#FFFFFF",labelFontFamily:"Roboto, Noto, Sans-serif"};break;case"bootstrap4":t={backgroundColor:"#FFFFFF",areaBackgroundColor:"#FFFFFF",titleFontColor:"#212529",subTitleFontColor:"#212529",legendTitleFontColor:"#212529",legendTextColor:"#212529",dataLabelFontColor:"#212529",tooltipFontColor:"#FFFFFF",tooltipFillColor:"#000000",zoomFillColor:"#5B6269",fontFamily:"HelveticaNeue-Medium",titleFontSize:"16px",legendFontSize:"14px",tooltipFillOpacity:1,tooltipTextOpacity:.9,labelFontFamily:"HelveticaNeue-Medium"};break;default:t={backgroundColor:"#FFFFFF",areaBackgroundColor:"#FFFFFF",titleFontColor:"#424242",subTitleFontColor:"#424242",legendTitleFontColor:"#757575",legendTextColor:"#757575",dataLabelFontColor:"#000000",tooltipFontColor:"#ffffff",tooltipFillColor:"#000000",zoomFillColor:"#737373",labelFontFamily:"Roboto, Noto, Sans-serif"}}return t}var Xe,Ye=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function a(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),Je=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(i[a[o]]=e[a[o]]);return i},Ke=function(){function e(e,t){this.width=e,this.height=t}return e}(),Qe=function(){function e(e,t){this.x=e,this.y=t}return e}(),$e=function(){function e(e,t){this.min=e,this.max=t}return e}(),et=function(){function e(e,t){this.latitude=new $e(e.min,e.max),this.longitude=new $e(t.min,t.max)}return e}(),tt=function(){function e(e,t,i,a,o,n,l){void 0===n&&(n=""),this.transform="",this.baseLine="auto",this.id=e,this.text=o,this.transform=n,this.anchor=a,this.x=t,this.y=i,this.baseLine=l}return e}(),it=function(){function e(e,t,i,a,o,n,l){this.id=e,this.opacity=o,this.fill=t,this.stroke=a,this["stroke-width"]=i,this["stroke-dasharray"]=n,this.d=l}return e}(),at=function(){function e(e,t,i){this.r=e,this.g=t,this.b=i}return e}(),ot=function(e){function t(t,i,a,o,n,l,r,s,d){var p=e.call(this,t,i,a.width,a.color,o,d)||this;return p.y=n.y,p.x=n.x,p.height=n.height,p.width=n.width,p.rx=l||0,p.ry=r||0,p.transform=s||"",p["stroke-dasharray"]=d,p}return Ye(t,e),t}(it),nt=function(e){function t(t,i,a,o,n,l,r,s){var d=e.call(this,t,i,a.width,a.color,o)||this;return d.cy=l,d.cx=n,d.r=r,d["stroke-dasharray"]=s,d}return Ye(t,e),t}(it),lt=function(e){function t(t,i,a,o,n,l,r){void 0===l&&(l=1),void 0===r&&(r="");var s=e.call(this,t,a,o,n,l,r)||this;return s.points=i,s}return Ye(t,e),t}(it),rt=function(e){function t(t,i,a,o,n,l,r){return void 0===l&&(l=1),void 0===r&&(r=""),e.call(this,t,i,a,o,n,l,r)||this}return Ye(t,e),t}(lt),st=function(e){function t(t,i,a,o,n,l,r){void 0===l&&(l=1),void 0===r&&(r="");var s=e.call(this,t,a,o,n,l,r)||this;return s.x1=i.x1,s.y1=i.y1,s.x2=i.x2,s.y2=i.y2,s}return Ye(t,e),t}(it),dt=function(){function e(e,t,i,a){this.x1=e,this.y1=t,this.x2=i,this.y2=a}return e}(),pt=function(){function e(e,t){this.x=e,this.y=t}return e}(),ht=function(){function e(e,t,i,a){this.x=e,this.y=t,this.width=i,this.height=a}return e}(),ct=function(){function e(e,t,i,a,o,n,l,r,s){void 0===n&&(n="userSpaceOnUse"),void 0===l&&(l="userSpaceOnUse"),void 0===r&&(r=""),void 0===s&&(s=""),this.id=e,this.x=t,this.y=i,this.width=a,this.height=o,this.patternUnits=n,this.patternContentUnits=l,this.patternTransform=r,this.href=s}return e}(),mt=function(){function e(e,t,i,a,o){this.dataOptions=e,this.type=t||"GET",this.async=i||!0,this.contentType=a,this.sendData=o}return e}();!function(e){e.mapsTitleFont={size:"14px",fontWeight:"Medium",color:"#424242",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.mapsSubTitleFont={size:"13px",fontWeight:"Medium",color:"#424242",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.tooltipLabelFont={size:"12px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto"},e.legendTitleFont={size:"14px",fontWeight:"Regular",color:"#757575",fontStyle:"Regular",fontFamily:"Roboto, Noto, Sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Medium",color:"#757575",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Medium",color:"#000000",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"}}(Xe||(Xe={}));var ut;!function(e){e.mapsTitleFont={size:"14px",fontWeight:"Semibold",color:"#424242",fontStyle:"Semibold",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"},e.mapsSubTitleFont={size:"13px",fontWeight:"Regular",color:"#424242",fontStyle:"Regular",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"},e.tooltipLabelFont={size:"12px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto"},e.legendTitleFont={size:"14px",fontWeight:"Regular",color:"#757575",fontStyle:"Regular",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Medium",color:"#757575",fontStyle:"Medium",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Medium",color:"#000000",fontStyle:"Medium",fontFamily:"SegoeUI, Helvetica Neue, Helvetica, Arial, sans-serif"}}(ut||(ut={}));var gt;!function(e){e.mapsTitleFont={size:"14px",fontWeight:"Semibold",color:"#424242",fontStyle:"Semibold",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"},e.mapsSubTitleFont={size:"13px",fontWeight:"Regular",color:"#424242",fontStyle:"Regular",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"},e.tooltipLabelFont={size:"12px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto"},e.legendTitleFont={size:"14px",fontWeight:"Regular",color:"#757575",fontStyle:"Regular",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Medium",color:"#757575",fontStyle:"Medium",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Medium",color:"#000000",fontStyle:"Medium",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"}}(gt||(gt={}));var yt;!function(e){e.mapsTitleFont={size:"14px",fontWeight:"Medium",color:"#FFFFFF",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.mapsSubTitleFont={size:"13px",fontWeight:"Medium",color:"#FFFFFF",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.tooltipLabelFont={size:"12px",fontWeight:"Regular",color:"#000000",fontStyle:"Regular",fontFamily:"Roboto"},e.legendTitleFont={size:"14px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto, Noto, Sans-serif"},e.legendLabelFont={size:"13px",fontWeight:"Medium",color:"#FFFFFF",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"},e.dataLabelFont={size:"12px",fontWeight:"Medium",color:"#000000",fontStyle:"Medium",fontFamily:"Roboto, Noto, Sans-serif"}}(yt||(yt={}));var ft;!function(e){e.mapsTitleFont={fontFamily:"Roboto, Noto, Sans-serif",fontWeight:"Medium",size:"14px",fontStyle:"Medium",color:"#FFFFFF"},e.mapsSubTitleFont={size:"13px",color:"#FFFFFF",fontWeight:"Medium",fontFamily:"Roboto, Noto, Sans-serif",fontStyle:"Medium"},e.tooltipLabelFont={size:"12px",color:"#282727",fontWeight:"Regular",fontFamily:"Roboto",fontStyle:"Regular"},e.legendTitleFont={size:"14px",fontWeight:"Regular",color:"#FFFFFF",fontStyle:"Regular",fontFamily:"Roboto, Noto, Sans-serif"},e.legendLabelFont={size:"13px",fontFamily:"Roboto, Noto, Sans-serif",fontWeight:"Medium",color:"#DADADA",fontStyle:"Medium"}}(ft||(ft={}));var bt=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function a(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),vt=function(e,t,i,a){var o,n=arguments.length,l=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(l=(n<3?o(l):n>3?o(t,i,l):o(t,i))||l);return n>3&&l&&Object.defineProperty(t,i,l),l},xt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property("")],i.prototype,"content",void 0),vt([t.Property("0px")],i.prototype,"x",void 0),vt([t.Property("0px")],i.prototype,"y",void 0),vt([t.Property("None")],i.prototype,"verticalAlignment",void 0),vt([t.Property("None")],i.prototype,"horizontalAlignment",void 0),vt([t.Property("-1")],i.prototype,"zIndex",void 0),i}(t.ChildProperty),St=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property("Start")],i.prototype,"position",void 0),vt([t.Property("false")],i.prototype,"showArrow",void 0),vt([t.Property(2)],i.prototype,"size",void 0),vt([t.Property("black")],i.prototype,"color",void 0),vt([t.Property(0)],i.prototype,"offSet",void 0),i}(t.ChildProperty),Ot=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property("12px")],i.prototype,"size",void 0),vt([t.Property(null)],i.prototype,"color",void 0),vt([t.Property("Roboto, Noto, Sans-serif")],i.prototype,"fontFamily",void 0),vt([t.Property("Medium")],i.prototype,"fontWeight",void 0),vt([t.Property("Medium")],i.prototype,"fontStyle",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),i}(t.ChildProperty),_t=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property("")],i.prototype,"color",void 0),vt([t.Property(0)],i.prototype,"width",void 0),i}(t.ChildProperty),Mt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(null)],i.prototype,"latitude",void 0),vt([t.Property(null)],i.prototype,"longitude",void 0),i}(t.ChildProperty),Ct=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(!1)],i.prototype,"visible",void 0),vt([t.Property("")],i.prototype,"template",void 0),vt([t.Property("")],i.prototype,"fill",void 0),vt([t.Complex({color:"transparent",width:1},_t)],i.prototype,"border",void 0),vt([t.Complex(Xe.tooltipLabelFont,Ot)],i.prototype,"textStyle",void 0),vt([t.Property(null)],i.prototype,"format",void 0),vt([t.Property(null)],i.prototype,"valuePath",void 0),i}(t.ChildProperty),Lt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(10)],i.prototype,"left",void 0),vt([t.Property(10)],i.prototype,"right",void 0),vt([t.Property(10)],i.prototype,"top",void 0),vt([t.Property(10)],i.prototype,"bottom",void 0),i}(t.ChildProperty),Pt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property("#000000")],i.prototype,"color",void 0),vt([t.Property(1)],i.prototype,"width",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),i}(t.ChildProperty),wt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(!1)],i.prototype,"allowClustering",void 0),vt([t.Complex({color:"transparent",width:1},_t)],i.prototype,"border",void 0),vt([t.Property("#D2691E")],i.prototype,"fill",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),vt([t.Property("Rectangle")],i.prototype,"shape",void 0),vt([t.Property(12)],i.prototype,"width",void 0),vt([t.Property(12)],i.prototype,"height",void 0),vt([t.Property(new Qe(0,0))],i.prototype,"offset",void 0),vt([t.Property("")],i.prototype,"imageUrl",void 0),vt([t.Property("")],i.prototype,"dashArray",void 0),vt([t.Complex({},Ot)],i.prototype,"labelStyle",void 0),vt([t.Property(!1)],i.prototype,"allowClusterExpand",void 0),vt([t.Complex({},Pt)],i.prototype,"connectorLineSettings",void 0),i}(t.ChildProperty),Tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bt(t,e),t}(t.ChildProperty),It=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(null)],i.prototype,"from",void 0),vt([t.Property(null)],i.prototype,"to",void 0),vt([t.Property(null)],i.prototype,"value",void 0),vt([t.Property(null)],i.prototype,"color",void 0),vt([t.Property(null)],i.prototype,"minOpacity",void 0),vt([t.Property(null)],i.prototype,"maxOpacity",void 0),vt([t.Property(null)],i.prototype,"label",void 0),vt([t.Property(!0)],i.prototype,"showLegend",void 0),i}(t.ChildProperty),Nt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(null)],i.prototype,"shapePath",void 0),vt([t.Property(null)],i.prototype,"shapeValue",void 0),i}(t.ChildProperty),kt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(!1)],i.prototype,"enable",void 0),vt([t.Property(null)],i.prototype,"fill",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),vt([t.Property(!1)],i.prototype,"enableMultiSelect",void 0),vt([t.Complex({color:"transparent",width:0},_t)],i.prototype,"border",void 0),i}(t.ChildProperty),Et=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(null)],i.prototype,"fill",void 0),vt([t.Property(!1)],i.prototype,"enable",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),vt([t.Complex({color:"transparent",width:0},_t)],i.prototype,"border",void 0),i}(t.ChildProperty),zt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(!1)],i.prototype,"visible",void 0),vt([t.Property(1)],i.prototype,"width",void 0),vt([t.Property(null)],i.prototype,"longitude",void 0),vt([t.Property(null)],i.prototype,"latitude",void 0),vt([t.Property("")],i.prototype,"dashArray",void 0),vt([t.Property("black")],i.prototype,"color",void 0),vt([t.Property(0)],i.prototype,"angle",void 0),vt([t.Complex({showArrow:!1,position:"Start",size:5,color:"black"},St)],i.prototype,"arrowSettings",void 0),vt([t.Complex({},kt)],i.prototype,"selectionSettings",void 0),vt([t.Complex({},Et)],i.prototype,"highlightSettings",void 0),i}(t.ChildProperty),jt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Complex({},_t)],i.prototype,"border",void 0),vt([t.Property(!1)],i.prototype,"visible",void 0),vt([t.Property([])],i.prototype,"dataSource",void 0),vt([t.Property(1e3)],i.prototype,"animationDuration",void 0),vt([t.Property(0)],i.prototype,"animationDelay",void 0),vt([t.Property("")],i.prototype,"fill",void 0),vt([t.Property(10)],i.prototype,"minRadius",void 0),vt([t.Property(20)],i.prototype,"maxRadius",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),vt([t.Property(null)],i.prototype,"valuePath",void 0),vt([t.Property("Circle")],i.prototype,"bubbleType",void 0),vt([t.Property(null)],i.prototype,"colorValuePath",void 0),vt([t.Collection([],It)],i.prototype,"colorMapping",void 0),vt([t.Complex({},Ct)],i.prototype,"tooltipSettings",void 0),vt([t.Complex({},kt)],i.prototype,"selectionSettings",void 0),vt([t.Complex({},Et)],i.prototype,"highlightSettings",void 0),i}(t.ChildProperty),At=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property("")],i.prototype,"text",void 0),vt([t.Property("")],i.prototype,"description",void 0),i}(t.ChildProperty),Bt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Complex({size:Xe.mapsSubTitleFont.size},Ot)],i.prototype,"textStyle",void 0),vt([t.Property("Center")],i.prototype,"alignment",void 0),i}(At),Ft=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Complex({size:Xe.mapsTitleFont.size},Ot)],i.prototype,"textStyle",void 0),vt([t.Property("Center")],i.prototype,"alignment",void 0),vt([t.Complex({},Bt)],i.prototype,"subtitleSettings",void 0),i}(At),Rt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(!1)],i.prototype,"enable",void 0),vt([t.Property(!0)],i.prototype,"enablePanning",void 0),vt([t.Property(!0)],i.prototype,"enableSelectionZooming",void 0),vt([t.Property("Horizontal")],i.prototype,"toolBarOrientation",void 0),vt([t.Property(null)],i.prototype,"color",void 0),vt([t.Property("#e61576")],i.prototype,"highlightColor",void 0),vt([t.Property("#e61576")],i.prototype,"selectionColor",void 0),vt([t.Property("Far")],i.prototype,"horizontalAlignment",void 0),vt([t.Property("Near")],i.prototype,"verticalAlignment",void 0),vt([t.Property(["ZoomIn","ZoomOut","Reset"])],i.prototype,"toolbars",void 0),vt([t.Property(!0)],i.prototype,"mouseWheelZoom",void 0),vt([t.Property(!1)],i.prototype,"doubleClickZoom",void 0),vt([t.Property(!1)],i.prototype,"pinchZooming",void 0),vt([t.Property(!1)],i.prototype,"zoomOnClick",void 0),vt([t.Property(1)],i.prototype,"zoomFactor",void 0),vt([t.Property(10)],i.prototype,"maxZoom",void 0),vt([t.Property(1)],i.prototype,"minZoom",void 0),vt([t.Property(!1)],i.prototype,"shouldZoomInitially",void 0),vt([t.Property(!0)],i.prototype,"resetToInitial",void 0),i}(t.ChildProperty),Ut=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(!1)],i.prototype,"enable",void 0),vt([t.Property(!0)],i.prototype,"applyShapeSettings",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),vt([t.Property("")],i.prototype,"fill",void 0),vt([t.Complex({color:"",width:0},_t)],i.prototype,"border",void 0),i}(t.ChildProperty),Zt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(!1)],i.prototype,"toggleVisibility",void 0),vt([t.Property(!1)],i.prototype,"visible",void 0),vt([t.Property("transparent")],i.prototype,"background",void 0),vt([t.Property("Layers")],i.prototype,"type",void 0),vt([t.Property(!1)],i.prototype,"invertedPointer",void 0),vt([t.Property("After")],i.prototype,"labelPosition",void 0),vt([t.Property("None")],i.prototype,"labelDisplayMode",void 0),vt([t.Property("Circle")],i.prototype,"shape",void 0),vt([t.Property("")],i.prototype,"width",void 0),vt([t.Property("")],i.prototype,"height",void 0),vt([t.Complex({},Ot)],i.prototype,"textStyle",void 0),vt([t.Property(15)],i.prototype,"shapeWidth",void 0),vt([t.Property(15)],i.prototype,"shapeHeight",void 0),vt([t.Property(10)],i.prototype,"shapePadding",void 0),vt([t.Complex({color:"#000000",width:0},_t)],i.prototype,"border",void 0),vt([t.Complex({color:"#000000",width:0},_t)],i.prototype,"shapeBorder",void 0),vt([t.Complex({},At)],i.prototype,"title",void 0),vt([t.Complex({},Ot)],i.prototype,"titleStyle",void 0),vt([t.Property("Bottom")],i.prototype,"position",void 0),vt([t.Property("Center")],i.prototype,"alignment",void 0),vt([t.Property("None")],i.prototype,"orientation",void 0),vt([t.Property({x:0,y:0})],i.prototype,"location",void 0),vt([t.Property(null)],i.prototype,"fill",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),vt([t.Property("Default")],i.prototype,"mode",void 0),vt([t.Property(null)],i.prototype,"showLegendPath",void 0),vt([t.Property(null)],i.prototype,"valuePath",void 0),vt([t.Property(!1)],i.prototype,"removeDuplicateLegend",void 0),vt([t.Complex({},Ut)],i.prototype,"toggleLegendSettings",void 0),i}(t.ChildProperty),Dt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(!1)],i.prototype,"visible",void 0),vt([t.Complex({width:0,color:"transparent"},_t)],i.prototype,"border",void 0),vt([t.Property("black")],i.prototype,"fill",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),vt([t.Property(5)],i.prototype,"rx",void 0),vt([t.Property(5)],i.prototype,"ry",void 0),vt([t.Complex({},Ot)],i.prototype,"textStyle",void 0),vt([t.Property("")],i.prototype,"labelPath",void 0),vt([t.Property("None")],i.prototype,"smartLabelMode",void 0),vt([t.Property("None")],i.prototype,"intersectionAction",void 0),vt([t.Property("")],i.prototype,"template",void 0),i}(t.ChildProperty),Ht=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property("#A6A6A6")],i.prototype,"fill",void 0),vt([t.Property([])],i.prototype,"palette",void 0),vt([t.Property(5)],i.prototype,"circleRadius",void 0),vt([t.Complex({width:0,color:"#000000"},_t)],i.prototype,"border",void 0),vt([t.Property("")],i.prototype,"dashArray",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),vt([t.Property(null)],i.prototype,"colorValuePath",void 0),vt([t.Property(null)],i.prototype,"valuePath",void 0),vt([t.Collection([],It)],i.prototype,"colorMapping",void 0),vt([t.Property(!1)],i.prototype,"autofill",void 0),i}(t.ChildProperty),Vt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Complex({color:"transparent",width:1},_t)],i.prototype,"border",void 0),vt([t.Property(null)],i.prototype,"dashArray",void 0),vt([t.Property(!1)],i.prototype,"visible",void 0),vt([t.Property("#FF471A")],i.prototype,"fill",void 0),vt([t.Property(10)],i.prototype,"height",void 0),vt([t.Property(10)],i.prototype,"width",void 0),vt([t.Property(1)],i.prototype,"opacity",void 0),vt([t.Property(null)],i.prototype,"colorValuePath",void 0),vt([t.Property(null)],i.prototype,"shapeValuePath",void 0),vt([t.Property(null)],i.prototype,"imageUrlValuePath",void 0),vt([t.Property("Balloon")],i.prototype,"shape",void 0),vt([t.Property("")],i.prototype,"legendText",void 0),vt([t.Property(new Qe(0,0))],i.prototype,"offset",void 0),vt([t.Property("")],i.prototype,"imageUrl",void 0),vt([t.Property(null)],i.prototype,"template",void 0),vt([t.Property([])],i.prototype,"dataSource",void 0),vt([t.Complex({},Ct)],i.prototype,"tooltipSettings",void 0),vt([t.Property(1e3)],i.prototype,"animationDuration",void 0),vt([t.Property(0)],i.prototype,"animationDelay",void 0),vt([t.Complex({},kt)],i.prototype,"selectionSettings",void 0),vt([t.Complex({},Et)],i.prototype,"highlightSettings",void 0),vt([t.Property(null)],i.prototype,"latitudeValuePath",void 0),vt([t.Property(null)],i.prototype,"longitudeValuePath",void 0),i}(t.ChildProperty),Gt=function(e){function t(t,i,a,o){return e.call(this,t,i,a,o)||this}return bt(t,e),t}(Vt),Wt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.isBaseLayer=!1,t}return bt(i,e),vt([t.Property(null)],i.prototype,"shapeData",void 0),vt([t.Property()],i.prototype,"query",void 0),vt([t.Complex({},Ht)],i.prototype,"shapeSettings",void 0),vt([t.Property([])],i.prototype,"dataSource",void 0),vt([t.Property("Layer")],i.prototype,"type",void 0),vt([t.Property("Geographic")],i.prototype,"geometryType",void 0),vt([t.Property("Aerial")],i.prototype,"bingMapType",void 0),vt([t.Property("RoadMap")],i.prototype,"staticMapType",void 0),vt([t.Property("")],i.prototype,"key",void 0),vt([t.Property("Geometry")],i.prototype,"layerType",void 0),vt([t.Property("https://a.tile.openstreetmap.org/level/tileX/tileY.png")],i.prototype,"urlTemplate",void 0),vt([t.Property(!0)],i.prototype,"visible",void 0),vt([t.Property("name")],i.prototype,"shapeDataPath",void 0),vt([t.Property("name")],i.prototype,"shapePropertyPath",void 0),vt([t.Property(0)],i.prototype,"animationDuration",void 0),vt([t.Collection([],Gt)],i.prototype,"markerSettings",void 0),vt([t.Complex({},wt)],i.prototype,"markerClusterSettings",void 0),vt([t.Complex({},Dt)],i.prototype,"dataLabelSettings",void 0),vt([t.Collection([],jt)],i.prototype,"bubbleSettings",void 0),vt([t.Collection([],zt)],i.prototype,"navigationLineSettings",void 0),vt([t.Complex({},Ct)],i.prototype,"tooltipSettings",void 0),vt([t.Complex({},kt)],i.prototype,"selectionSettings",void 0),vt([t.Complex({},Et)],i.prototype,"highlightSettings",void 0),vt([t.Complex({},Ut)],i.prototype,"toggleLegendSettings",void 0),vt([t.Collection([],Nt)],i.prototype,"initialShapeSelection",void 0),i}(t.ChildProperty),qt=function(){function e(e,t,i,a,o,n,l){void 0===i&&(i=256),void 0===a&&(a=256),void 0===o&&(o=0),void 0===n&&(n=0),void 0===l&&(l=null),this.x=e,this.y=t,this.top=o,this.left=n,this.height=i,this.width=a,this.src=l}return e}(),Xt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return bt(i,e),vt([t.Property(null)],i.prototype,"background",void 0),vt([t.Complex({color:"transparent",width:1},_t)],i.prototype,"border",void 0),i}(t.ChildProperty),Yt=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(i[a[o]]=e[a[o]]);return i},Jt=function(){function e(e){this.maps=e,this.trackElements=[],this.sameMarkerData=[]}return e.prototype.markerRender=function(e,i,a,o){var n=this,l=0,r=0,s=0;this.maps.translateType="marker";var d=this.maps.layersCollection[i];this.markerSVGObject=this.maps.renderer.createGroup({id:this.maps.element.id+"_Markers_Group",class:"GroupElement",style:"pointer-events: auto;"});var p=t.createElement("div",{id:this.maps.element.id+"_LayerIndex_"+i+"_Markers_Template_Group",className:this.maps.element.id+"_template",styles:"overflow: hidden; position: absolute;pointer-events: none;top:"+this.maps.mapAreaRect.y+"px;left:"+this.maps.mapAreaRect.x+"px;height:"+this.maps.mapAreaRect.height+"px;width:"+this.maps.mapAreaRect.width+"px;"});d.markerSettings.map(function(m,u){var g=m.dataSource;Array.prototype.forEach.call(g,function(y,f){n.maps.markerNullCount=u>0&&0===f?0:n.maps.markerNullCount;var b={cancel:!1,name:Kt,fill:m.fill,height:m.height,width:m.width,imageUrl:m.imageUrl,shape:m.shape,template:m.template,data:y,maps:n.maps,marker:m,border:m.border,colorValuePath:m.colorValuePath,shapeValuePath:m.shapeValuePath,imageUrlValuePath:m.imageUrlValuePath};if(b=w(b,y),b=T(b,y),n.maps.isBlazor){b.maps,b.marker;var v=Yt(b,["maps","marker"]);b=v}n.maps.trigger("markerRendering",b,function(v){m.colorValuePath!==b.colorValuePath&&(b=w(b,y)),m.shapeValuePath!==b.shapeValuePath&&(b=T(b,y));var x=t.isNullOrUndefined(y[m.longitudeValuePath])?parseFloat(y.longitude):Number(P(y,m.longitudeValuePath)),S=t.isNullOrUndefined(y[m.latitudeValuePath])?parseFloat(y.latitude):Number(P(y,m.latitudeValuePath));if(n.maps.isBlazor){var O={},_=[],M=0;(y=={}||t.isNullOrUndefined(y.latitude)||t.isNullOrUndefined(y.longitude))&&(S=y.latitude&&!t.isNullOrUndefined(y.latitude)?y.latitude:0,x=y.longitude&&!t.isNullOrUndefined(y.longitude)?y.longitude:0);for(var C=0;C<Object.keys(y).length;C++)"latitude"!==Object.keys(y)[C].toLowerCase()&&"longitude"!==Object.keys(y)[C].toLowerCase()&&"name"!==Object.keys(y)[C].toLowerCase()&&"blazortemplateid"!==Object.keys(y)[C].toLowerCase()&&"text"!==Object.keys(y)[C].toLowerCase()&&(_[M]=y[Object.keys(y)[C].toLowerCase()],O.text=_,M++);y.text=O.text}var L=m.offset;if(!b.cancel&&m.visible&&!t.isNullOrUndefined(x)&&!t.isNullOrUndefined(S)){var N=n.maps.element.id+"_LayerIndex_"+i+"_MarkerIndex_"+u+"_dataIndex_"+f,k=n.maps.isTileMap?c(new pt(x,S),a,n.maps.tileTranslatePoint,!0):h(S,x,a,d,n.maps),j=0!==d.animationDuration||t.isNullOrUndefined(n.maps.zoomModule),A=n.maps.isTileMap?"SubLayer"===d.type&&t.isNullOrUndefined(n.maps.zoomModule)?k=c(new pt(x,S),n.maps.tileZoomLevel,n.maps.tileTranslatePoint,!0):new Object:!t.isNullOrUndefined(n.maps.zoomModule)&&n.maps.zoomSettings.zoomFactor>1?he(n.maps,d,j):pe(n.maps,d,j),B="AddMarker"===o?n.maps.scale:A.scale,F="AddMarker"===o?n.maps.translatePoint:A.location;!b.template||isNaN(k.x)||isNaN(k.y)?b.template||isNaN(k.x)||isNaN(k.y)||(l++,E(b,m,g,f,k,F,N,L,B,n.maps,n.markerSVGObject)):(s++,z(b,void 0,N,y,u,p,k,B,L,n.maps))}r+=isNaN(S)||isNaN(x)?1:0,s+=b.cancel?1:0,l+=b.cancel?1:0,n.maps.markerNullCount=t.isNullOrUndefined(x)||t.isNullOrUndefined(S)?n.maps.markerNullCount+1:n.maps.markerNullCount;var R=g.length-n.maps.markerNullCount;n.markerSVGObject.childElementCount===R-s-r&&"Template"!==o&&(e.appendChild(n.markerSVGObject),d.markerClusterSettings.allowClustering&&(n.maps.svgObject.appendChild(n.markerSVGObject),n.maps.element.appendChild(n.maps.svgObject),I(d,n.markerSVGObject,n.maps,i,n.markerSVGObject,e,!0,!1))),p.childElementCount===g.length-l-r&&me(n.maps.element.id+"_Secondary_Element")&&(me(n.maps.element.id+"_Secondary_Element").appendChild(p),d.markerClusterSettings.allowClustering&&I(d,p,n.maps,i,n.markerSVGObject,e,!1,!1))})})})},e.prototype.calculateIndividualLayerMarkerZoomLevel=function(e,t,i){var a,o,n,l,r=Math.abs(this.maps.baseMapBounds.latitude.max-this.maps.baseMapBounds.latitude.min),s=Math.abs(this.maps.baseMapBounds.longitude.max-this.maps.baseMapBounds.longitude.min);return a=Math.floor(Math.log(t/r)),a=a>i?i:a,o=Math.floor(Math.log(e/s)),o=o>i?i:o,n=Math.min(a,o),l=Math.min(n,i-1),this.maps.isTileMap||Ge(l,this.maps),l},e.prototype.calculateZoomCenterPositionAndFactor=function(e){if(this.maps.zoomSettings.shouldZoomInitially&&this.maps.markerModule){var i,a,o,n,l=void 0,r=void 0,s=void 0,d=this.maps.mapAreaRect.width,p=this.maps.mapAreaRect.height;if(this.maps.markerZoomedState=this.maps.markerZoomedState?this.maps.markerZoomedState:t.isNullOrUndefined(this.maps.markerZoomFactor)?!this.maps.markerZoomedState:this.maps.markerZoomFactor>1?this.maps.markerZoomedState:!this.maps.markerZoomedState,this.maps.defaultState=this.maps.markerZoomedState?!this.maps.markerZoomedState:this.maps.defaultState,Array.prototype.forEach.call(e,function(e,l){0!==e.markerSettings.length&&Array.prototype.forEach.call(e.markerSettings,function(e,l){var r=e.dataSource;Array.prototype.forEach.call(r,function(e,l){var r=t.isNullOrUndefined(e.latitude)?null:parseFloat(e.latitude),s=t.isNullOrUndefined(e.longitude)?null:parseFloat(e.longitude);i=t.isNullOrUndefined(i)&&0===l?s:i,a=t.isNullOrUndefined(a)&&0===l?r:a,o=t.isNullOrUndefined(o)&&0===l?r:o,n=t.isNullOrUndefined(n)&&0===l?s:n,i>s&&(i=s),o>r&&(o=r),n<s&&(n=s),a<r&&(a=r)})})}),!(t.isNullOrUndefined(o)||t.isNullOrUndefined(i)||t.isNullOrUndefined(n)||t.isNullOrUndefined(a))){r=(o+a)/2,s=(i+n)/2,this.maps.markerCenterLatitude=r,this.maps.markerCenterLongitude=s,(t.isNullOrUndefined(this.maps.markerZoomCenterPoint)||this.maps.markerZoomedState)&&(this.maps.markerZoomCenterPoint={latitude:r,longitude:s});var h=void 0;this.maps.isTileMap||0===this.maps.baseMapRectBounds.min.x?(l=We(o,a,i,n,d,p,this.maps),this.maps.isTileMap?h=t.isNullOrUndefined(this.maps.markerZoomFactor)?l:t.isNullOrUndefined(this.maps.mapScaleValue)?l:this.maps.mapScaleValue>1&&1!==this.maps.markerZoomFactor?this.maps.mapScaleValue:l:(h=t.isNullOrUndefined(this.maps.mapScaleValue)?l:1!==Math.floor(this.maps.scale)&&this.maps.mapScaleValue!==l&&t.isNullOrUndefined(this.maps.shouldZoomCurrentFactor)?this.maps.mapScaleValue:l)!==this.maps.mapScaleValue||1!==this.maps.markerZoomFactor&&1!==this.maps.mapScaleValue||this.maps.enablePersistence||(h=l)):(l=this.calculateIndividualLayerMarkerZoomLevel(d,p,10),h=t.isNullOrUndefined(this.maps.mapScaleValue)?l:this.maps.mapScaleValue!==l?this.maps.mapScaleValue:l),this.maps.markerZoomFactor=h}}else this.maps.markerZoomedState=!1,this.maps.markerZoomFactor>1&&(this.maps.markerCenterLatitude=null,this.maps.markerCenterLongitude=null,this.maps.markerZoomFactor=1,this.maps.enablePersistence||(this.maps.mapScaleValue=1)),this.maps.isTileMap&&!this.maps.enablePersistence&&this.maps.mapScaleValue<=1&&(this.maps.tileZoomLevel=0===this.maps.mapScaleValue?1:this.maps.mapScaleValue,1===this.maps.mapScaleValue&&1===this.maps.markerZoomFactor&&(this.maps.tileTranslatePoint.x=0,this.maps.tileTranslatePoint.y=0))},e.prototype.markerClick=function(e){var i=e.target.id;if(!(-1===i.indexOf("_LayerIndex_")||i.indexOf("_cluster_")>0)){var a=this.getMarker(i);if(!t.isNullOrUndefined(a)){var o={cancel:!1,name:$t,data:a.data,maps:this.maps,marker:a.marker,target:i,x:e.clientX,y:e.clientY,latitude:a.data.latitude||a.data.Latitude,longitude:a.data.longitude||a.data.Longitude,value:a.data.name};if(this.maps.isBlazor){o.maps,o.marker,o.data;o=Yt(o,["maps","marker","data"])}this.maps.trigger($t,o)}}},e.prototype.markerClusterClick=function(e){var i=e.target.id;if(-1!==i.indexOf("_LayerIndex_")&&-1!==i.indexOf("_cluster_")){var a=this.getMarker(i);if(!t.isNullOrUndefined(a)){a.clusterCollection.length>0&&this.maps.markerClusterExpand&&(ye(this.maps.element.id+"_mapsTooltip")&&this.maps.mapsTooltipModule.tooltipTargetID.indexOf("_MarkerIndex_")>-1&&se(this.maps.element.id+"_mapsTooltip"),this.sameMarkerData.length>0&&!this.maps.markerClusterExpandCheck?(this.maps.markerClusterExpandCheck=!0,N(this.sameMarkerData,this.maps,this.markerSVGObject)):(this.sameMarkerData=a.clusterCollection,this.maps.markerClusterExpandCheck=!1,k(this.sameMarkerData,this.maps,this.markerSVGObject,!0)));var o={cancel:!1,name:ei,data:a,maps:this.maps,target:i,x:e.clientX,y:e.clientY,latitude:a.data.latitude||a.data.Latitude,longitude:a.data.longitude||a.data.Longitude,markerClusterCollection:a.markCollection};if(this.maps.isBlazor){o.maps,o.latitude,o.longitude;o=Yt(o,["maps","latitude","longitude"])}this.maps.trigger(ei,o)}}},e.prototype.getMarker=function(e){var t,i,a=e.split("_LayerIndex_"),o=parseInt(a[1].split("_")[0],10),n=this.maps.layers[o],l=[],r=[];if(this.maps.markerClusterExpand=n.markerClusterSettings.allowClusterExpand,e.indexOf("_MarkerIndex_")>-1){var s=parseInt(a[1].split("_MarkerIndex_")[1].split("_")[0],10),d=parseInt(a[1].split("_dataIndex_")[1].split("_")[0],10);if(i=n.markerSettings[s],!isNaN(s)){t=i.dataSource[d];var p=[];if(!i.template&&e.indexOf("_cluster_")>-1&&this.maps.layers[o].markerClusterSettings.allowClusterExpand&&Array.prototype.forEach.call(i.dataSource,function(e,i){e.latitude===t.latitude&&e.longitude===t.longitude&&p.push({data:t,index:i})}),e.indexOf("_cluster_")>-1){var h=document.getElementById(e.indexOf("_datalabel_")>-1?e.split("_datalabel_")[0]:e).innerHTML.split(",").map(Number);p=[];for(var c=0,m=h;c<m.length;c++){var u=m[c];p.push({data:i.dataSource[u],index:u}),this.maps.isBlazor&&(i.dataSource[u].text=""),l.push(i.dataSource[u])}!1,r.push({data:p,layerIndex:o,markerIndex:s,targetClusterIndex:+(e.split("_cluster_")[1].indexOf("_datalabel_")>-1?e.split("_cluster_")[1].split("_datalabel_")[0]:e.split("_cluster_")[1]),isClusterSame:!1})}return{marker:i,data:t,clusterCollection:r,markCollection:l}}}return null},e.prototype.markerMove=function(e){var i=e.target.id;if(!(-1===i.indexOf("_LayerIndex_")||i.indexOf("_cluster_")>0)){var a=this.getMarker(i);if(!t.isNullOrUndefined(a)){var o={cancel:!1,name:ti,data:a.data,maps:this.maps,target:i,x:e.clientX,y:e.clientY};if(this.maps.isBlazor){o.maps;o=Yt(o,["maps"])}this.maps.trigger(ti,o)}}},e.prototype.markerClusterMouseMove=function(e){var i=e.target.id;if(-1!==i.indexOf("_LayerIndex_")&&-1!==i.indexOf("_cluster_")){var a=this.getMarker(i);if(this.maps.markerClusterExpand&&e.target.setAttribute("style","cursor: pointer"),!t.isNullOrUndefined(a)){var o={cancel:!1,name:ii,data:a.data,maps:this.maps,target:i,x:e.clientX,y:e.clientY};if(this.maps.isBlazor){o.maps;o=Yt(o,["maps"])}this.maps.trigger(ii,o)}}},e.prototype.getModuleName=function(){return"Marker"},e.prototype.destroy=function(e){},e}(),Kt="markerRendering",Qt="markerClusterRendering",$t="markerClick",ei="markerClusterClick",ti="markerMouseMove",ii="markerClusterMouseMove",ai="animationComplete",oi="itemSelection",ni=function(){function e(e){this.maps=e}return e.prototype.getBingMap=function(e,t,i,a,o,n){for(var l,r="",s=Math.min(this.maps.tileZoomLevel,parseInt(this.maxZoom,10));s>0;s--){var d=0,p=1<<s-1;0!=(e.x&p)&&d++,0!=(e.y&p)&&(d+=2),r=r+""+d}return l=n[Math.min(parseInt(r.substr(r.length-1,1),10),n.length)],o=o.replace("{quadkey}",r).replace("{subdomain}",l),o+="&mkt="+a+"&ur=IN&Key="+t},e}(),li=function(){function e(e){this.maps=e}return e.prototype.getShapeColorMapping=function(e,i,a){var o=e.colorValuePath?e.colorValuePath:e.valuePath,n=t.isNullOrUndefined(o)?i[o]:o.indexOf(".")>-1?P(i,o):i[o],l=Number(n),r=this.getColorByValue(e.colorMapping,l,n);return t.isNullOrUndefined(r)?a:r},e.prototype.getColorByValue=function(e,i,a){if(isNaN(i)&&t.isNullOrUndefined(a))return null;for(var o,n="",l=0,r=e;l<r.length;l++){var s=r[l];(!t.isNullOrUndefined(s.from)&&!t.isNullOrUndefined(s.to)&&i>=s.from&&i<=s.to||s.value===a)&&(n="[object Array]"===Object.prototype.toString.call(s.color)?t.isNullOrUndefined(s.value)?this.getColor(s,i):s.color[0]:s.color),(i>=s.from&&i<=s.to||s.value===a)&&!t.isNullOrUndefined(s.minOpacity)&&!t.isNullOrUndefined(s.maxOpacity)&&n&&(o=this.deSaturationColor(s,n,i,a)),(""===n||t.isNullOrUndefined(n))&&t.isNullOrUndefined(s.from)&&t.isNullOrUndefined(s.to)&&t.isNullOrUndefined(s.minOpacity)&&t.isNullOrUndefined(s.maxOpacity)&&t.isNullOrUndefined(s.value)&&(n="[object Array]"===Object.prototype.toString.call(s.color)?s.color[0]:s.color)}return{fill:n||(e.length?null:a),opacity:o}},e.prototype.deSaturationColor=function(e,t,i,a){var o=1;return(i>=e.from&&i<=e.to||e.value===a)&&(o=(isNaN(i)?e.from/(e.to-e.from):(i-e.from)/(e.to-e.from))*(e.maxOpacity-e.minOpacity)+e.minOpacity),o},e.prototype.rgbToHex=function(e,t,i){return"#"+this.componentToHex(e)+this.componentToHex(t)+this.componentToHex(i)},e.prototype.componentToHex=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},e.prototype.getColor=function(e,t){var i,a="";return Number(t)===e.from?a=e.color[0]:Number(t)===e.to?a=e.color[e.color.length-1]:(i=this.getGradientColor(Number(t),e),a=this.rgbToHex(i.r,i.g,i.b)),a},e.prototype.getGradientColor=function(e,t){var i=t.from,a=t.to,o=0,n=a-i;o=(e-i)/n;var l,r;if(t.color.length<=2)l="#"===t.color[0].charAt(0)?t.color[0]:this._colorNameToHex(t.color[0]),r="#"===t.color[t.color.length-1].charAt(0)?t.color[t.color.length-1]:this._colorNameToHex(t.color[t.color.length-1]);else{l="#"===t.color[0].charAt(0)?t.color[0]:this._colorNameToHex(t.color[0]),r="#"===t.color[t.color.length-1].charAt(0)?t.color[t.color.length-1]:this._colorNameToHex(t.color[t.color.length-1]);for(var s=n/(t.color.length-1),d=t.color.length-1,p=[],h={},c=1;c<d;c++)h={b:i+c*s,color:t.color[c]},p.push(h);for(var m=0;m<p.length;m++)i<=e&&e<=p[m].b&&0===m?(r="#"===p[m].color.charAt(0)?p[m].color:this._colorNameToHex(p[m].color),o=e<p[m].b?1-Math.abs((e-p[m].b)/s):(e-p[m].b)/s):p[m].b<=e&&e<=a&&m===p.length-1&&(l="#"===p[m].color.charAt(0)?p[m].color:this._colorNameToHex(p[m].color),o=e<p[m].b?1-Math.abs((e-p[m].b)/s):(e-p[m].b)/s),m!==p.length-1&&m<p.length&&p[m].b<=e&&e<=p[m+1].b&&(l="#"===p[m].color.charAt(0)?p[m].color:this._colorNameToHex(p[m].color),r="#"===p[m+1].color.charAt(0)?p[m+1].color:this._colorNameToHex(p[m+1].color),o=Math.abs(e-p[m+1].b)/s)}return this.getPercentageColor(o,l,r)},e.prototype.getPercentageColor=function(e,t,i){var a=i.split("#")[1],o=t.split("#")[1],n=this.getPercentage(e,parseInt(o.substr(0,2),16),parseInt(a.substr(0,2),16)),l=this.getPercentage(e,parseInt(o.substr(2,2),16),parseInt(a.substr(2,2),16)),r=this.getPercentage(e,parseInt(o.substr(4,2),16),parseInt(a.substr(4,2),16));return new at(n,l,r)},e.prototype.getPercentage=function(e,t,i){var a=i-t;return Math.round(t+a*e)},e.prototype._colorNameToHex=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",orchid:"#da70d6",papayawhip:"#ffefd5",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"[object Array]"===Object.prototype.toString.call(e)?e:void 0!==t[e.toLowerCase()]?t[e.toLowerCase()]:e},e}(),ri=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(i[a[o]]=e[a[o]]);return i},si=function(){function e(e){this.isMapCoordinates=!0,this.horizontalPan=!1,this.horizontalPanXCount=0,this.mapObject=e,this.ajaxModule=new t.Ajax,this.ajaxResponse=[]}return e.prototype.measureLayerPanel=function(){var e=this,i=this.mapObject.layersCollection,a=this.mapObject.mapAreaRect,o=me(this.mapObject.element.id+"_Secondary_Element");if(this.mapObject.isTileMap&&o){this.tileSvgObject=this.mapObject.renderer.createSvg({id:this.mapObject.element.id+"_Tile_SVG",width:a.width,height:a.height});var n=t.createElement("div",{id:this.mapObject.element.id+"_Tile_SVG_Parent",styles:"position: absolute; height: "+a.height+"px; width: "+a.width+"px;"});n.appendChild(this.tileSvgObject),o.appendChild(n)}if(this.layerGroup=this.mapObject.renderer.createGroup({id:this.mapObject.element.id+"_Layer_Collections","clip-path":"url(#"+this.mapObject.element.id+"_MapArea_ClipRect)"}),"GoogleStaticMap"===this.mapObject.layers[this.mapObject.baseLayerIndex].layerType){this.clipRectElement=this.mapObject.renderer.drawClipPath(new ot(this.mapObject.element.id+"_MapArea_ClipRect","transparent",{width:1,color:"Gray"},1,{x:(a.width-640)/2,y:0,width:640,height:a.height}))}else this.clipRectElement=this.mapObject.renderer.drawClipPath(new ot(this.mapObject.element.id+"_MapArea_ClipRect","transparent",{width:1,color:"Gray"},1,{x:this.mapObject.isTileMap?0:a.x,y:this.mapObject.isTileMap?0:a.y,width:a.width,height:a.height}));this.layerGroup.appendChild(this.clipRectElement),this.mapObject.baseMapBounds=null,this.mapObject.baseMapRectBounds=null,this.mapObject.baseSize=null,Array.prototype.forEach.call(i,function(t,i){e.currentLayer=t,e.processLayers(t,i)})},e.prototype.renderTileLayer=function(e,i,a,o){e.currentFactor=e.calculateFactor(i),e.mapObject.defaultState=!(1!==e.mapObject.zoomSettings.zoomFactor&&!t.isNullOrUndefined(e.mapObject.tileZoomLevel)&&1!==e.mapObject.tileZoomLevel),t.isNullOrUndefined(e.mapObject.previousCenterLatitude)&&t.isNullOrUndefined(e.mapObject.previousCenterLongitude)?(e.mapObject.previousCenterLatitude=e.mapObject.centerPosition.latitude,e.mapObject.previousCenterLongitude=e.mapObject.centerPosition.longitude):e.mapObject.previousCenterLatitude!==e.mapObject.centerPosition.latitude&&e.mapObject.previousCenterLongitude!==e.mapObject.centerPosition.longitude?(e.mapObject.centerPositionChanged=!0,e.mapObject.previousCenterLatitude=e.mapObject.centerPosition.latitude,e.mapObject.previousCenterLongitude=e.mapObject.centerPosition.longitude):e.mapObject.centerPositionChanged=!1;var n=new Qe(e.mapObject.centerPosition.longitude,e.mapObject.centerPosition.latitude),l=n;this.mapObject.isTileMap&&e.mapObject.markerModule&&e.mapObject.zoomSettings.enable&&(e.mapObject.markerModule.calculateZoomCenterPositionAndFactor(this.mapObject.layersCollection),t.isNullOrUndefined(this.mapObject.markerCenterLatitude)||t.isNullOrUndefined(this.mapObject.markerCenterLongitude)||(l=new Qe(e.mapObject.markerCenterLongitude,e.mapObject.markerCenterLatitude))),n=!e.mapObject.zoomSettings.shouldZoomInitially&&e.mapObject.centerPosition.longitude&&e.mapObject.centerPosition.latitude&&!e.mapObject.zoomPersistence&&e.mapObject.defaultState?new Qe(e.mapObject.centerPosition.longitude,e.mapObject.centerPosition.latitude):e.mapObject.zoomSettings.shouldZoomInitially&&e.mapObject.markerZoomedState&&!e.mapObject.zoomPersistence&&!t.isNullOrUndefined(e.mapObject.markerZoomCenterPoint)?new Qe(e.mapObject.markerZoomCenterPoint.longitude,e.mapObject.markerZoomCenterPoint.latitude):{x:null,y:null};var r=e.mapObject.zoomSettings.shouldZoomInitially?t.isNullOrUndefined(e.mapObject.markerZoomFactor)?1:e.mapObject.markerZoomFactor:e.mapObject.zoomSettings.zoomFactor;if(r=e.mapObject.enablePersistence?t.isNullOrUndefined(e.mapObject.mapScaleValue)?t.isNullOrUndefined(e.mapObject.markerZoomFactor)?e.mapObject.zoomSettings.zoomFactor:e.mapObject.markerZoomFactor:e.mapObject.mapScaleValue:r,r=e.mapObject.zoomSettings.enable?r:e.mapObject.zoomSettings.zoomFactor,t.isNullOrUndefined(e.mapObject.tileZoomLevel)?(e.mapObject.tileZoomLevel=r,e.mapObject.previousZoomFactor=r):this.mapObject.isReset&&1===e.mapObject.tileZoomLevel&&!e.mapObject.zoomSettings.shouldZoomInitially?e.mapObject.tileZoomLevel=e.mapObject.tileZoomLevel:(1!==e.mapObject.zoomSettings.zoomFactor||e.mapObject.zoomSettings.shouldZoomInitially)&&(e.mapObject.tileZoomLevel=e.mapObject.defaultState&&e.mapObject.zoomSettings.enable?e.mapObject.tileZoomLevel:e.mapObject.zoomSettings.shouldZoomInitially||e.mapObject.centerPositionChanged?r:e.mapObject.previousZoomFactor!==e.mapObject.zoomSettings.zoomFactor?e.mapObject.zoomSettings.zoomFactor:e.mapObject.tileZoomLevel,!t.isNullOrUndefined(e.mapObject.tileTranslatePoint)&&(e.mapObject.markerZoomFactor!==e.mapObject.mapScaleValue||t.isNullOrUndefined(e.mapObject.markerZoomFactor)&&t.isNullOrUndefined(e.mapObject.mapScaleValue))&&(e.mapObject.zoomSettings.zoomFactor<=1||e.mapObject.previousZoomFactor!==e.mapObject.zoomSettings.zoomFactor)&&(e.mapObject.tileTranslatePoint.x=0,e.mapObject.tileTranslatePoint.y=0)),r<=1&&!t.isNullOrUndefined(e.mapObject.height)&&!e.mapObject.zoomSettings.shouldZoomInitially&&e.mapObject.tileZoomLevel===e.mapObject.tileZoomScale&&this.mapObject.initialCheck&&ce(this.mapObject),t.isNullOrUndefined(e.mapObject.centerLatOfGivenLocation)||t.isNullOrUndefined(e.mapObject.centerLongOfGivenLocation)||!e.mapObject.zoomNotApplied||(l.y=e.mapObject.centerLatOfGivenLocation,l.x=e.mapObject.centerLongOfGivenLocation,e.mapObject.tileZoomLevel=e.mapObject.mapScaleValue=e.mapObject.scaleOfGivenLocation),e.mapObject.tileTranslatePoint=e.panTileMap(e.mapObject.availableSize.width,e.mapObject.availableSize.height,l),this.mapObject.zoomSettings.resetToInitial&&this.mapObject.initialCheck&&!t.isNullOrUndefined(e.mapObject.height)&&this.mapObject.availableSize.height>512){this.mapObject.applyZoomReset=!0,this.mapObject.initialZoomLevel=Math.floor(this.mapObject.availableSize.height/512)+1;var s="GoogleStaticMap"!==this.mapObject.layers[this.mapObject.baseLayerIndex].layerType?20:0,d=256*Math.pow(2,this.mapObject.initialZoomLevel);this.mapObject.initialTileTranslate.x=this.mapObject.availableSize.width/2-d/2,this.mapObject.initialTileTranslate.y=this.mapObject.availableSize.height/2-d/2+s}e.generateTiles(e.mapObject.tileZoomLevel,e.mapObject.tileTranslatePoint,null,o),t.isNullOrUndefined(e.mapObject.previousZoomFactor)||e.mapObject.previousZoomFactor===e.mapObject.zoomSettings.zoomFactor||(e.mapObject.previousZoomFactor=e.mapObject.zoomSettings.zoomFactor),e.mapObject.navigationLineModule&&e.layerObject.appendChild(e.mapObject.navigationLineModule.renderNavigation(e.currentLayer,e.mapObject.tileZoomLevel,a)),e.mapObject.markerModule&&e.mapObject.markerModule.markerRender(e.layerObject,a,e.mapObject.tileZoomLevel,null),e.translateLayerElements(e.layerObject,a),e.layerGroup.appendChild(e.layerObject)},e.prototype.processLayers=function(e,i){var a=this;if(this.layerObject=this.mapObject.renderer.createGroup({id:this.mapObject.element.id+"_LayerIndex_"+i}),!this.mapObject.enablePersistence){var o=this.mapObject.getModuleName()+this.mapObject.element.id;-1===navigator.userAgent.indexOf("Edge")&&!t.isNullOrUndefined(window.localStorage)&&window.localStorage.getItem(o)&&window.localStorage.removeItem(o)}var n={cancel:!1,name:"layerRendering",index:i,layer:e,maps:this.mapObject,visible:e.visible};if(this.mapObject.isBlazor){n.maps,n.layer;var l=ri(n,["maps","layer"]);n=l}this.mapObject.trigger("layerRendering",n,function(o){if(!n.cancel&&n.visible)if("Geometry"!==e.layerType){if("Bing"!==e.layerType||a.bing)a.renderTileLayer(a,e,i);else if(e.key&&e.key.length>1){var l=a,r=new ni(a.mapObject),s="https://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+("AerialWithLabel"===e.bingMapType?"AerialWithLabelsOnDemand":e.bingMapType),d=new t.Ajax({url:s+"?output=json&include=ImageryProviders&urischeme=https&key="+e.key});d.onSuccess=function(t){var o=JSON.parse(t).resourceSets[0].resources[0],n=o.imageUrl,s=o.imageUrlSubdomains,d=o.zoomMax;null!==n&&void 0!==n&&n!==r.imageUrl&&(r.imageUrl=n),null!==s&&void 0!==s&&s!==r.subDomains&&(r.subDomains=s),null!==d&&void 0!==d&&d!==r.maxZoom&&(r.maxZoom=d),l.mapObject.bingMap=r,l.renderTileLayer(l,e,i,r),a.mapObject.arrangeTemplate()},d.send()}}else if(!(t.isNullOrUndefined(e.shapeData)||t.isNullOrUndefined(e.shapeData.geometries)&&t.isNullOrUndefined(e.shapeData.features))){var p=!t.isNullOrUndefined(e.shapeData.geometries)&&e.shapeData.geometries.length>0?e.shapeData.geometries:e.shapeData.features;e.layerData=[];var h=e.shapeData.bbox;!t.isNullOrUndefined(h)&&e.isBaseLayer?a.mapObject.baseMapBounds=new et({min:h[0][1],max:h[1][1]},{min:h[0][0],max:h[1][0]}):t.isNullOrUndefined(a.mapObject.baseMapBounds)&&!ne(p)&&a.calculateRectBounds(p),a.calculatePathCollection(i,p)}}),this.mapObject.isTileMap?this.tileSvgObject&&(this.tileSvgObject.appendChild(this.layerGroup),this.mapObject.baseMapBounds=null):this.mapObject.svgObject.appendChild(this.layerGroup)},e.prototype.bubbleCalculation=function(e,i){if(null!=e.dataSource&&null!=e)for(var a=0;a<e.dataSource.length;a++){var o=t.isNullOrUndefined(e.valuePath)?parseFloat(e.dataSource[a][e.valuePath]):e.valuePath.indexOf(".")>-1?Number(P(e.dataSource[a],e.valuePath)):parseFloat(e.dataSource[a][e.valuePath]);0!==a?o>i.max?i.max=o:o<i.min&&(i.min=o):i.max=i.min=o}},e.prototype.calculatePathCollection=function(e,i){var a=this;this.groupElements=[],ne(i)||(this.currentFactor=this.calculateFactor(this.currentLayer)),this.rectBounds=null;var o=this.currentLayer.shapeSettings;this.currentLayer.bubbleSettings;Array.prototype.forEach.call(i,function(e,i){if(!t.isNullOrUndefined(e.geometry)||!t.isNullOrUndefined(e.coordinates)){var o=t.isNullOrUndefined(e.geometry)?e.type:e.geometry.type,n=t.isNullOrUndefined(e.geometry)?e.coordinates:e.geometry.coordinates,l=e.geometry,r=e.properties;a.generatePoints(o,n,l,r)}}),this.currentLayer.rectBounds=this.rectBounds,t.isNullOrUndefined(this.mapObject.baseMapRectBounds)&&this.currentLayer.isBaseLayer&&(this.mapObject.baseMapRectBounds=this.rectBounds);var n=o.palette.length>1?o.palette:(this.mapObject.theme,["#B5E485","#7BC1E8","#DF819C","#EC9B79","#78D0D3","#D6D572","#9178E3","#A1E5B4","#87A4B4","#E4C16C"]),l=t.createElement("div",{id:this.mapObject.element.id+"_LayerIndex_"+e+"_Label_Template_Group",className:this.mapObject.element.id+"_template",styles:"pointer-events: none; overflow: hidden; position: absolute;top:"+this.mapObject.mapAreaRect.y+"px;left:"+this.mapObject.mapAreaRect.x+"px;height:"+this.mapObject.mapAreaRect.height+"px;width:"+this.mapObject.mapAreaRect.width+"px;"});if(0!==this.currentLayer.layerData.length)for(var r=this,s=0;s<this.currentLayer.layerData.length;s++)!function(s){var d,p,h,c,m,u=void 0,g=r.currentLayer.layerData[s],y="",f="",b=void 0,v=o.autofill?n[s%n.length]:o.fill;null===o.colorValuePath||t.isNullOrUndefined(g.property)||(null!==(u=ee(r.currentLayer.dataSource,g.property,r.currentLayer.shapeDataPath,r.currentLayer.shapePropertyPath,r.currentLayer))&&0===o.colorMapping.length?v=r.currentLayer.shapeSettings.colorValuePath.indexOf(".")>-1?P(r.currentLayer.dataSource[u],o.colorValuePath):r.currentLayer.dataSource[u][o.colorValuePath]:g.property[o.colorValuePath]&&0===r.currentLayer.dataSource.length&&0===o.colorMapping.length&&(v=r.currentLayer.shapeSettings.colorValuePath.indexOf(".")>-1?P(g.property,o.colorValuePath):g.property[o.colorValuePath]),v=t.isNullOrUndefined(v)?o.fill:v);var x=r.mapObject.element.id+"_LayerIndex_"+e+"_shapeIndex_"+s+"_dataIndex_"+u;b=r.getShapeColorMapping(r.currentLayer,g.property,v),v="[object Object]"!==Object.prototype.toString.call(b)||t.isNullOrUndefined(b.fill)?v:b.fill,m="[object Object]"!==Object.prototype.toString.call(b)||t.isNullOrUndefined(b.opacity)?o.opacity:b.opacity;var S={cancel:!1,name:"shapeRendering",index:s,data:r.currentLayer.dataSource?r.currentLayer.dataSource[u]:null,maps:r.mapObject,shape:o,fill:v,border:{width:o.border.width,color:o.border.color}};if(r.mapObject.isBlazor){S.maps;S=ri(S,["maps"])}var O=function(r){var u=t.isNullOrUndefined(g._isMultiPolygon)?t.isNullOrUndefined(g.type)?g[0].type:g.type:"MultiPolygon";if(u="Polygon"===u||"MultiPolygon"===u?"Polygon":u,r.cancel?(r.fill=v,r.border.color=o.border.color,r.border.width=o.border.width,a.mapObject.layers[e].shapeSettings.border=o.border):(r.fill="#A6A6A6"===r.fill?r.shape.fill:r.fill,r.border.color="#000000"===r.border.color?r.shape.border.color:r.border.color,r.border.width=0===r.border.width?r.shape.border.width:r.border.width,a.mapObject.layers[e].shapeSettings.border=r.border),a.groupElements.length<1)c=a.mapObject.renderer.createGroup({id:a.mapObject.element.id+"_LayerIndex_"+e+"_"+u+"_Group",transform:""}),a.groupElements.push(c);else for(var b=0;b<a.groupElements.length;b++){var S=a.groupElements[b];if(S.id.indexOf(u)>-1){c=S;break}if(b>=a.groupElements.length-1){c=a.mapObject.renderer.createGroup({id:a.mapObject.element.id+"_LayerIndex_"+e+"_"+u+"_Group"}),a.groupElements.push(c);break}}var O;switch(u){case"Polygon":g._isMultiPolygon?y=a.generateMultiPolygonPath(g):(y+="M"+g[0].point.x+" "+g[0].point.y,g.map(function(e){y+=" L "+e.point.x+" "+e.point.y})),(y+=" z ").length>3&&(d=new it(x,r.fill,r.border.width,r.border.color,m,o.dashArray,y),O=a.mapObject.renderer.drawPath(d));break;case"LineString":g.map(function(e){f+=e.point.x+" , "+e.point.y+" "}),p=new rt(x,f,r.fill,r.border.width,r.border.color,m,o.dashArray),O=a.mapObject.renderer.drawPolyline(p);break;case"Point":var _=g.point;h=new nt(x,r.fill,r.border,m,_.x,_.y,o.circleRadius,null),O=a.mapObject.renderer.drawCircle(h);break;case"Path":y=g.point,d=new it(x,r.fill,r.border.width,r.border.color,m,o.dashArray,y),O=a.mapObject.renderer.drawPath(d)}if(!t.isNullOrUndefined(O)){for(var M="[object Array]"===Object.prototype.toString.call(a.currentLayer.shapePropertyPath)?a.currentLayer.shapePropertyPath:[a.currentLayer.shapePropertyPath],C=void 0,L=0;L<M.length;L++)if(!t.isNullOrUndefined(g.property)){C=M[L];break}if(O.setAttribute("aria-label",t.isNullOrUndefined(g.property)?"":g.property[C]),O.setAttribute("tabindex",(a.mapObject.tabIndex+s+2).toString()),j(a.mapObject.selectedElementId,a.mapObject.shapeSelectionClass,O,"ShapeselectionMapStyle"),a.mapObject.toggledShapeElementId)for(L=0;L<a.mapObject.toggledShapeElementId.length;L++){var P=a.mapObject.legendSettings.toggleLegendSettings.applyShapeSettings?a.currentLayer.shapeSettings:a.mapObject.legendSettings.toggleLegendSettings;a.mapObject.toggledShapeElementId[L]===O.id&&(O.setAttribute("fill",P.fill),O.setAttribute("stroke",P.border.color),O.setAttribute("opacity",P.opacity.toString()),O.setAttribute("stroke-width",P.border.width.toString()))}c.appendChild(O)}s===a.currentLayer.layerData.length-1&&a.layerFeatures(e,n,i,l)};O.bind(r),r.mapObject.trigger("shapeRendering",S,O)}(s);else this.layerFeatures(e,n,i,l)},e.prototype.layerFeatures=function(e,t,i,a){var o,n=this;if(this.currentLayer.bubbleSettings.length&&this.mapObject.bubbleModule)for(var l,r=this.currentLayer.bubbleSettings.length,s=this,d=0;d<r;d++)!function(i){l=s.currentLayer.bubbleSettings[i],o=s.mapObject.renderer.createGroup({id:s.mapObject.element.id+"_LayerIndex_"+e+"_bubble_Group_"+i});var a={min:0,max:0};s.bubbleCalculation(l,a),l.dataSource.map(function(r,s){n.renderBubble(n.currentLayer,r,t[s%t.length],a,i,s,o,e,l)}),s.groupElements.push(o)}(d);this.mapObject.markerModule&&!this.mapObject.isTileMap&&this.mapObject.zoomSettings.enable&&this.mapObject.markerModule.calculateZoomCenterPositionAndFactor(this.mapObject.layersCollection);var p=this.mapObject.renderer.createGroup({id:this.mapObject.element.id+"_LayerIndex_"+e+"_dataLableIndex_Group",style:"pointer-events: none;"});if(this.mapObject.dataLabelModule&&this.currentLayer.dataLabelSettings.visible){var h=[];i.map(function(t,i){n.renderLabel(n.currentLayer,e,t,p,i,a,h)}),this.groupElements.push(p)}this.mapObject.navigationLineModule&&this.groupElements.push(this.mapObject.navigationLineModule.renderNavigation(this.currentLayer,this.currentFactor,e)),this.groupElements.map(function(e){n.layerObject.appendChild(e)}),this.mapObject.markerModule&&this.mapObject.markerModule.markerRender(this.layerObject,e,this.mapObject.isTileMap?Math.floor(this.currentFactor):this.currentFactor,null),this.translateLayerElements(this.layerObject,e),this.layerGroup.appendChild(this.layerObject)},e.prototype.renderLabel=function(e,t,i,a,o,n,l){this.mapObject.dataLabelModule.renderLabel(e,t,i,e.layerData,a,n,o,l)},e.prototype.generateMultiPolygonPath=function(e){for(var t="",i=0;i<e.length;i++)t+="M"+e[i][0].point.x+" "+e[i][0].point.y,e[i].map(function(e){t+=" L "+e.point.x+" "+e.point.y});return t},e.prototype.renderBubble=function(e,i,a,o,n,l,r,s,d){if(t.isNullOrUndefined(this.mapObject.bubbleModule)||!d.visible)return null;a=d.fill?d.fill:a,this.mapObject.bubbleModule.id=this.mapObject.element.id+"_LayerIndex_"+s+"_BubbleIndex_"+n+"_dataIndex_"+l,this.mapObject.bubbleModule.renderBubble(d,i,a,o,n,l,s,e,r,this.mapObject.bubbleModule.id)},e.prototype.getShapeColorMapping=function(e,i,a){if(a=a||e.shapeSettings.fill,0===e.shapeSettings.colorMapping.length&&t.isNullOrUndefined(e.dataSource))return a;var o=ee(e.dataSource,i,e.shapeDataPath,e.shapePropertyPath,e),n=new li(this.mapObject);return t.isNullOrUndefined(e.dataSource[o])?a:n.getShapeColorMapping(e.shapeSettings,e.dataSource[o],a)},e.prototype.generatePoints=function(e,t,i,a){var o,n,l=this,r=[];switch(e.toLowerCase()){case"polygon":(r=this.calculatePolygonBox(t[0],i,a)).length>0&&(r.property=a,r.type=e,r._isMultiPolygon=!1,this.currentLayer.layerData.push(r));break;case"multipolygon":for(var s=[],d=0;d<t.length;d++)(r=this.calculatePolygonBox(t[d][0],i,a)).length>0&&s.push(r);s.property=a,s.type=e,s._isMultiPolygon=!0,this.currentLayer.layerData.push(s);break;case"linestring":t.map(function(e,t){o=e[1],n=e[0];var i=h(o,n,l.currentFactor,l.currentLayer,l.mapObject);r.push({point:i,lat:o,lng:n})}),r.property=a,r.type=e,this.currentLayer.layerData.push(r);break;case"point":var p=!1;if(t.map(function(t,i){if("[object Array]"===Object.prototype.toString.call(t)){o=t[1],n=t[0],p=!0;var r=h(o,n,l.currentFactor,l.currentLayer,l.mapObject);l.currentLayer.layerData.push({point:r,type:e,lat:o,lng:n,property:a})}}),!p){o=t[1],n=t[0];var c=h(o,n,this.currentFactor,this.currentLayer,this.mapObject);this.currentLayer.layerData.push({point:c,type:e,lat:o,lng:n,property:a})}break;case"path":this.currentLayer.layerData.push({point:i.d,type:e,property:a})}},e.prototype.calculateFactor=function(e){var t,i,a,o=1,n=this.mapObject.baseMapBounds,l=new Ke(this.mapObject.mapAreaRect.width,this.mapObject.mapAreaRect.height-5);if(n){var r=h(n.latitude.min,n.longitude.min,null,e,this.mapObject),s=h(n.latitude.max,n.longitude.max,null,e,this.mapObject);i=s.y-r.y,a=s.x-r.x}else i=a=500;return t=i<l.height?parseFloat(Math.abs(100*Number(l.height/Number(i.toString()+"e+1"))).toString().split(".")[0])/10:l.height/i,o=a<l.width?parseFloat(Math.abs(100*Number(l.width/Number(a.toString()+"e+1"))).toString().split(".")[0])/10:l.width/a,Math.min(o,t)},e.prototype.translateLayerElements=function(e,i){var a;if(this.mapObject.translateType="layer",t.isNullOrUndefined(this.mapObject.baseMapRectBounds)){if(this.mapObject.isTileMap&&!t.isNullOrUndefined(this.mapObject.scale))for(var o=0;o<e.childElementCount;o++)if(!((a=e.childNodes[o]).id.indexOf("_Markers_Group")>-1||a.id.indexOf("_bubble_Group")>-1||a.id.indexOf("_dataLableIndex_Group")>-1||a.id.indexOf("_line_Group")>-1)){h="scale( "+this.mapObject.scale+" ) translate( "+this.mapObject.translatePoint.x+" "+this.mapObject.translatePoint.y+" ) ";a.setAttribute("transform",h)}}else{var n=this.currentLayer.animationDuration,l=0!==n||t.isNullOrUndefined(this.mapObject.zoomModule);this.mapObject.baseTranslatePoint=this.mapObject.zoomTranslatePoint;var r=void 0;r=this.mapObject.zoomSettings.zoomFactor>1&&!t.isNullOrUndefined(this.mapObject.zoomModule)?he(this.mapObject,this.currentLayer,l):pe(this.mapObject,this.currentLayer,l);var s=this.mapObject.previousScale=r.scale,d=this.mapObject.previousPoint=r.location;this.mapObject.baseTranslatePoint=this.mapObject.translatePoint=d,this.mapObject.baseScale=this.mapObject.scale=s;for(var p=0;p<e.childElementCount;p++)if(!((a=e.childNodes[p]).id.indexOf("_Markers_Group")>-1||a.id.indexOf("_bubble_Group")>-1||a.id.indexOf("_dataLableIndex_Group")>-1)){var h="scale( "+s+" ) translate( "+d.x+" "+d.y+" ) ";a.setAttribute("transform",h),n>0&&!t.isNullOrUndefined(this.mapObject.zoomModule)&&(r=this.mapObject.zoomSettings.zoomFactor>1?he(this.mapObject,this.currentLayer):pe(this.mapObject,this.currentLayer),this.mapObject.scale=r.scale,this.mapObject.zoomTranslatePoint=this.mapObject.translatePoint=r.location)}}},e.prototype.calculateRectBounds=function(e){var i=this;Array.prototype.forEach.call(e,function(e,a){if(!t.isNullOrUndefined(e.geometry)||!t.isNullOrUndefined(e.coordinates)){var o=t.isNullOrUndefined(e.geometry)?e.type:e.geometry.type,n=t.isNullOrUndefined(e.geometry)?e.coordinates:e.geometry.coordinates;switch(o.toLowerCase()){case"polygon":i.calculateRectBox(n[0]);break;case"multipolygon":n.map(function(e,t){i.calculateRectBox(e[0])})}}})},e.prototype.calculatePolygonBox=function(e,i,a){var o=this,n=[],l=this.mapObject.baseMapBounds;return e.map(function(e,i){var a=e[1],r=e[0];if(r>=l.longitude.min&&r<=l.longitude.max&&a>=l.latitude.min&&a<=l.latitude.max){var s=h(a,r,o.currentFactor,o.currentLayer,o.mapObject);t.isNullOrUndefined(o.rectBounds)?o.rectBounds={min:{x:s.x,y:s.y},max:{x:s.x,y:s.y}}:(o.rectBounds.min.x=Math.min(o.rectBounds.min.x,s.x),o.rectBounds.min.y=Math.min(o.rectBounds.min.y,s.y),o.rectBounds.max.x=Math.max(o.rectBounds.max.x,s.x),o.rectBounds.max.y=Math.max(o.rectBounds.max.y,s.y)),n.push({point:s,lat:a,lng:r})}}),n},e.prototype.calculateRectBox=function(e){var i=this;Array.prototype.forEach.call(e,function(e){t.isNullOrUndefined(i.mapObject.baseMapBounds)?i.mapObject.baseMapBounds=new et({min:e[1],max:e[1]},{min:e[0],max:e[0]}):(i.mapObject.baseMapBounds.latitude.min=Math.min(i.mapObject.baseMapBounds.latitude.min,e[1]),i.mapObject.baseMapBounds.latitude.max=Math.max(i.mapObject.baseMapBounds.latitude.max,e[1]),i.mapObject.baseMapBounds.longitude.min=Math.min(i.mapObject.baseMapBounds.longitude.min,e[0]),i.mapObject.baseMapBounds.longitude.max=Math.max(i.mapObject.baseMapBounds.longitude.max,e[0]))})},e.prototype.generateTiles=function(e,i,a,o,n){var l=this.mapObject.locale,r=this.mapObject.availableSize;this.tiles=[];var s,d;s=d=Math.pow(2,e);var p=0,h=0;i.x+256*s<r.width&&(p=i.x>0?Math.ceil(i.x/256):0,h=i.x+256*s<r.width?Math.ceil((r.width-(i.x+256*s))/256):0),s+=p+h,"Pan"===a?(s=this.horizontalPanXCount>=s?this.horizontalPanXCount:s,this.horizontalPan=!1):(this.horizontalPanXCount=s,this.horizontalPan=!0);var c=this.mapObject.layers[this.mapObject.baseLayerIndex];this.urlTemplate=c.urlTemplate;var m=Math.min(d,(-i.y+r.height)/256+1),u=Math.min(s,(-i.x+r.width+256*h)/256+1),g=-(i.x+256*p+256)/256,y=-(i.y+256)/256;o=o||this.bing||this.mapObject.bingMap;for(var f=Math.round(g);f<Math.round(u);f++)for(var b=Math.round(y);b<Math.round(m);b++){var v=256*f+i.x,x=256*b+i.y;if(v>-256&&v<=r.width&&x>-256&&x<r.height&&b>=0){var S=f;f<0&&(S=S%d+d);var O=new qt(S%d,b);if(O.left=v,O.top=x,"Bing"===c.layerType){var _=c.key;O.src=o.getBingMap(O,_,c.bingMapType,l,o.imageUrl,o.subDomains)}else O.src=this.urlTemplate.replace("level",e.toString()).replace("tileX",O.x.toString()).replace("tileY",O.y.toString());this.tiles.push(O)}}t.isNullOrUndefined(a)||(a.indexOf("wheel")>1?(this.animateToZoomX=this.mapObject.availableSize.width/2-n.x-10,this.animateToZoomY=-n.y):(this.animateToZoomX=-10,this.animateToZoomY=10-(this.mapObject.availableSize.height/2+11.5)));for(var M=t.extend([],this.tiles,[],!0),C=0,L=this.mapObject.layers;C<L.length;C++){var P=L[C];if("SubLayer"===P.type&&P.visible&&("OSM"===P.layerType||"Bing"===P.layerType))for(var w=0,T=M;w<T.length;w++){var I=T[w],N=t.extend(I,{},{},!0);"Bing"===P.layerType?N.src=o.getBingMap(N,P.key,P.bingMapType,l,o.imageUrl,o.subDomains):N.src=P.urlTemplate.replace("level",e.toString()).replace("tileX",I.x.toString()).replace("tileY",I.y.toString()),this.tiles.push(N)}}this.arrangeTiles(a,this.animateToZoomX,this.animateToZoomY)},e.prototype.arrangeTiles=function(e,i,a){var o,n=this,l=document.getElementById(this.mapObject.element.id+"_tile_parent"),r=document.getElementById(this.mapObject.element.id+"_tiles");t.isNullOrUndefined(e)||"Pan"===e||"Reset"===e||-1!==e.indexOf("ZoomOut")?o=0:(this.tileAnimation(e,i,a),o=250),"GoogleStaticMap"===this.mapObject.layers[this.mapObject.baseLayerIndex].layerType?this.renderGoogleMap(this.mapObject.layers[0].key,this.mapObject.staticMapZoom):setTimeout(function(){l&&(l.style.zIndex="1"),r&&(r.style.zIndex="0",r.style.visibility="hidden");var i;!document.getElementById("animated_tiles")&&l?(i=t.createElement("div",{id:n.mapObject.element.id+"_animated_tiles"}),l.appendChild(i)):"Pan"!==e&&r&&l?(r.appendChild(l.children[0]),i=t.createElement("div",{id:n.mapObject.element.id+"_animated_tiles"}),l.appendChild(i)):i=l?l.children[0]:null;for(var a=0,o=0,s=n.tiles;o<s.length;o++){var d=s[o],p=t.createElement("img");p.setAttribute("src",d.src);var h=void 0;document.getElementById("tile_"+a)&&"Pan"===e&&se("tile_"+a),(h=t.createElement("div",{id:"tile_"+a})).style.position="absolute",h.style.left=d.left+"px",h.style.top=d.top+"px",h.style.height=d.height+"px",h.style.width=d.width+"px",h.appendChild(p),i&&i.appendChild(h),a++}},o)},e.prototype.tileAnimation=function(e,i,a){var o=document.getElementById(this.mapObject.element.id+"_tile_parent"),n=document.getElementById("animated_tiles"),l=document.getElementById(this.mapObject.element.id+"_tiles"),r="2";if(0===e.indexOf("ZoomOut")){for(l.style.zIndex="1",o.style.zIndex="0";l.childElementCount>=1;)l.removeChild(l.children[0]);i=0,a=105,r="0.5"}else if("Reset"===e){for(l.style.zIndex="1",o.style.zIndex="0";1!==l.childElementCount&&0!==l.childElementCount;)l.removeChild(l.children[1]);n=l.children[0],i=0,a=0,r="1"}t.isNullOrUndefined(n)||(n.style.transition="250ms",n.style.transform="translate("+i+"px, "+a+"px) scale("+r+")")},e.prototype.renderGoogleMap=function(e,i){var a,o=this.mapObject;i=this.mapObject.tileZoomLevel;var n,l,r=256*Math.pow(2,i);n=o.mapAreaRect.width/2-r/2,l=o.mapAreaRect.height/2-r/2;var s=0,d=0,p=c(new Qe(null,null),i,{x:n,y:l},this.isMapCoordinates);o.zoomModule&&o.zoomSettings.enable&&(s=o.zoomModule.mouseDownLatLong.x-o.zoomModule.mouseMoveLatLong.x,d=o.zoomModule.mouseDownLatLong.y-o.zoomModule.mouseMoveLatLong.y);var h=o.pointToLatLong(p.x-s,p.y-d);o.centerPosition.latitude=h.latitude,o.centerPosition.longitude=h.longitude;var m,u;m=t.isNullOrUndefined(parseInt(o.width,10))?parseInt(o.width,10)-22:Math.round(o.mapAreaRect.width),u=t.isNullOrUndefined(parseInt(o.height,10))?parseInt(o.height,10)-22:Math.round(o.mapAreaRect.height);var g=m>640?(m-640)/2:0,y=u>640?(u-640)/2:0,f=o.layers[o.layers.length-1].staticMapType.toString().toLowerCase();a="https://maps.googleapis.com/maps/api/staticmap?size="+m+"x"+u+"&zoom="+i+"&center="+(o.centerPosition.latitude&&o.centerPosition.longitude?o.centerPosition.latitude.toString()+","+o.centerPosition.longitude.toString():"0,0")+"&maptype="+f+"&key="+e,document.getElementById(this.mapObject.element.id+"_tile_parent").innerHTML='<div id="'+this.mapObject.element.id+'_StaticGoogleMap"style="position:absolute; left:'+g+"px; top:"+y+'px"><img src="'+a+'"></div>'},e.prototype.panTileMap=function(e,i,a){this.mapObject.tileZoomLevel<=this.mapObject.tileZoomScale&&this.mapObject.initialCheck&&(this.mapObject.tileZoomLevel=this.mapObject.tileZoomScale);var o,n,l=this.mapObject.tileZoomLevel,r="GoogleStaticMap"!==this.mapObject.layers[this.mapObject.layers.length-1].layerType?20:0,s=256*Math.pow(2,l),d=c(a,l,{x:o=e/2-s/2,y:n=i/2-s/2},this.isMapCoordinates);if(r=this.mapObject.zoomNotApplied?0:r,o-=d.x-e/2,n=n-(d.y-i/2)+r,this.mapObject.scale=Math.pow(2,l-1),(t.isNullOrUndefined(this.mapObject.tileTranslatePoint)||0===this.mapObject.tileTranslatePoint.y&&0===this.mapObject.tileTranslatePoint.x||t.isNullOrUndefined(this.mapObject.previousTileWidth)||t.isNullOrUndefined(this.mapObject.previousTileHeight))&&(this.mapObject.previousTileWidth=e,this.mapObject.previousTileHeight=i),!t.isNullOrUndefined(this.mapObject.tileTranslatePoint)&&t.isNullOrUndefined(a.x)&&(1===this.mapObject.zoomSettings.zoomFactor||this.mapObject.zoomSettings.zoomFactor!==l||!this.mapObject.defaultState)&&(e!==this.mapObject.previousTileWidth||i!==this.mapObject.previousTileHeight)){var p=o-(this.mapObject.previousTileWidth/2-s/2),h=n-(this.mapObject.previousTileHeight/2-s/2+r);this.mapObject.tileTranslatePoint.x=this.mapObject.tileTranslatePoint.x+p,this.mapObject.tileTranslatePoint.y=this.mapObject.tileTranslatePoint.y+h}return t.isNullOrUndefined(this.mapObject.tileTranslatePoint)||this.mapObject.zoomNotApplied||(0===this.mapObject.tileTranslatePoint.x||this.mapObject.tileTranslatePoint.x===o||this.mapObject.centerPositionChanged||(o=this.mapObject.tileTranslatePoint.x),0===this.mapObject.tileTranslatePoint.y||this.mapObject.tileTranslatePoint.y===n||this.mapObject.centerPositionChanged||(n=this.mapObject.tileTranslatePoint.y)),this.mapObject.translatePoint=new Qe((o-.01*this.mapObject.scale)/this.mapObject.scale,(n-.01*this.mapObject.scale)/this.mapObject.scale),this.mapObject.previousTileWidth=e,this.mapObject.previousTileHeight=i,new Qe(o,n)},e}(),di=function(){function e(e){this.map=e}return e.prototype.renderAnnotationElements=function(){var e=this,i=this.map.element.id+"_Secondary_Element",a=t.createElement("div",{id:this.map.element.id+"_Annotations_Group"});if(a.style.position="absolute",a.style.top="0px",a.style.left="0px",this.map.annotations.map(function(t,i){null!==t.content&&e.createAnnotationTemplate(a,t,i)}),a.childElementCount>0&&!t.isNullOrUndefined(me(i))){me(i).appendChild(a);for(var o=0;o<this.map.annotations.length;o++)t.updateBlazorTemplate(this.map.element.id+"_ContentTemplate_"+o,"ContentTemplate",this.map.annotations[o])}},e.prototype.createAnnotationTemplate=function(e,i,a){var o,n,l,r,s=this,d=this.map,p=d.availableSize,h=(d.element.id,t.createElement("div",{id:d.element.id+"_Annotation_"+a,styles:"position: absolute; z-index:"+i.zIndex+";"})),c={cancel:!1,name:"annotationRendering",content:i.content,annotation:i};this.map.trigger("annotationRendering",c,function(e){if(!c.cancel){if((l=ge(c.content))&&(window.Blazor?{}:l(s.map,null,null,s.map.element.id+"_ContentTemplate_"+a).length))for(var i=(r=Array.prototype.slice.call(l(window.Blazor?{}:s.map,null,null,s.map.element.id+"_ContentTemplate_"+a))).length,o=0;o<i;o++)h.appendChild(r[o]);else h.appendChild(t.createElement("div",{innerHTML:c.content}))}});var m=Ee(h.cloneNode(!0),d.element),u=d.element.getBoundingClientRect(),g=d.svgObject.getBoundingClientRect();o=Math.abs(g.left-u.left),n=Math.abs(g.top-u.top);var y=i.x.indexOf("%")>-1?p.width/100*parseFloat(i.x):parseFloat(i.x),f=i.y.indexOf("%")>-1?p.height/100*parseFloat(i.y):parseFloat(i.y);switch(o="None"===i.horizontalAlignment?o+y:o,n="None"===i.verticalAlignment?n+f:n,i.verticalAlignment){case"Near":n+=f;break;case"Center":n=n+f+(g.height/2-m.height/2);break;case"Far":n=n+g.height+f-m.height}switch(i.horizontalAlignment){case"Near":o+=y;break;case"Center":o=o+y+(g.width/2-m.width/2);break;case"Far":o=o+g.width+y-m.width}h.style.left=o+"px",h.style.top=n+"px",e.appendChild(h)},e.prototype.getModuleName=function(){return"Annotations"},e.prototype.destroy=function(e){},e}(),pi=function(){function e(e){this.control=e}return e.prototype.print=function(e){var i=this;this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);var a={cancel:!1,htmlContent:this.getHTMLContent(e),name:"beforePrint"};this.control.trigger("beforePrint",a,function(e){a.cancel||t.print(a.htmlContent,i.printWindow)})},e.prototype.getHTMLContent=function(e){var i=t.createElement("div");return e?e instanceof Array?Array.prototype.forEach.call(e,function(e){i.appendChild(ye(e).cloneNode(!0))}):e instanceof Element?i.appendChild(e.cloneNode(!0)):i.appendChild(ye(e).cloneNode(!0)):i.appendChild(this.control.element.cloneNode(!0)),i},e.prototype.export=function(e,i,a,n){var l=this;return new Promise(function(r,s){var d=t.createElement("canvas",{id:"ej2-canvas",attrs:{width:l.control.availableSize.width.toString(),height:l.control.availableSize.height.toString()}}),p=!(t.Browser.userAgent.toString().indexOf("HeadlessChrome")>-1);n=t.isNullOrUndefined(n)?o.PdfPageOrientation.Landscape:n;document.getElementById(l.control.element.id+"_ToolBar");var h,c=document.getElementById(l.control.element.id+"_Tile_SVG_Parent");if(l.control.isTileMap){var m=document.getElementById(l.control.element.id+"_Tile_SVG");h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+l.control.svgObject.outerHTML+m.outerHTML+"</svg>"}else h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+l.control.svgObject.outerHTML+"</svg>";var u=window.URL.createObjectURL(new Blob("SVG"===e?[h]:[(new XMLSerializer).serializeToString(l.control.svgObject)],{type:"image/svg+xml"}));if("SVG"===e)a?l.triggerDownload(i,e,u,p):r(null);else{var g=new o.PdfDocument,y=new Image,f=d.getContext("2d");if(l.control.isTileMap)for(var b=new XMLHttpRequest,v=l.control.mapLayerPanel.tiles.length,x=0;x<=v+1;x++)!function(t){var s=document.getElementById("tile_"+(t-1)),h=new Image;h.crossOrigin="Anonymous",f.fillStyle=l.control.background?l.control.background:"#FFFFFF",f.fillRect(0,0,l.control.availableSize.width,l.control.availableSize.height),f.font=l.control.titleSettings.textStyle.size+" Arial",f.fillStyle=document.getElementById(l.control.element.id+"_Map_title").getAttribute("fill"),f.fillText(l.control.titleSettings.text,parseFloat(document.getElementById(l.control.element.id+"_Map_title").getAttribute("x")),parseFloat(document.getElementById(l.control.element.id+"_Map_title").getAttribute("y"))),h.onload=function(){if(0===t||t===v+1?0===t?(f.setTransform(1,0,0,1,0,0),f.rect(0,parseFloat(c.style.top),parseFloat(c.style.width),parseFloat(c.style.height)),f.clip()):f.setTransform(1,0,0,1,parseFloat(c.style.left),parseFloat(c.style.top)):f.setTransform(1,0,0,1,parseFloat(s.style.left)+10,parseFloat(s.style.top)+parseFloat(document.getElementById(l.control.element.id+"_tile_parent").style.top)),f.drawImage(h,0,0),t===v+1)if("PDF"===e){localStorage.setItem("saved-image-example",d.toDataURL("image/jpeg"));var m=localStorage.getItem("saved-image-example");g.pageSettings.orientation=n,m=m.slice(m.indexOf(",")+1),g.pages.add().graphics.drawImage(new o.PdfBitmap(m),0,0,l.control.availableSize.width-60,l.control.availableSize.height),a?(g.save(i+".pdf"),g.destroy()):r(null)}else{localStorage.setItem("local-canvasImage",d.toDataURL("image/png"));var u=localStorage.getItem("local-canvasImage");a?(l.triggerDownload(i,e,u,p),localStorage.removeItem("local-canvasImage")):r(u)}},0===t||t===v+1?0===t?h.src=u:setTimeout(function(){h.src=window.URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(document.getElementById(l.control.element.id+"_Tile_SVG"))],{type:"image/svg+xml"}))},300):(b.open("GET",s.children[0].getAttribute("src"),!0),b.send(),h.src=s.children[0].getAttribute("src"))}(x);else y.onload=function(){if(f.drawImage(y,0,0),window.URL.revokeObjectURL(u),"PDF"===e){var t=d.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");g.pageSettings.orientation=n,t=t.slice(t.indexOf(",")+1),g.pages.add().graphics.drawImage(new o.PdfBitmap(t),0,0,l.control.availableSize.width-60,l.control.availableSize.height),a?(g.save(i+".pdf"),g.destroy()):r(null)}else a?l.triggerDownload(i,e,d.toDataURL("image/png").replace("image/png","image/octet-stream"),p):r(d.toDataURL("image/png"))},y.src=u}})},e.prototype.triggerDownload=function(e,i,a,o){t.createElement("a",{attrs:{download:e+"."+i.toLocaleLowerCase(),href:a}}).dispatchEvent(new MouseEvent(o?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},e}(),hi=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function a(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}(),ci=function(e,t,i,a){var o,n=arguments.length,l=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(l=(n<3?o(l):n>3?o(t,i,l):o(t,i))||l);return n>3&&l&&Object.defineProperty(t,i,l),l},mi=function(e){function o(i,a){var o=e.call(this,i,a)||this;return o.isTileMap=!1,o.baseSize=new Ke(0,0),o.translatePoint=new Qe(0,0),o.baseTranslatePoint=new Qe(0,0),o.zoomTranslatePoint=new Qe(0,0),o.markerZoomedState=!0,o.zoomPersistence=!1,o.defaultState=!0,o.centerPositionChanged=!1,o.isTileMapSubLayer=!1,o.markerNullCount=0,o.tileTranslatePoint=new Qe(0,0),o.baseTileTranslatePoint=new Qe(0,0),o.isDevice=!1,o.staticMapZoom=o.zoomSettings.enable?o.zoomSettings.zoomFactor:0,o.zoomNotApplied=!1,o.dataLabelShape=[],o.zoomShapeCollection=[],o.zoomLabelPositions=[],o.mouseDownEvent={x:null,y:null},o.mouseClickEvent={x:null,y:null},o.selectedElementId=[],o.selectedMarkerElementId=[],o.selectedBubbleElementId=[],o.selectedNavigationElementId=[],o.selectedLegendElementId=[],o.legendSelectionCollection=[],o.shapeSelections=!0,o.legendSelection=!0,o.toggledLegendId=[],o.toggledShapeElementId=[],o.checkInitialRender=!0,o.initialTileTranslate=new Qe(0,0),o.initialCheck=!0,o.applyZoomReset=!1,o.markerClusterExpandCheck=!1,o.markerClusterExpand=!1,t.setValue("mergePersistData",o.mergePersistMapsData,o),o}return hi(o,e),Object.defineProperty(o.prototype,"isShapeSelected",{get:function(){return this.mapSelect},enumerable:!0,configurable:!0}),o.prototype.mergePersistMapsData=function(){var e;if(t.isNullOrUndefined(window.localStorage)||(e=window.localStorage.getItem(this.getModuleName()+this.element.id)),!t.isNullOrUndefined(e)&&""!==e){var i=JSON.parse(e),a=Object.keys(i);this.isProtectedOnChange=!0;for(var o=0,n=a;o<n.length;o++){var l=n[o];"object"!=typeof this[l]||t.isNullOrUndefined(this[l])?this[l]=i[l]:t.extend(this[l],i[l])}this.isProtectedOnChange=!1}},o.prototype.getLocalizedLabel=function(e){return this.localeObject.getConstant(e)},o.prototype.preRender=function(){this.isDevice=t.Browser.isDevice,this.isBlazor=t.isBlazor(),this.initPrivateVariable(),this.allowServerDataBinding=!1,this.unWireEVents(),this.wireEVents(),this.setCulture()},o.prototype.render=function(){this.trigger("load",this.isBlazor?{}:{maps:this}),this.createSVG(),this.findBaseAndSubLayers(),this.createSecondaryElement(),this.addTabIndex(),this.themeStyle=qe(this.theme),this.renderBorder(),this.renderTitle(this.titleSettings,"title",null,null),this.renderArea(),this.processRequestJsonData(),this.renderComplete()},o.prototype.processRequestJsonData=function(){var e=this,i=this.layersCollection.length-1;this.serverProcess={request:0,response:0};var o,n;Array.prototype.forEach.call(this.layersCollection,function(l,r){l.shapeData instanceof a.DataManager?(e.serverProcess.request++,n=l.shapeData,o=l.query instanceof a.Query?l.query:new a.Query,n.executeQuery(o).then(function(t){e.processResponseJsonData("DataManager",t,l,"ShapeData")})):(l.shapeData instanceof mt||l.shapeData)&&(t.isNullOrUndefined(l.shapeData.dataOptions)||e.processAjaxRequest(l,l.shapeData,"ShapeData")),(l.dataSource instanceof mt||!t.isNullOrUndefined(l.dataSource.dataOptions))&&e.processAjaxRequest(l,l.dataSource,"DataSource"),e.serverProcess.request===e.serverProcess.response&&i===r&&e.processResponseJsonData(null)})},o.prototype.processAjaxRequest=function(e,i,a){var o,n=this;this.serverProcess.request++,(o=new t.Ajax(i.dataOptions,i.type,i.async,i.contentType)).onSuccess=function(t){n.processResponseJsonData("Ajax",t,e,a)},o.send(i.sendData)},o.prototype.processResponseJsonData=function(e,i,a,o){if(this.serverProcess.response++,e&&("ShapeData"===o?a.shapeData="DataManager"===e?t.isNullOrUndefined(i.result)?i.actual:i.result:JSON.parse(i):a.dataSource="DataManager"===e?t.isNullOrUndefined(i.result)?i.actual:i.result:JSON.parse("["+i+"]")[0]),t.isNullOrUndefined(e)||this.serverProcess.request!==this.serverProcess.response)t.isNullOrUndefined(e)&&this.renderMap();else{var n=this.layersCollection;this.layersCollection=[];for(var l=0;l<n.length;l++)n[l].isBaseLayer&&this.layersCollection.push(n[l]);for(var r=0;r<n.length;r++)n[r].isBaseLayer||this.layersCollection.push(n[r]);this.renderMap()}},o.prototype.renderMap=function(){if(this.legendModule&&this.legendSettings.visible)if(this.isTileMap){var e=this.layersCollection.length-1;this.layersCollection[e].isBaseLayer||(this.isTileMapSubLayer=!0,this.legendModule.renderLegend())}else this.legendModule.renderLegend();this.createTile(),this.zoomSettings.enable&&this.zoomModule&&this.zoomModule.createZoomingToolbars(),t.isNullOrUndefined(this.dataLabelModule)||(this.dataLabelModule.dataLabelCollections=[],this.dataLabelShape=[]),this.mapLayerPanel.measureLayerPanel(),this.element.appendChild(this.svgObject);for(var i=0;i<this.layers.length;i++)if(this.layers[i].selectionSettings&&this.layers[i].selectionSettings.enable&&this.layers[i].initialShapeSelection.length>0&&this.checkInitialRender){var a=this.layers[i].selectionSettings.enableMultiSelect;this.layers[i].selectionSettings.enableMultiSelect=a||!0;for(var o=this.layers[i].initialShapeSelection,n=0;n<this.layers[i].initialShapeSelection.length;n++)this.shapeSelection(i,o[n].shapePath,o[n].shapeValue,!0);this.layers[i].selectionSettings.enableMultiSelect=a,i===this.layers.length-1&&(this.checkInitialRender=!1)}if(!t.isNullOrUndefined(document.getElementById(this.element.id+"_tile_parent"))){var l,r=this.svgObject.getBoundingClientRect(),s=document.getElementById(this.element.id),d=document.getElementById(this.element.id+"_tile_parent"),p=document.getElementById(this.element.id+"_tiles"),h=d.getBoundingClientRect(),c=void 0,m=void 0;m=parseFloat(d.style.left)+s.offsetLeft;var u=x(this.titleSettings.text,this.titleSettings.textStyle),g=x(this.titleSettings.subtitleSettings.text,this.titleSettings.subtitleSettings.textStyle);this.isTileMap&&this.isTileMapSubLayer&&"Bottom"===this.legendSettings.position&&this.legendSettings.visible?"Default"!==this.legendSettings.mode?l=0!==u.width&&0!==u.height?parseFloat(d.style.top)+s.offsetTop+g.height/2-this.legendModule.legendBorderRect.height/2:parseFloat(d.style.top)+s.offsetTop-this.mapAreaRect.y:(m=this.legendModule.legendBorderRect.x,l=0!==u.width&&0!==u.height?parseFloat(d.style.top)+s.offsetTop+g.height/2-this.legendModule.legendBorderRect.y:parseFloat(d.style.top)+s.offsetTop+g.height/2):(c=r.bottom-h.bottom-s.offsetTop,l=parseFloat(d.style.top)+s.offsetTop),l=c<=11?l:2*l,m=c<=11?m:2*m,d.style.top=l+"px",d.style.left=m+"px",p.style.top=l+"px",p.style.left=m+"px"}this.arrangeTemplate();this.isBlazor&&this.blazorTemplates();this.annotationsModule&&this.annotationsModule.renderAnnotationElements(),this.zoomingChange(),this.trigger("loaded",this.isBlazor?{}:{maps:this})},o.prototype.blazorTemplates=function(){for(var e=0;e<this.layers.length;e++){var i=this.layers[e].markerSettings.length-1;if(i>=0&&(this.layers[e].dataLabelSettings.visible||this.layers[e].markerSettings[i].template)){t.updateBlazorTemplate(this.element.id+"_LabelTemplate","LabelTemplate",this.layers[e].dataLabelSettings);for(var a=0;a<this.layers[e].markerSettings.length;a++)t.updateBlazorTemplate(this.element.id+"_MarkerTemplate"+a,"MarkerTemplate",this.layers[e].markerSettings[a])}}},o.prototype.renderArea=function(){var e=this.mapsArea.border.width,t=this.mapsArea.background;if(e>0||t||this.themeStyle.areaBackgroundColor){var i=new ot(this.element.id+"_MapAreaBorder",t||this.themeStyle.areaBackgroundColor,this.mapsArea.border,1,this.mapAreaRect);this.svgObject.appendChild(this.renderer.drawRectangle(i))}},o.prototype.addTabIndex=function(){this.element.setAttribute("aria-label",this.description||"Maps Element"),this.element.setAttribute("tabindex",this.tabIndex.toString())},o.prototype.zoomingChange=function(){var e,i;if(me(this.element.id+"_Layer_Collections")&&this.zoomModule&&(this.zoomModule.layerCollectionEle=me(this.element.id+"_Layer_Collections")),this.isTileMap&&me(this.element.id+"_Tile_SVG")&&me(this.element.id+"_tile_parent")){var a=me(this.element.id+"_tile_parent").getBoundingClientRect(),o=me(this.element.id+"_Tile_SVG").getBoundingClientRect();e=a.left-o.left,i=a.top-o.top,me(this.element.id+"_Tile_SVG_Parent").style.left=e+"px",me(this.element.id+"_Tile_SVG_Parent").style.top=i+"px";var n=document.getElementsByClassName("template");if(!t.isNullOrUndefined(n)&&n.length>0)for(s=0;s<n.length;s++){var l=n[s];l.style.left=e+"px",l.style.top=i+"px"}}if(this.zoomSettings.zoomFactor>=1){this.zoomModule&&this.zoomModule.toolBarGroup&&this.zoomSettings.enable&&this.zoomModule.alignToolBar();var r=document.getElementById(this.element.id+"_Layer_Collections");if(!t.isNullOrUndefined(r)&&r.childElementCount>0)for(var s=0;s<r.childNodes.length;s++){var d=r.childNodes[s];if("g"===d.tagName)for(var p=parseFloat(d.id.split("_LayerIndex_")[1].split("_")[0]),h=0;h<d.childNodes.length;h++){var c=d.childNodes[h];c.id.indexOf("_Markers_Group")>-1||c.id.indexOf("_bubble_Group")>-1||c.id.indexOf("_dataLableIndex_Group")>-1||ze(c,p,this.scale,this)}}this.zoomModule&&this.previousScale!==this.scale&&this.zoomModule.applyTransform(!0)}},o.prototype.createSecondaryElement=function(){if(t.isNullOrUndefined(document.getElementById(this.element.id+"_Secondary_Element"))){var e=t.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"position: absolute;z-index:2;"});this.element.appendChild(e)}},o.prototype.arrangeTemplate=function(){document.getElementById(this.element.id+"_Legend_Border")&&(document.getElementById(this.element.id+"_Legend_Border").style.pointerEvents="none");var e=document.getElementsByClassName(this.element.id+"_template");if(!t.isNullOrUndefined(e)&&e.length>0&&me(this.element.id+"_Layer_Collections")&&"OSM"!==this.layers[this.layers.length-1].layerType)for(var i=0;i<e.length;i++){var a=e[i];if(!t.isNullOrUndefined(a)&&a.childElementCount>0)for(var o=me(this.element.id+"_Layer_Collections").getBoundingClientRect(),n=me(a.id).getBoundingClientRect(),l=this.isTileMap?0:o.left<n.left?-Math.abs(n.left-o.left):Math.abs(n.left-o.left),r=this.isTileMap?0:o.top<n.top?-Math.abs(n.top-o.top):Math.abs(n.top-o.top),s=0;s<a.childElementCount;s++){var d=a.childNodes[s];d.style.left=parseFloat(d.style.left)+l+"px",d.style.top=parseFloat(d.style.top)+r+"px",d.style.transform="translate(-50%, -50%)"}}},o.prototype.createTile=function(){var e=this.layersCollection[0];if(e.isBaseLayer&&("OSM"===e.layerType||"Bing"===e.layerType||"GoogleStaticMap"===e.layerType)){se(this.element.id+"_tile_parent"),se(this.element.id+"_tiles"),se("animated_tiles");var i=t.createElement("div",{id:this.element.id+"_tile_parent",styles:"position: absolute; left: "+this.mapAreaRect.x+"px; top: "+(this.mapAreaRect.y+0)+"px; height: "+this.mapAreaRect.height+"px; width: "+this.mapAreaRect.width+"px; overflow: hidden;"}),a=t.createElement("div",{id:this.element.id+"_tiles",styles:"position: absolute; left: "+this.mapAreaRect.x+"px; top: "+(this.mapAreaRect.y+0)+"px; height: "+this.mapAreaRect.height+"px; width: "+this.mapAreaRect.width+"px; overflow: hidden;"});this.element.appendChild(i),this.element.appendChild(a)}},o.prototype.initPrivateVariable=function(){if(""===this.element.id){var e=document.getElementsByClassName("e-maps").length;this.element.id="maps_control_"+e}this.renderer=new i.SvgRenderer(this.element.id),this.mapLayerPanel=new si(this)},o.prototype.findBaseAndSubLayers=function(){var e=this,t=this.baseLayerIndex,i=[],a=[];this.layersCollection=[],Array.prototype.forEach.call(this.layers,function(e){"Layer"===e.type?i.push(e):a.push(e)});for(var o=0;o<i.length;o++){var n=i[o];if(n.visible&&t===o){n.isBaseLayer=!0,this.isTileMap="Geometry"!==n.layerType,this.layersCollection.push(n);break}if(o===i.length-1){this.layersCollection.push(i[0]);break}}a.map(function(t,i){t.visible&&e.layersCollection.push(t)})},o.prototype.renderBorder=function(){var e=this.border.width,i=this.svgObject.querySelector("#"+this.element.id+"_MapBorder");if((e>0||this.background||this.themeStyle.backgroundColor)&&t.isNullOrUndefined(i)){var a=new ot(this.element.id+"_MapBorder",this.background||this.themeStyle.backgroundColor,this.border,1,new ht(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e));this.svgObject.appendChild(this.renderer.drawRectangle(a))}else i.setAttribute("fill",this.background||this.themeStyle.backgroundColor)},o.prototype.renderTitle=function(e,i,a,o){var n,l=e.textStyle,r=Math.abs(this.margin.left+this.margin.right-this.availableSize.width);if(l.fontFamily=this.themeStyle.fontFamily||l.fontFamily,l.size=this.themeStyle.titleFontSize||l.size,e.text){t.isNullOrUndefined(o)&&(o=this.renderer.createGroup({id:this.element.id+"_Title_Group"}));var s=le(r,e.text,l),d=x(s,l),p=re(t.isNullOrUndefined(a)?new ht(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height):a,e.alignment,d,i),h=new tt(this.element.id+"_Map_"+i,p.x,p.y,"start",s),c=new ht(p.x,p.y,d.width,d.height),m=S(h,l,l.color||("title"===i?this.themeStyle.titleFontColor:this.themeStyle.subTitleFontColor),o);m.setAttribute("aria-label",this.description||e.text),m.setAttribute("tabindex",(this.tabIndex+("title"===i?1:2)).toString()),("title"===i&&!e.subtitleSettings.text||"subtitle"===i)&&(n=Math.abs(c.y+this.margin.bottom-this.availableSize.height),this.mapAreaRect=new ht(this.margin.left,c.y+10,r,n-10)),"subtitle"!==i&&e.subtitleSettings.text?this.renderTitle(e.subtitleSettings,"subtitle",c,o):this.svgObject.appendChild(o)}else n=Math.abs(this.margin.top+this.margin.bottom-this.availableSize.height),this.mapAreaRect=new ht(this.margin.left,this.margin.top,r,n)},o.prototype.createSVG=function(){t.resetBlazorTemplate(this.element.id+"_LabelTemplate","LabelTemplate");for(var e=0;e<this.layers.length;e++)for(var i=0;i<this.layers[e].markerSettings.length;i++)t.resetBlazorTemplate(this.element.id+"_MarkerTemplate"+i,"MarkerTemplate");this.removeSvg(),r(this)},o.prototype.removeSvg=function(){for(var e=0;e<this.annotations.length;e++)t.resetBlazorTemplate(this.element.id+"_ContentTemplate_"+e,"ContentTemplate");if(se(this.element.id+"_Secondary_Element"),se(this.element.id+"_tile_parent"),se(this.element.id+"_tiles"),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&t.remove(this.svgObject)}},o.prototype.wireEVents=function(){t.EventHandler.add(this.element,"click",this.mapsOnClick,this),t.EventHandler.add(this.element,"dblclick",this.mapsOnDoubleClick,this),t.EventHandler.add(this.element,t.Browser.touchStartEvent,this.mouseDownOnMap,this),t.EventHandler.add(this.element,t.Browser.touchMoveEvent,this.mouseMoveOnMap,this),t.EventHandler.add(this.element,t.Browser.touchEndEvent,this.mouseEndOnMap,this),t.EventHandler.add(this.element,"pointerleave mouseleave",this.mouseLeaveOnMap,this),window.addEventListener(t.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.mapsOnResize.bind(this))},o.prototype.unWireEVents=function(){t.EventHandler.remove(this.element,"click",this.mapsOnClick),t.EventHandler.remove(this.element,"dblclick",this.mapsOnDoubleClick),t.EventHandler.remove(this.element,t.Browser.touchStartEvent,this.mouseDownOnMap),t.EventHandler.remove(this.element,t.Browser.touchMoveEvent,this.mouseMoveOnMap),t.EventHandler.remove(this.element,t.Browser.touchEndEvent,this.mouseEndOnMap),t.EventHandler.remove(this.element,"pointerleave mouseleave",this.mouseLeaveOnMap),window.removeEventListener(t.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.mapsOnResize)},o.prototype.mouseLeaveOnMap=function(e){document.getElementsByClassName("highlightMapStyle").length>0&&this.legendModule&&(this.legendModule.removeShapeHighlightCollection(),Ce(document.getElementsByClassName("highlightMapStyle")[0]))},o.prototype.mapsOnClick=function(e){var i,a=this,o=e.target,n=o.id,l=0,r=null,s=null;if(this.mouseClickEvent={x:e.x,y:e.y},-1===o.id.indexOf("_ToolBar")){-1===o.id.indexOf("_LayerIndex_")||this.isTileMap||this.mouseDownEvent.x!==this.mouseClickEvent.x||this.mouseDownEvent.y!==this.mouseClickEvent.y?this.isTileMap&&this.mouseDownEvent.x===this.mouseClickEvent.x&&this.mouseDownEvent.y===this.mouseClickEvent.y&&(r=(i=this.getTileGeoLocation(e)).latitude,s=i.longitude):(l=parseFloat(o.id.split("_LayerIndex_")[1].split("_")[0]),r=(i=this.getGeoLocation(l,e)).latitude,s=i.longitude);var d={cancel:!1,name:"click",target:n,x:e.clientX,y:e.clientY,latitude:r,longitude:s};this.trigger("click",d,function(i){if(o.id.indexOf("shapeIndex")>-1&&(a.markerModule&&a.markerModule.sameMarkerData.length>0&&(!a.zoomModule||a.zoomModule.isSingleClick)&&(N(a.markerModule.sameMarkerData,a,ye(a.element.id+"_Markers_Group")),a.markerModule.sameMarkerData=[]),ye(a.element.id+"_mapsTooltip")&&a.mapsTooltipModule.tooltipTargetID.indexOf("_MarkerIndex_")>-1&&se(a.element.id+"_mapsTooltip")),a.markerModule&&(a.markerModule.markerClick(e),a.markerModule.markerClusterClick(e)),a.bubbleModule&&a.bubbleModule.bubbleClick(e),d.cancel||a.notify("click",o),!d.cancel&&-1!==o.id.indexOf("shapeIndex")){var l=parseInt(o.id.split("_LayerIndex_")[1].split("_")[0],10),r=be(n,a.layers[l].selectionSettings,a,"shapeSelected");r.cancel||!a.selectionModule||t.isNullOrUndefined(a.shapeSelected)?r.cancel&&a.selectionModule&&t.isNullOrUndefined(r.data)&&(Ce(o),a.selectionModule.removedSelectionList(o)):_e(a.selectionModule.selectionType+"selectionMap",a.selectionModule.selectionType+"selectionMapStyle",r)}})}},o.prototype.mouseEndOnMap=function(e){var i,a,o;e.target.id,this.element.getBoundingClientRect(),e.target;return-1!==e.type.indexOf("touch")?(this.isTouch=!0,i=(o=e).changedTouches[0].pageX,a=o.changedTouches[0].pageY,o.target):(this.isTouch="touch"===e.pointerType,i=e.pageX,a=e.pageY,e.target),this.isTouch&&(this.titleTooltip(e,i,a,!0),t.isNullOrUndefined(this.legendModule)||this.legendTooltip(e,e.pageX,e.pageY,!0)),this.notify(t.Browser.touchEndEvent,e),e.preventDefault(),!1},o.prototype.mouseDownOnMap=function(e){this.mouseDownEvent={x:e.x,y:e.y};this.element.getBoundingClientRect();var i=e.target;if(-1===i.id.indexOf("_ToolBar")){var a=this.markerModule;(i.id.indexOf("shapeIndex")>-1||i.id.indexOf("Tile")>-1)&&a&&a.sameMarkerData.length>0&&(!this.zoomModule||this.zoomModule.isSingleClick)&&(N(a.sameMarkerData,this,ye(this.element.id+"_Markers_Group")),a.sameMarkerData=[]),a&&(a.markerClick(e),a.markerClusterClick(e)),this.bubbleModule&&this.bubbleModule.bubbleClick(e)}this.notify(t.Browser.touchStartEvent,e)},o.prototype.mapsOnDoubleClick=function(e){this.notify("dblclick",e)},o.prototype.mouseMoveOnMap=function(e){"touchmove"===e.type?e.target:e.target,this.markerModule&&(this.markerModule.markerMove(e),this.markerModule.markerClusterMouseMove(e)),this.bubbleModule&&this.bubbleModule.bubbleMove(e),this.onMouseMove(e),this.notify(t.Browser.touchMoveEvent,e)},o.prototype.onMouseMove=function(e){e.target;return this.isTouch||(this.titleTooltip(e,e.pageX,e.pageY),t.isNullOrUndefined(this.legendModule)||this.legendTooltip(e,e.pageX,e.pageY,!0)),!1},o.prototype.legendTooltip=function(e,t,i,a){for(var o,n,l=e.target.id,r=this.legendModule.currentPage,s=e.target.id.split("_Index_")[1],d=0!==this.legendModule.totalPages.length?this.legendModule.totalPages[r].Collection.length:this.legendModule.totalPages.length,p=0;p<d;p++)o=(n=this.legendModule.totalPages[r].Collection[p]).DisplayText,l=e.target.id,s=e.target.id.split("_Index_")[1],l===this.element.id+"_Legend_Text_Index_"+s&&e.target.textContent.indexOf("...")>-1&&n.idIndex===parseInt(s,10)&&we(o,this.legendSettings.textStyle.size,t,i,this.element.offsetWidth,this.element.offsetHeight,this.element.id+"_EJ2_Legend_Text_Tooltip",ye(this.element.id+"_Secondary_Element"),a);l!==this.element.id+"_Legend_Text_Index_"+s&&se(this.element.id+"_EJ2_Legend_Text_Tooltip")},o.prototype.titleTooltip=function(e,t,i,a){e.target.id===this.element.id+"_Map_title"&&e.target.textContent.indexOf("...")>-1?we(this.titleSettings.text,this.titleSettings.textStyle.size,t,i,this.element.offsetWidth,this.element.offsetHeight,this.element.id+"_EJ2_Title_Tooltip",ye(this.element.id+"_Secondary_Element"),a):se(this.element.id+"_EJ2_Title_Tooltip")},o.prototype.mapsOnResize=function(e){var t=this,i={name:"resize",previousSize:this.availableSize,currentSize:new Ke(0,0),maps:this.isBlazor?null:this};return this.resizeTo&&clearTimeout(this.resizeTo),this.element.classList.contains("e-maps")&&(this.resizeTo=setTimeout(function(){t.unWireEVents(),t.createSVG(),t.refreshing=!0,t.wireEVents(),i.currentSize=t.availableSize,t.trigger("resize",i),t.render()},500)),!1},o.prototype.zoomByPosition=function(e,i){var a,o=this.mapLayerPanel.calculateFactor(this.layersCollection[0]),n=this.mapAreaRect;if(!this.isTileMap&&this.zoomModule)if(t.isNullOrUndefined(e))a={x:n.width/2,y:n.height/2},this.zoomModule.performZooming(a,i,i>this.scale?"ZoomIn":"ZoomOut");else{a=h(e.latitude,e.longitude,o,this.layersCollection[0],this);var l=document.getElementById(this.element.id+"_Layer_Collections").getBoundingClientRect(),r=this.svgObject.getBoundingClientRect(),s=Math.abs(l.left-r.left)/this.scale,d=Math.abs(l.top-r.top)/this.scale,p=this.translatePoint.x+s,c=this.translatePoint.y+d;this.scale=i,this.translatePoint.x=((l.left<r.left?p:0)+n.width/2-a.x*i)/i,this.translatePoint.y=((l.top<r.top?c:0)+n.height/2-a.y*i)/i,this.zoomModule.applyTransform()}else this.zoomModule&&(this.tileZoomLevel=i,this.tileTranslatePoint=this.mapLayerPanel.panTileMap(this.availableSize.width,this.availableSize.height,{x:e.longitude,y:e.latitude}),this.mapLayerPanel.generateTiles(i,this.tileTranslatePoint,null,new ni(this)))},o.prototype.panByDirection=function(e,t){var i=0,a=0;switch(e){case"Left":i=-this.mapAreaRect.width/7;break;case"Right":i=this.mapAreaRect.width/7;break;case"Top":a=-this.mapAreaRect.height/7;break;case"Bottom":a=this.mapAreaRect.height/7}this.zoomModule&&this.zoomModule.panning(e,i,a,t)},o.prototype.addLayer=function(e){this.layers.push(new Wt(this.layers[0],"layers",e)),this.refresh()},o.prototype.removeLayer=function(e){this.layers.splice(e,1),this.refresh()},o.prototype.addMarker=function(e,t){var i=document.getElementById(this.element.id+"_LayerIndex_"+e);if(t.length>0&&i){for(var a=0,o=t;a<o.length;a++){var n=o[a];this.layersCollection[e].markerSettings.push(new Gt(this,"markerSettings",n))}new Jt(this).markerRender(i,e,this.mapLayerPanel.currentFactor,"AddMarker"),this.arrangeTemplate()}},o.prototype.shapeSelection=function(e,i,a,o){var n,l=Array.isArray(i)?i:Array(i);t.isNullOrUndefined(o)&&(o=!0);var r=this.layers[e].selectionSettings;if(!r.enableMultiSelect&&this.legendSelection&&o&&this.removeShapeSelection(),r.enable)for(var s=void 0,d=void 0,p=void 0,h=void 0,c=void 0,m=this.layers[e].shapeData.features,u=0;u<m.length;u++)for(var g=0;g<l.length;g++)if((!t.isNullOrUndefined(m[u].properties[l[g]])&&isNaN(m[u].properties[l[g]])?m[u].properties[l[g]].toLowerCase():m[u].properties[l[g]])===(t.isNullOrUndefined(a)?a:a.toLowerCase())){var y=ee(this.layers[e].dataSource,m[u].properties,this.layers[e].shapeDataPath,this.layers[e].shapePropertyPath,this.layers[e]);if(s=this.element.id+"_LayerIndex_"+e+"_shapeIndex_"+u+"_dataIndex_"+(t.isNullOrUndefined(y)?"undefined":y.toString()),n=ye(s),t.isNullOrUndefined(y)&&t.isNullOrUndefined(n)&&(n=ye(s=this.element.id+"_LayerIndex_"+e+"_shapeIndex_"+u+"_dataIndex_null")),p=parseInt(n.id.split("_shapeIndex_")[1].split("_")[0],10),h=this.layers[e].shapeData.features.length>p?this.layers[e].shapeData.features[p].properties:null,d=parseInt(n.id.split("_dataIndex_")[1].split("_")[0],10),c=t.isNullOrUndefined(d)?null:this.layers[e].dataSource[d],o){if(Me(r,this,n,h,c),this.shapeSelectionClass=ye("ShapeselectionMap"),this.legendSettings.visible&&-1===n.id.indexOf("_MarkerIndex_")&&this.legendModule.shapeHighLightAndSelection(n,c,r,"selection",e),(f=!this.legendSettings.visible||this.legendModule.shapeToggled)&&(n.setAttribute("class","ShapeselectionMapStyle"),-1===this.selectedElementId.indexOf(n.getAttribute("id"))&&this.selectedElementId.push(n.getAttribute("id")),!r.enableMultiSelect))return}else{this.legendSelection=!r.enableMultiSelect&&!this.legendSelection||this.legendSelection,this.legendSettings.visible&&-1===n.id.indexOf("_MarkerIndex_")&&"ShapeselectionMapStyle"===n.getAttribute("class")&&this.legendModule.shapeHighLightAndSelection(n,c,r,"selection",e);var f=!this.legendSettings.visible||this.legendModule.shapeToggled;if(f){Ce(n);var b=this.selectedElementId.indexOf(n.getAttribute("id"));-1!==b&&(this.selectedElementId.splice(b,1),!r.enableMultiSelect&&this.legendSelection&&this.selectedElementId.length>0&&this.removeShapeSelection())}}}},o.prototype.zoomToCoordinates=function(e,i,a,o){var n,l,r,s,d=!1;(t.isNullOrUndefined(a)&&t.isNullOrUndefined(o)||t.isNullOrUndefined(e)&&t.isNullOrUndefined(i))&&(e=t.isNullOrUndefined(e)?0:e,i=t.isNullOrUndefined(e)?0:i,a=t.isNullOrUndefined(a)?e:a,o=t.isNullOrUndefined(o)?i:o,d=!0),e>a&&(e=(n=[a,e])[0],a=n[1]),i>o&&(i=(l=[o,i])[0],o=l[1]),d?(r=e+a,s=i+o):(r=(e+a)/2,s=(i+o)/2),this.centerLatOfGivenLocation=r,this.centerLongOfGivenLocation=s,this.minLatOfGivenLocation=e,this.minLongOfGivenLocation=i,this.maxLatOfGivenLocation=a,this.maxLongOfGivenLocation=o,this.zoomNotApplied=!0,this.scaleOfGivenLocation=We(e,a,i,o,this.mapAreaRect.width,this.mapAreaRect.height,this);var p;p={cancel:!1,name:"zoom",type:"zoomIn",maps:this.isBlazor?null:this,tileTranslatePoint:{},translatePoint:{},tileZoomLevel:this.isTileMap?{previous:this.tileZoomLevel,current:this.scaleOfGivenLocation}:{},scale:this.isTileMap?{previous:this.tileZoomLevel,current:this.scaleOfGivenLocation}:{previous:this.scale,current:this.scaleOfGivenLocation}},this.trigger("zoom",p),this.refresh()},o.prototype.removeShapeSelection=function(){for(var e=this.selectedElementId.length,t=0;t<e;t++)Ce(me(this.selectedElementId[0])),this.selectedElementId.splice(0,1)},o.prototype.setCulture=function(){this.intl=new t.Internationalization,this.setLocaleConstants(),this.localeObject=new t.L10n(this.getModuleName(),this.defaultLocalConstants,this.locale)},o.prototype.setLocaleConstants=function(){this.defaultLocalConstants={ZoomIn:"Zoom In",Zoom:"Zoom",ZoomOut:"Zoom Out",Pan:"Pan",Reset:"Reset"}},o.prototype.destroy=function(){this.unWireEVents(),e.prototype.destroy.call(this)},o.prototype.getModuleName=function(){return"maps"},o.prototype.getPersistData=function(){var e=["translatePoint","zoomSettings","mapScaleValue","tileTranslatePoint","baseTranslatePoint","scale","zoomPersistence","defaultState","markerZoomedState","initialCheck","initialZoomLevel","initialTileTranslate","applyZoomReset","markerZoomFactor"];return this.addOnPersist(e)},o.prototype.onPropertyChanged=function(i,a){var o=!1,n=!1,l=!1;if(i.layers){var r=Object.keys(i.layers).length;document.getElementById(this.element.id+"_LayerIndex_"+(r-1))}for(var s=0,d=Object.keys(i);s<d.length;s++){var p=d[s];switch(p){case"background":this.renderBorder();break;case"height":case"width":case"layers":case"projectionType":case"centerPosition":case"legendSettings":case"zoomSettings":case"baseLayerIndex":if("layers"===p)for(var h=Object.keys(i.layers).length,c=0;c<h;c++)if(!t.isNullOrUndefined(i.layers[c]))for(var m=0,u=Object.keys(i.layers[c]);m<u.length;m++){var g=u[m];"markerSettings"===g?n=!0:"staticMapType"===g&&(l=!0)}o=!0;break;case"locale":case"currencyCode":e.prototype.refresh.call(this)}}o&&(i.layers&&n?(se(this.element.id+"_Markers_Group"),this.isTileMap?this.mapLayerPanel.renderTileLayer(this.mapLayerPanel,this.layers.currentFactor,this.layers.length-1):this.render()):i.layers&&l?this.mapLayerPanel.renderGoogleMap(this.layers[this.layers.length-1].key,this.staticMapZoom):(this.createSVG(),this.render()))},o.prototype.requiredModules=function(){var e=[],t=this.findVisibleLayers(this.layers),i=!1;return this.annotations.map(function(e,t){i=null!=e.content}),this.isBubbleVisible()&&e.push({member:"Bubble",args:[this]}),t.highlight&&e.push({member:"Highlight",args:[this]}),t.selection&&e.push({member:"Selection",args:[this]}),this.legendSettings.visible&&e.push({member:"Legend",args:[this]}),(this.zoomSettings.enable||this.zoomSettings.zoomFactor>this.zoomSettings.minZoom)&&e.push({member:"Zoom",args:[this]}),this.isMarkersVisible()&&e.push({member:"Marker",args:[this]}),this.isDataLabelVisible()&&e.push({member:"DataLabel",args:[this]}),this.isNavigationVisible()&&e.push({member:"NavigationLine",args:[this]}),t.tooltip&&e.push({member:"MapsTooltip",args:[this]}),i&&e.push({member:"Annotations",args:[this,di]}),e},o.prototype.isMarkersVisible=function(){var e=!1;return Array.prototype.forEach.call(this.layers,function(t,i){for(var a=0;a<t.markerSettings.length;a++)if(t.markerSettings[a].visible){e=!0;break}}),e},o.prototype.isDataLabelVisible=function(){for(var e=!1,t=0;t<this.layers.length;t++)if(this.layers[t].dataLabelSettings.visible){e=!0;break}return e},o.prototype.isNavigationVisible=function(){var e=!1;return Array.prototype.forEach.call(this.layers,function(t,i){for(var a=0;a<t.navigationLineSettings.length;a++)if(t.navigationLineSettings[a].visible){e=!0;break}}),e},o.prototype.isBubbleVisible=function(){for(var e=!1,t=0,i=this.layers;t<i.length;t++){var a=i[t];if(this.getBubbleVisible(a)){e=!0;break}}return e},o.prototype.getBubbleVisible=function(e){for(var t=!1,i=0,a=e.bubbleSettings;i<a.length;i++)if(a[i].visible){t=!0;break}return t},o.prototype.print=function(e){new pi(this).print(e)},o.prototype.export=function(e,i,a,o){var n=new pi(this);return t.isNullOrUndefined(o)||o?new Promise(function(t,o){t(n.export(e,i,!0,a))}):new Promise(function(t,l){t(n.export(e,i,o,a))})},o.prototype.findVisibleLayers=function(e,t,i,a,o,n){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===n&&(n=!1);for(var l,r,s,d=0,p=e;d<p.length;d++){var h=p[d];if(t=h.visible||t,h.visible){l=h.bubbleSettings,r=h.markerSettings;for(var c=0,m=s=h.navigationLineSettings;c<m.length;c++){var u=m[c];u.visible&&(o=u.highlightSettings.enable||o,n=u.selectionSettings.enable||n)}for(var g=0,y=r;g<y.length;g++){var f=y[g];if(f.visible&&(a=f.tooltipSettings.visible||a,o=f.selectionSettings.enable||o,n=f.highlightSettings.enable||n),a)break}for(var b=0,v=l;b<v.length;b++){var x=v[b];if(x.visible&&(a=x.tooltipSettings.visible||a,o=x.selectionSettings.enable||o,n=x.highlightSettings.enable||n),a)break}a=h.tooltipSettings.visible||a,o=h.selectionSettings.enable||o,n=h.highlightSettings.enable||n}if(t&&i&&a)break}return{layer:t,bubble:i,tooltip:a,selection:o,highlight:n}},o.prototype.getGeoLocation=function(e,t){var i=document.getElementById(this.element.id),a=t.layerX-i.offsetLeft,o=t.layerY-i.offsetTop,n=pe(this,this.layersCollection[e],!1).location,l=n.x*this.scale,r=n.y*this.scale,s=Math.min(this.mapAreaRect.height,this.mapAreaRect.width)*this.mapLayerPanel.currentFactor*this.scale,d=this.clip(a-l,0,s-1)/s-.5,p=.5-this.clip(o-r,0,s-1)/s;return{latitude:90-360*Math.atan(Math.exp(2*-p*Math.PI))/Math.PI,longitude:360*d}},o.prototype.clip=function(e,t,i){return Math.min(Math.max(e,t),i)},o.prototype.getTileGeoLocation=function(e){var t,i=document.getElementById(this.element.id),a=document.getElementById(this.element.id+"_tile_parent");return t=this.pointToLatLong(e.layerX+this.mapAreaRect.x-(a.offsetLeft-i.offsetLeft),e.layerY+this.mapAreaRect.y-(a.offsetTop-i.offsetTop)),{latitude:t.latitude,longitude:t.longitude}},o.prototype.pointToLatLong=function(e,t){var i="GoogleStaticMap"===this.layers[this.layers.length-1].layerType?0:10;t=this.zoomSettings.enable?t+i:t;var a=256*Math.pow(2,this.tileZoomLevel),o=this.clip(e-this.translatePoint.x*this.scale,0,a-1)/a-.5,n=.5-this.clip(t-this.translatePoint.y*this.scale,0,a-1)/a;return{latitude:90-360*Math.atan(Math.exp(2*-n*Math.PI))/Math.PI,longitude:360*o}},ci([t.Property(null)],o.prototype,"background",void 0),ci([t.Property(!1)],o.prototype,"useGroupingSeparator",void 0),ci([t.Property(null)],o.prototype,"format",void 0),ci([t.Property(null)],o.prototype,"width",void 0),ci([t.Property(null)],o.prototype,"height",void 0),ci([t.Property("MouseMove")],o.prototype,"tooltipDisplayMode",void 0),ci([t.Complex({},Ft)],o.prototype,"titleSettings",void 0),ci([t.Complex({},Rt)],o.prototype,"zoomSettings",void 0),ci([t.Complex({},Zt)],o.prototype,"legendSettings",void 0),ci([t.Collection([],Wt)],o.prototype,"layers",void 0),ci([t.Collection([],xt)],o.prototype,"annotations",void 0),ci([t.Complex({},Lt)],o.prototype,"margin",void 0),ci([t.Complex({color:"#DDDDDD",width:0},_t)],o.prototype,"border",void 0),ci([t.Property("Material")],o.prototype,"theme",void 0),ci([t.Property("Mercator")],o.prototype,"projectionType",void 0),ci([t.Property(0)],o.prototype,"baseLayerIndex",void 0),ci([t.Property(null)],o.prototype,"description",void 0),ci([t.Property(1)],o.prototype,"tabIndex",void 0),ci([t.Complex({latitude:null,longitude:null},Mt)],o.prototype,"centerPosition",void 0),ci([t.Complex({},Xt)],o.prototype,"mapsArea",void 0),ci([t.Event()],o.prototype,"load",void 0),ci([t.Event()],o.prototype,"beforePrint",void 0),ci([t.Event()],o.prototype,"loaded",void 0),ci([t.Event()],o.prototype,"click",void 0),ci([t.Event()],o.prototype,"doubleClick",void 0),ci([t.Event()],o.prototype,"rightClick",void 0),ci([t.Event()],o.prototype,"resize",void 0),ci([t.Event()],o.prototype,"tooltipRender",void 0),ci([t.Event()],o.prototype,"legendRendering",void 0),ci([t.Event()],o.prototype,"tooltipRenderComplete",void 0),ci([t.Event()],o.prototype,"shapeSelected",void 0),ci([t.Event()],o.prototype,"itemSelection",void 0),ci([t.Event()],o.prototype,"itemHighlight",void 0),ci([t.Event()],o.prototype,"shapeHighlight",void 0),ci([t.Event()],o.prototype,"layerRendering",void 0),ci([t.Event()],o.prototype,"shapeRendering",void 0),ci([t.Event()],o.prototype,"markerRendering",void 0),ci([t.Event()],o.prototype,"markerClusterRendering",void 0),ci([t.Event()],o.prototype,"markerClick",void 0),ci([t.Event()],o.prototype,"markerClusterClick",void 0),ci([t.Event()],o.prototype,"markerClusterMouseMove",void 0),ci([t.Event()],o.prototype,"markerMouseMove",void 0),ci([t.Event()],o.prototype,"dataLabelRendering",void 0),ci([t.Event()],o.prototype,"bubbleRendering",void 0),ci([t.Event()],o.prototype,"bubbleClick",void 0),ci([t.Event()],o.prototype,"bubbleMouseMove",void 0),ci([t.Event()],o.prototype,"animationComplete",void 0),ci([t.Event()],o.prototype,"annotationRendering",void 0),ci([t.Event()],o.prototype,"zoom",void 0),ci([t.Event()],o.prototype,"pan",void 0),o=ci([t.NotifyPropertyChanges],o)}(t.Component),ui=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(i[a[o]]=e[a[o]]);return i},gi=function(){function e(e){this.id="",this.maps=e,this.bubbleCollection=[]}return e.prototype.renderBubble=function(e,i,a,o,n,l,r,s,d,p){var h,c,m=this,u=s.layerData,g=e.colorValuePath,y=t.isNullOrUndefined(g)?i[g]:g.indexOf(".")>-1?P(i,e.colorValuePath):i[g],f=t.isNullOrUndefined(g)?Number(i[g]):g.indexOf(".")>-1?Number(P(i,e.colorValuePath)):Number(i[g]),b=t.isNullOrUndefined(e.valuePath)?Number(i[e.valuePath]):e.valuePath.indexOf(".")>-1?Number(P(i,e.valuePath)):Number(i[e.valuePath]);if(isNaN(b)&&isNaN(f)&&t.isNullOrUndefined(y))return null;var v=ae(e.minRadius,e.maxRadius,b,o.min,o.max),x=new li(this.maps).getColorByValue(e.colorMapping,f,y);c="[object Object]"!==Object.prototype.toString.call(x)||t.isNullOrUndefined(x.fill)?a:x.fill,h="[object Object]"!==Object.prototype.toString.call(x)||t.isNullOrUndefined(x.opacity)?e.opacity:x.opacity;var S=[[]];this.maps.translateType="bubble";for(var O=0,_=0,M=0,C=0,L=u.length;C<L;C++){var w=u[C];w=w.property;var T=te(i[s.shapeDataPath],s.shapePropertyPath,w);if((!t.isNullOrUndefined(i[s.shapeDataPath])&&isNaN(i[s.shapeDataPath])?i[s.shapeDataPath].toLowerCase():i[s.shapeDataPath])===(!t.isNullOrUndefined(w[T])&&isNaN(w[T])?w[T].toLowerCase():w[T]))if("Point"===u[C].type)S.push(this.getPoints(u[C],[]));else if(u[C]._isMultiPolygon)for(var I=u[C],N=0;N<I.length;N++)S.push(this.getPoints(I[N],[])),_<(M=S[S.length-1].length)&&(_=M,O=S.length-1);else S.push(this.getPoints(u[C],[])),_<(M=S[S.length-1].length)&&(_=M,O=S.length-1)}var k,E,z=this.maps.projectionType,A=oe(S[O],z);if(e.visible){if(t.isNullOrUndefined(A)){var B=S.length-1;if(!S[B].x||!S[B].y)return;if(E={cancel:!1,name:"bubbleRendering",border:e.border,cx:S[B].x,cy:S[B].y,data:i,fill:c,maps:this.maps.isBlazor?null:this.maps,radius:v},this.maps.isBlazor){E.maps;var U=ui(E,["maps"]);E=U}}else k="Mercator"===this.maps.projectionType?A.y:-A.y,E={cancel:!1,name:"bubbleRendering",border:e.border,cx:A.x,cy:k,data:i,fill:c,maps:this.maps.isBlazor?null:this.maps,radius:v};this.maps.trigger("bubbleRendering",E,function(i){if(!E.cancel){var a;if("Circle"===e.bubbleType){var o=new nt(p,E.fill,E.border,h,0,0,E.radius,null);a=F(m.maps,o,d)}else{var c="Mercator"===m.maps.projectionType?E.cy-v:E.cy+v,u=new ot(p,E.fill,E.border,h,new ht(0,0,2*v,2*v),2,2);E.cx-=v,E.cy=c,a=R(m.maps,u,d)}j(m.maps.selectedBubbleElementId,m.maps.bubbleSelectionClass,a,"BubbleselectionMapStyle"),m.bubbleCollection.push({LayerIndex:r,BubbleIndex:n,DataIndex:l,element:a,center:{x:E.cx,y:E.cy}});var g,y=0!==s.animationDuration||t.isNullOrUndefined(m.maps.zoomModule),f=(g=m.maps.zoomSettings.zoomFactor>1&&!t.isNullOrUndefined(m.maps.zoomModule)?he(m.maps,s,y):pe(m.maps,s,y)).scale,b=g.location,x=new pt(m.maps.isTileMap?E.cx:(E.cx+b.x)*f,m.maps.isTileMap?E.cy:(E.cy+b.y)*f);a.setAttribute("transform","translate( "+x.x+" "+x.y+" )");var S=e.dataSource.length-1===l?"bubble":null;"Square"===e.bubbleType?(x.x+=v,x.y+=v*("Mercator"===m.maps.projectionType?1:-1)):v=0,e.animationDuration>0&&Le(a,e.animationDelay,e.animationDuration,x,m.maps,S,v)}})}},e.prototype.getPoints=function(e,i){return t.isNullOrUndefined(e.map)?i=e.point:e.map(function(e,t){i.push(new Qe(e.point.x,e.point.y))}),i},e.prototype.bubbleClick=function(e){var i=e.target.id;if(-1!==i.indexOf("_LayerIndex_")){var a=this.getbubble(i);if(!t.isNullOrUndefined(a)){var o={cancel:!1,name:"bubbleClick",data:a,maps:this.maps,target:i,x:e.clientX,y:e.clientY};if(this.maps.isBlazor){o.maps;o=ui(o,["maps"])}this.maps.trigger("bubbleClick",o)}}},e.prototype.getbubble=function(e){var t=e.split("_LayerIndex_"),i=parseInt(t[1].split("_")[0],10),a=this.maps.layers[i];if(e.indexOf("_BubbleIndex_")>-1){var o=parseInt(t[1].split("_BubbleIndex_")[1],10),n=parseInt(t[1].split("_BubbleIndex_")[1].split("_dataIndex_")[1],10);if(!isNaN(o))return a.bubbleSettings[o].dataSource[n]}return null},e.prototype.bubbleMove=function(e){var i=e.target.id;if(-1!==i.indexOf("_LayerIndex_")){var a=this.getbubble(i);if(!t.isNullOrUndefined(a)){var o={cancel:!1,name:"bubbleMouseMove",data:a,maps:this.maps,target:i,x:e.clientX,y:e.clientY};if(this.maps.isBlazor){o.maps;o=ui(o,["maps"])}this.maps.trigger("bubbleMouseMove",o)}}},e.prototype.getModuleName=function(){return"Bubble"},e.prototype.destroy=function(e){},e}(),yi=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(i[a[o]]=e[a[o]]);return i},fi=function(){function e(e){this.value={rightWidth:0,leftWidth:0,heightTop:0,heightBottom:0},this.maps=e,this.dataLabelCollections=[]}return e.prototype.getDataLabel=function(e,i,a,o){for(var n,l,r=0;r<e.length;r++){var s=e[r],d=void 0;if(d=!t.isNullOrUndefined(s[o])&&isNaN(s[o])?s[o].toLowerCase():s[o],a=t.isNullOrUndefined(a)?a:a.toString(),l=t.isNullOrUndefined(a)?a:a.toLowerCase(),d===l){n=s;break}}return n},e.prototype.renderLabel=function(e,i,a,o,n,l,r,s){var d,p,h,c,m,u,g,y,f=this,b=e.dataLabelSettings,v=e.dataLabelSettings.textStyle,O=e.dataLabelSettings,_=e.dataLabelSettings.labelPath,M=[[]],L=0,P=0,w=a,T="",I=0,N=!1,k=a.properties,E=this.maps.element.id+"_LayerIndex_"+i+"_shapeIndex_"+r+"_LabelIndex_"+r,z=new Qe(0,0),j=o[r];v.fontFamily="material"!==this.maps.theme.toLowerCase()?this.maps.themeStyle.labelFontFamily:v.fontFamily,a=j.property;var A,B,F="[object Array]"===Object.prototype.toString.call(e.shapePropertyPath)?e.shapePropertyPath:[e.shapePropertyPath],R=!1,U=0!==e.animationDuration||t.isNullOrUndefined(this.maps.zoomModule),Z=this.maps.isTileMap?new Object:this.maps.zoomSettings.zoomFactor>1&&!t.isNullOrUndefined(this.maps.zoomModule)?he(this.maps,e,U):pe(this.maps,e,U),D=this.maps.isTileMap?this.maps.scale:Z.scale,H=this.maps.isTileMap?this.maps.translatePoint:Z.location,V=this.maps.zoomTranslatePoint,G=t.isNullOrUndefined(this.maps.scale)?1:Math.floor(this.maps.scale),W=this.maps.zoomSettings.enable?!t.isNullOrUndefined(this.maps.zoomShapeCollection)&&this.maps.zoomShapeCollection.length>0:this.maps.zoomSettings.enable;this.maps.translateType="labels";for(Y=0;Y<F.length&&!(k[F[Y]]&&(A=F[Y],c=this.getDataLabel(e.dataSource,e.shapeDataPath,w.properties[A],e.shapeDataPath)));Y++);if(c=this.getDataLabel(e.dataSource,e.shapeDataPath,w.properties[A],e.shapeDataPath),!t.isNullOrUndefined(j.property))if(M=[[]],o[r]._isMultiPolygon||"Point"===o[r].type){var q=o[r];if("Point"===q.type){R=!0;var X=[];X.push(this.getPoint(o,[])),P<(I=(M=X)[M.length-1].length)&&(P=I,L=M.length-1)}for(var Y=0;Y<q.length;Y++)M.push(this.getPoint(q[Y],[])),P<(I=M[M.length-1].length)&&(P=I,L=M.length-1)}else M.push(this.getPoint(o[r],[])),P<(I=M[M.length-1].length)&&(P=I,L=M.length-1);if(T=t.isNullOrUndefined(c)?w.properties[_]:t.isNullOrUndefined(c[_])?c[e.shapeDataPath]:c[e.shapeDataPath].toString(),"[object Array]"===Object.prototype.toString.call(e.shapePropertyPath)&&t.isNullOrUndefined(T)&&t.isNullOrUndefined(c))for(var J=0;J<e.shapePropertyPath.length;J++)if(w.properties[e.shapePropertyPath[J]]){T=w.properties[e.shapePropertyPath[J]];break}t.isNullOrUndefined(T)&&(T=w.properties[e.shapePropertyPath]);var K=T,Q=this.maps.projectionType,$=u=R?{x:M[L][r].x,y:M[L][r].y,rightMin:0,rightMax:0,leftMin:0,leftMax:0,points:M[L][r],topMax:0,topMin:0,bottomMax:0,bottomMin:0,height:0}:oe(M[L],Q);if(!t.isNullOrUndefined(T)&&!t.isNullOrUndefined(u)){if(W&&G>1&&!this.maps.zoomNotApplied&&""===b.template){if(i>0)for(var ee=0;ee<this.maps.zoomLabelPositions.length;ee++)if(this.maps.zoomLabelPositions[ee].dataLabelText===T){m=r,r=ee,N=!0;break}g=u.x,y=u.y,u.x=(u.x+V.x)*D,u.y=(u.y+V.y)*D}u.y="Mercator"===this.maps.projectionType?u.y:-u.y,t.isNullOrUndefined(this.maps.format)||isNaN(parseFloat(T))||this.maps.useGroupingSeparator&&(T=ue(this.maps,parseFloat(T)),t.isNullOrUndefined(c)||(c[_]=T));var te={name:"dataLabelRendering",maps:this.maps,cancel:!1,border:b.border,datalabel:b,fill:b.fill,template:b.template,text:T};if(this.maps.isBlazor){te.maps,te.datalabel;var ae=yi(te,["maps","datalabel"]);te=ae}this.maps.trigger("dataLabelRendering",te,function(e){if(!te.cancel){var a=[],o=W&&G>1&&!f.maps.zoomNotApplied&&f.maps.zoomShapeCollection.length>r?f.maps.zoomShapeCollection[r].width:(u.rightMax.x-u.leftMax.x)*D;t.isNullOrUndefined(f.maps.dataLabelShape)||(B=$.rightMax.x-$.leftMax.x,f.maps.dataLabelShape.push(B)),te.text===T||te.cancel||(T=te.text);var b=x(T,v),_=T,P=b,I=u.y-b.height/4,k=u.y+b.height/4,j=(u.y+H.y)*D-b.height/4,A=(u.y+H.y)*D+b.height/4;if(a=ie(M[L],I,k),!R&&a.length>5&&"MultiPolygon"!==w.geometry.type&&"MultiPolygon"!==w.type){var F=oe(a,Q);W&&G>1&&!f.maps.zoomNotApplied&&""===te.template&&(F.x=(f.maps.zoomLabelPositions[r].location.x+V.x)*D,F.y=(f.maps.zoomLabelPositions[r].location.y+V.y)*D),g=F.x,u.x=F.x,o=W&&G>1&&!f.maps.zoomNotApplied&&f.maps.zoomShapeCollection.length>r?f.maps.zoomShapeCollection[r].width:(F.rightMax.x-F.leftMax.x)*D}var U=(u.x+H.x)*D+b.width/2,Z=(u.x+H.x)*D-b.width/2;f.value[r]={rightWidth:U,leftWidth:Z,heightTop:j,heightBottom:A};var q;if(""!==te.template){var X=(d=ge(te.template))?d(t.isNullOrUndefined(c)?w.properties:c,null,null,f.maps.element.id+"_LabelTemplate",!1):document.createElement("div");X.innerHTML=d?"":te.template,(q=C(X,E,t.isNullOrUndefined(c)?w.properties:c,r,f.maps)).style.left=Math.abs(f.maps.baseMapRectBounds.min.x-u.x)*D+"px",q.style.top=Math.abs(f.maps.baseMapRectBounds.min.y-u.y)*D+"px",l.appendChild(q)}else{if("Trim"===O.smartLabelMode&&(P=x(_=le(o,T,v),v),p=new tt(E,z.x,z.y,"middle",_,"","")),"None"===O.smartLabelMode&&(p=new tt(E,z.x,z.y,"middle",T,"","")),"Hide"===O.smartLabelMode&&(T=o>=b.width?T:"",p=new tt(E,z.x,z.y,"middle",T,"","")),T=p.text,"Hide"===O.intersectionAction){for(var Y=0;Y<s.length;Y++)if(!t.isNullOrUndefined(s[Y])){if(!(f.value[r].leftWidth>s[Y].rightWidth||f.value[r].rightWidth<s[Y].leftWidth||f.value[r].heightTop>s[Y].heightBottom||f.value[r].heightBottom<s[Y].heightTop)){T="";break}T=T}s.push(f.value[r]),p=new tt(E,z.x,z.y,"middle",T,"","")}if("Trim"===O.intersectionAction){for(var J=0;J<s.length;J++)if(!t.isNullOrUndefined(s[J]))if(s[J].rightWidth<f.value[r].leftWidth||s[J].leftWidth>f.value[r].rightWidth||s[J].heightBottom<f.value[r].heightTop||s[J].heightTop>f.value[r].heightBottom)_=T,0;else{if(f.value[r].leftWidth>s[J].leftWidth){_=le((o=s[J].rightWidth-f.value[r].leftWidth)-(f.value[r].rightWidth-f.value[r].leftWidth),T,v);break}if(f.value[r].leftWidth<s[J].leftWidth){o=f.value[r].rightWidth-s[J].leftWidth,_=le(Math.abs(o-(f.value[r].rightWidth-f.value[r].leftWidth)),T,v);break}}P=x(_,v),s.push(f.value[r]),p=new tt(E,z.x,z.y,"middle",_,"","")}if("None"===O.intersectionAction&&(p=new tt(E,z.x,z.y,"middle",T,"","")),_.length>1){var ee=te.border;if(ee.width>1){var ae=te.fill,ne=O.opacity,re=O.rx,se=O.ry,de=void 0,pe=void 0;W&&G>1&&!f.maps.zoomNotApplied?(de=u.x-b.width/2,pe=u.y-b.height/2-5):(de=(u.x+H.x)*D-b.width/2,pe=(u.y+H.y)*D-b.height/2);var he=new ot(f.maps.element.id+"_LayerIndex_"+i+"_shapeIndex_"+r+"_rectIndex_"+r,ae,ee,ne,new ht(de,pe,b.width,b.height),re,se),ce=f.maps.renderer.drawRectangle(he);n.appendChild(ce)}}h=S(p,v,v.color||f.maps.themeStyle.dataLabelFontColor,n),W&&G>1&&!f.maps.zoomNotApplied?(h.setAttribute("transform","translate( "+u.x+" "+u.y+" )"),u.x=g,u.y=y):h.setAttribute("transform","translate( "+(u.x+H.x)*D+" "+((u.y+H.y)*D+P.height/4)+" )"),n.appendChild(h)}f.dataLabelCollections.push({location:{x:u.x,y:u.y},element:t.isNullOrUndefined(q)?h:q,layerIndex:i,shapeIndex:N?m:r,labelIndex:N?m:r,dataLabelText:K}),l.childElementCount>0&&!f.maps.element.contains(l)&&document.getElementById(f.maps.element.id+"_Secondary_Element").appendChild(l)}})}},e.prototype.getPoint=function(e,t){return e.map(function(e,i){t.push(new Qe(e.point.x,e.point.y))}),t},e.prototype.getModuleName=function(){return"DataLabel"},e.prototype.destroy=function(e){},e}(),bi=function(){function e(e){this.maps=e}return e.prototype.renderNavigation=function(e,i,a){var o,n;n=e.navigationLineSettings;for(var l,r,s,d,p,m,u,g,y,f,b,v,x,S,O,_,M,C,L,P,w=[],T=this.maps.renderer.createGroup({id:this.maps.element.id+"_LayerIndex_"+a+"_line_Group"}),I=0;I<n.length;I++){if(r=n[I].properties.latitude,l=n[I].properties.longitude,s=n[I].properties.visible,d=n[I].angle,p=n[I].width||1,m=n[I].color,u=n[I].properties.dashArray,x=n[I].properties.arrowSettings,f=!t.isNullOrUndefined(x)&&x.properties.showArrow,l.length===r.length&&s)for(var N=0;N<l.length;N++){var k=this.maps.isTileMap?c(new Qe(l[N],r[N]),i,this.maps.tileTranslatePoint,!0):h(r[N],l[N],i,e,this.maps);w.push(k)}L=this.maps.renderer.createGroup({id:this.maps.element.id+"_LayerIndex_"+a+"_NavigationGroup"+I});for(var E=0;E<w.length-1;E++){d=1<(d=-1>d?-1:d)?1:d;var z=this.maps.element.id+"_LayerIndex_"+a+"_NavigationIndex_"+I+"_Line"+E,A=this.convertRadius(w[E],w[E+1]);if(d<=1&&d>0&&(y=0,w[E].x>w[E+1].x&&(y=1)),d>=-1&&d<0&&(y=1,w[E].x>w[E+1].x&&(y=0)),w[E].x!==w[E+1].x){if(f){b=x.properties.color,v=x.properties.size,C=void 0===x.properties.offSet?0:x.properties.offSet;var B=Math.round(v/2);O="Start"===(S=x.properties.position)?"url(#triangle"+I+")":null,_="End"===S?"url(#triangle"+I+")":null,0!==M&&0===d&&(M="Start"===S?C:-C),M=t.isNullOrUndefined(M)?0:M;var F=this.maps.element.id+"_triangle",R=this.maps.renderer.createDefs();R.innerHTML+='<marker id="triangle'+I+'"></marker>';var U=R.querySelector("#triangle"+I);U.setAttribute("markerWidth",v.toString()),U.setAttribute("markerHeight",v.toString()),U.setAttribute("refX",(B-M).toString()),U.setAttribute("refY",B.toString()),U.setAttribute("orient","auto"),g=new it(F,b,p,m,1,u,"M 0,0  L 0,"+v+" L "+B+", "+B+" Z"),o=this.maps.renderer.drawPath(g),U.appendChild(o),R.appendChild(U),L.appendChild(R)}P=0===(d=Math.abs(d))?"M "+w[E].x+","+w[E].y+"L "+w[E+1].x+","+w[E+1].y+" ":"M "+w[E].x+","+w[E].y+" A "+(A/2+(1-d)*A/(10*d))+" "+(A/2+(1-d)*A/(10*d))+" 0,0,"+y+" , "+w[E+1].x+","+w[E+1].y+" ",g=new it(z,"none",p,m,1,u,P),o=this.maps.renderer.drawPath(g),t.isNullOrUndefined(S)||("Start"===S?o.setAttribute("marker-start",O):o.setAttribute("marker-end",_)),j(this.maps.selectedNavigationElementId,this.maps.navigationSelectionClass,o,"navigationlineselectionMapStyle"),L.appendChild(o),T.appendChild(L)}}w=[]}return T},e.prototype.convertRadius=function(e,t){var i=t.x-e.x,a=t.y-e.y;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))},e.prototype.getModuleName=function(){return"NavigationLine"},e.prototype.destroy=function(e){},e}(),vi=function(){function e(e){this.legendBorderRect=new ht(0,0,0,0),this.totalPages=[],this.page=0,this.currentPage=0,this.legendItemRect=new ht(0,0,0,0),this.heightIncrement=0,this.widthIncrement=0,this.textMaxWidth=0,this.shapeHighlightCollection=[],this.legendHighlightCollection=[],this.shapePreviousColor=[],this.selectedNonLegendShapes=[],this.shapeToggled=!0,this.legendElement=null,this.maps=e,this.addEventListener()}return e.prototype.renderLegend=function(){this.legendRenderingCollections=[],this.legendCollection=[],this.totalPages=[],this.widthIncrement=0,this.heightIncrement=0,this.defsElement=this.maps.renderer.createDefs(),this.maps.svgObject.appendChild(this.defsElement),this.calculateLegendBounds(),this.drawLegend()},e.prototype.calculateLegendBounds=function(){var e=this,i=this.maps,a=i.legendSettings;this.legendCollection=[];var o=i.mapAreaRect.y;if(this.legendRenderingCollections=[],Array.prototype.forEach.call(i.layersCollection,function(i,o){if(!t.isNullOrUndefined(i.shapeData)){var n=i.shapeData.features,l=i.shapeDataPath,r=i.shapePropertyPath,s=i.dataSource,d=void 0,p=void 0;if("Layers"===a.type&&i.visible)d=i.shapeSettings.colorValuePath,p=i.shapeSettings.colorMapping,e.getLegends(o,n,p,s,l,d,r);else if("Bubbles"===a.type)for(var h=0,c=i.bubbleSettings;h<c.length;h++){var m=c[h];m.visible&&(d=m.colorValuePath,p=m.colorMapping,s=m.dataSource,e.getLegends(o,n,p,s,l,d,r))}else e.getMarkersLegendCollections(o,i.markerSettings)}}),this.legendCollection.length>0)for(U=0;U<this.legendCollection.length;U++){var n={name:"legendRendering",cancel:!1,fill:(V=this.legendCollection[U]).fill,shape:a.shape,shapeBorder:a.shapeBorder,text:"number"==typeof V.text?V.text.toString():V.text};i.trigger("legendRendering",n),V.fill=n.fill,V.shape=n.shape,V.shapeBorder=n.shapeBorder,V.text=n.text,n.cancel&&(this.legendCollection.splice(U,1),U--)}var l=i.legendSettings.title.text,r=i.legendSettings.titleStyle;if(this.legendCollection.length>0){var s,d,p=a.mode,h=0,c=0,m=0,u=0,g=a.shapePadding,y=a.shapeHeight,f=a.shapeWidth,b=[],v=[],S=a.position,O=a.labelDisplayMode,_="None"===a.orientation?"Top"===S||"Bottom"===S?"Horizontal":"Vertical":a.orientation,M=a.width.length>1?a.width.indexOf("%")>-1?i.availableSize.width/100*parseInt(a.width,10):parseInt(a.width,10):null,C=a.height.length>1?a.height.indexOf("%")>-1?i.availableSize.height/100*parseInt(a.height,10):parseInt(a.height,10):null,L=0,P=0,w=x(l,r);if("Interactive"===p){var T=a.textStyle,I=void 0,N=void 0,k=this.legendCollection.length;I="Horizontal"===_?t.isNullOrUndefined(M)?i.mapAreaRect.width/k:M/k:t.isNullOrUndefined(M)?25:M,N="Horizontal"===_?t.isNullOrUndefined(C)?25:C:t.isNullOrUndefined(C)?i.mapAreaRect.height/k:C/k,L=0,P=w.height+10;for(var E=a.labelPosition,z=0,j=0,A=0,B=0,F=0,R=0,U=0;U<this.legendCollection.length;U++){L="Horizontal"===_?L+I:L,P="Horizontal"===_?P:P+N;var Z=this.legendCollection[U].text,D=new Ke(0,0);"None"===O?D=x(Z,T):"Trim"===O?D=x(Z=le("Horizontal"===_?I:N,Z,T),T):Z="",F=Math.max(F,D.height),R=Math.max(R,D.width),D.width>0&&D.height>0&&("Horizontal"===_?(z=L+I/2,j="After"===E?P+N+D.height/2+10:P-10):(z="After"===E?L-D.width/2-10:L+I+D.width/2+10,j=P+N/2+D.height/4)),0===U?(A="Horizontal"===_?L:"After"===E?z-D.width/2:L,B="Horizontal"===_?"After"===E?P:j-D.height/2:P,1===this.legendCollection.length&&(M="Horizontal"===_?Math.abs(L+I-A):I+R+10,C="Horizontal"===_?N+F/2+10:Math.abs(P+N-B))):U===this.legendCollection.length-1&&(M="Horizontal"===_?Math.abs(L+I-A):I+R+10,C="Horizontal"===_?N+F/2+10:Math.abs(P+N-B)),this.legendRenderingCollections.push({fill:this.legendCollection[U].fill,x:L,y:P,width:I,height:N,text:Z,textX:z,textY:j,textWidth:D.width,textHeight:D.height,shapeBorder:this.legendCollection[U].shapeBorder})}1===this.legendCollection.length&&(C=N,M=I),this.legendItemRect={x:A,y:B,width:M,height:C}}else{M=t.isNullOrUndefined(M)?i.mapAreaRect.width:M,C=t.isNullOrUndefined(C)?i.mapAreaRect.height:C;var H=0;this.page=0;for(U=0;U<this.legendCollection.length;U++){var V=this.legendCollection[U];t.isNullOrUndefined(this.totalPages[this.page])&&(this.totalPages[this.page]={Page:this.page+1,Collection:[]});var G=x(V.text,a.textStyle);if(this.textMaxWidth=Math.max(this.textMaxWidth,G.width),0===U)L=h=10+f/2,P=c=o+w.height+(y>G.height?y/2:G.height/4);else{var W=G.height>y?G.height:y;if("Horizontal"===_){var q=v[H-1].x+v[H-1].width+10+f;if(q+g+G.width>M){var X=(v[H-1].y>b[H-1].y+y/2?v[H-1].y:b[H-1].y+y/2)+o;X+W>C?(this.getPageChanged(),H=0,b=[],v=[],h=L,c=P):(h=b[0].x,c=X+W/2)}else h=q-f/2,c=b[H-1].y}else{var Y=v[H-1].y>b[H-1].y+y/2?v[H-1].y:b[H-1].y+y/2;if(Y+o+W>C){var J=v[H-1].x+this.textMaxWidth+10;J+g+G.width>M?(h=L,c=P,v=[],b=[],this.getPageChanged(),H=0):(h=J+f/2,c=b[0].y)}else h=b[H-1].x,c=Y+o+y/2}}m=h+f/2+g,u=c+G.height/4,b.push({x:h,y:c}),v.push({x:m,y:u,width:G.width,height:G.height/2}),this.totalPages[this.page].Collection.push({DisplayText:V.text,ImageSrc:V.imageSrc,Shape:{x:h,y:c},Text:{x:m,y:u},Fill:V.fill,legendShape:V.shape,shapeBorder:V.shapeBorder,idIndex:U,Rect:{x:b[H].x-f/2,y:b[H].y-y/2<u-G.height?b[H].y-y/2:u-G.height,width:Math.abs(b[H].x-f/2-(m+G.width)),height:y>G.height?y:G.height}}),H++}var K=this.totalPages[0].Collection;Array.prototype.forEach.call(K,function(t,i){var a=new ht(t.Rect.x,t.Rect.y,t.Rect.width,t.Rect.height);0===i&&(s=a.x,d=a.y),e.widthIncrement=Math.max(e.widthIncrement,Math.abs(s-(a.x+a.width))),e.heightIncrement=Math.max(e.heightIncrement,Math.abs(d-(a.y+a.height)))}),M=this.widthIncrement<M?this.widthIncrement:M,C=this.heightIncrement<C?this.heightIncrement:C,this.legendItemRect={x:K[0].Rect.x,y:K[0].Rect.y,width:M,height:C}}}},e.prototype.getLegends=function(e,t,i,a,o,n,l){this.getRangeLegendCollection(e,t,i,a,o,n,l),this.getEqualLegendCollection(e,t,i,a,o,n,l),this.getDataLegendCollection(e,t,i,a,o,n,l)},e.prototype.getPageChanged=function(){this.page++,t.isNullOrUndefined(this.totalPages[this.page])&&(this.totalPages[this.page]={Page:this.page+1,Collection:[]})},e.prototype.legendTextTrim=function(e,t,i,a){var o=t,n=x(t,i).width,l=a-n;if(a>e)for(var r=t.length-1;r>=0;--r)if(l+(n=x(o=t.substring(0,r)+"...",i).width)<=e||o.length<4)return o.length<4&&(o=" "),o;return o},e.prototype.drawLegend=function(){var e,t=this.maps,i=t.legendSettings,a=t.renderer,o=i.textStyle;if(this.legendGroup=a.createGroup({id:t.element.id+"_Legend_Group"}),"Interactive"===i.mode)for(var n=0;n<this.legendRenderingCollections.length;n++){var l=t.element.id+"_Legend_Index_"+n,r=t.element.id+"_Legend_Index_"+n+"_Text",s=this.legendRenderingCollections[n],d=new ht(s.x,s.y,s.width,s.height);0===n&&this.renderLegendBorder();var p=new Qe(s.textX,s.textY);o.color=null!==o.color?o.color:this.maps.themeStyle.legendTextColor;var h=new ot(l,s.fill,s.shapeBorder,i.opacity,d);e=new tt(r,p.x,p.y,"middle",s.text,"",""),o.fontFamily=t.themeStyle.fontFamily||o.fontFamily,o.size=t.themeStyle.legendFontSize||o.size,S(e,o,o.color,this.legendGroup),this.legendGroup.appendChild(a.drawRectangle(h)),this.legendToggle()}else this.drawLegendItem(this.currentPage)},e.prototype.drawLegendItem=function(e){var i,a=this.maps,o=a.legendSettings,n=new Ke(o.shapeWidth,o.shapeHeight),l=a.renderer;if(e>=0&&e<this.totalPages.length){xe(this.legendGroup.id,this.maps.element.id)&&t.remove(xe(this.legendGroup.id,this.maps.element.id));for(var r=0;r<this.totalPages[e].Collection.length;r++){var s=this.totalPages[e].Collection[r],d=s.shapeBorder,p=l.createGroup({id:a.element.id+"_Legend_Index_"+s.idIndex}),h=s.DisplayText,c="Markers"===o.type?t.isNullOrUndefined(s.ImageSrc)?o.shape:"Image":s.legendShape,m="HorizontalLine"===o.shape||"VerticalLine"===o.shape||"Cross"===o.shape?t.isNullOrUndefined(o.fill)?"#000000":o.fill:d.color,u=("HorizontalLine"===o.shape||"VerticalLine"===o.shape||"Cross"===o.shape)&&0===d.width?1:d.width,g=a.element.id+"_Legend_Shape_Index_"+s.idIndex,y=a.element.id+"_Legend_Text_Index_"+s.idIndex,f=s.Shape,b=s.Text,v=(t.isNullOrUndefined(s.ImageSrc)?o.shape:s.ImageSrc,new it(g,s.Fill,u,m,o.opacity,""));if(o.textStyle.color=null!==o.textStyle.color?o.textStyle.color:this.maps.themeStyle.legendTextColor,o.textStyle.fontFamily=a.themeStyle.fontFamily||o.textStyle.fontFamily,o.textStyle.size=a.themeStyle.legendFontSize||o.textStyle.size,0===r&&this.renderLegendBorder(),p.appendChild(Ne(f,c,n,s.ImageSrc,v)),s.Rect.width>this.legendBorderRect.width){var O=s.Rect.x+s.Rect.width;h=this.legendTextTrim(this.legendBorderRect.width,h,o.textStyle,O)}if(i=new tt(y,b.x,b.y,"start",h,"",""),S(i,o.textStyle,o.textStyle.color,p),this.legendGroup.appendChild(p),r===this.totalPages[e].Collection.length-1){var _=void 0;if(0!==this.page){var M=e+1+"/"+this.totalPages.length,C=o.textStyle,L=x(M,C),P=this.legendItemRect.x+this.legendItemRect.width-L.width-20-10,w=this.legendItemRect.x+this.legendItemRect.width,T=this.legendItemRect.y+this.legendItemRect.height+2.5+10,I=w-10-L.width/2-5;_=l.createGroup({id:a.element.id+"_Legend_Paging_Group"});var N=l.createGroup({id:a.element.id+"_Legend_Left_Paging_Group"}),k=l.createGroup({id:a.element.id+"_Legend_Right_Paging_Group"}),E=" M "+w+" "+T+" L "+(w-10)+" "+(T-5)+" L "+(w-10)+" "+(T+5)+" z ",z=" M "+P+" "+T+" L "+(P+10)+" "+(T-5)+" L "+(P+10)+" "+(T+5)+" z ",j=new it(a.element.id+"_Left_Page","#a6a6a6",0,"#a6a6a6",1,"",z);N.appendChild(l.drawPath(j));var A=new ot(a.element.id+"_Left_Page_Rect","transparent",{},1,new ht(P-5,T-10,20,20),null,null,"","");N.appendChild(l.drawRectangle(A)),this.wireEvents(N);var B=new it(a.element.id+"_Right_Page","#a6a6a6",0,"#a6a6a6",1,"",E);k.appendChild(l.drawPath(B));var F=new ot(a.element.id+"_Right_Page_Rect","transparent",{},1,new ht(w-10,T-5,10,10),null,null,"","");k.appendChild(l.drawRectangle(F)),this.wireEvents(k),_.appendChild(N),_.appendChild(k);var R={id:a.element.id+"_Paging_Text",x:I,y:T+L.height/4,fill:"#a6a6a6","font-size":"14px","font-style":C.fontStyle,"font-family":C.fontFamily,"font-weight":C.fontWeight,"text-anchor":"middle",transform:"",opacity:1,"dominant-baseline":""};_.appendChild(l.createText(R,M)),this.legendGroup.appendChild(_)}this.legendToggle()}}}},e.prototype.legendHighLightAndSelection=function(e,i){var a,o,n,l;l="Default"===this.maps.legendSettings.mode?document.getElementById(e.id.replace("Shape","Text")):document.getElementById(e.id+"_Text");var r,s=this.maps.legendModule.legendCollection,d=this.maps.layers[s[0].data[0].layerIndex].selectionSettings.enableMultiSelect,p=0,h=!0,c=parseFloat(e.id.charAt(e.id.length-1));this.updateLegendElement();var m=this.maps.toggledLegendId.indexOf(c);if(this.maps.legendSettings.toggleLegendSettings.enable&&"highlight"===i&&-1!==m){var u=this.getIndexofLegend(this.legendHighlightCollection,e);return-1!==u&&this.legendHighlightCollection.splice(u,1),this.removeLegendHighlightCollection(),null}if("selection"===i){if(this.shapeHighlightCollection=[],this.maps.shapeSelections||d||(this.removeAllSelections(),this.maps.shapeSelections=!0),this.maps.legendSelectionCollection.length>0&&(d||this.maps.shapeSelections))for(y=0;y<this.maps.legendSelectionCollection.length;y++){if(e===this.maps.legendSelectionCollection[y].legendElement){this.maps.legendSelectionCollection[y].legendElement=e,h=!1,this.removeLegendSelectionCollection(this.maps.legendSelectionCollection[y].legendElement),this.maps.selectedLegendElementId.splice(this.maps.selectedLegendElementId.indexOf(c),1),this.maps.legendSelectionCollection.splice(y,1),this.maps.legendSelection=!(this.maps.legendSelectionCollection.length>0);break}if(!d)if(this.maps.legendSelectionCollection.length>1){for(var g=0;g<this.maps.legendSelectionCollection.length;g++)this.removeLegendSelectionCollection(this.maps.legendSelectionCollection[g].legendElement);this.maps.legendSelectionCollection=[]}else this.removeLegendSelectionCollection(this.maps.legendSelectionCollection[y].legendElement),this.maps.legendSelectionCollection.splice(y,1)}}else{if(this.maps.legendSelectionCollection.length>0)for(var y=0;y<this.maps.legendSelectionCollection.length;y++){if((e.id.indexOf("_Legend_Shape")>-1||e.id.indexOf("_Legend_Index"))&&e===this.maps.legendSelectionCollection[y].legendElement){h=!1;break}this.removeLegendHighlightCollection()}this.removeLegendHighlightCollection()}if(h)for(var f=0;f<s.length;f++){var b="Interactive"===this.maps.legendSettings.mode?parseFloat(e.id.split("_Legend_Index_")[1]):parseFloat(e.id.split("_Legend_Shape_Index_")[1]);if(l.textContent===s[f].text&&s[f].data.length>0&&b===f){var v=this.maps.layers[s[f].data[0].layerIndex],x=void 0,S=void 0,O=void 0;if(t.isNullOrUndefined(v)||(x="selection"===i?v.selectionSettings.enable:v.highlightSettings.enable,S=void 0,S="selection"===i?v.selectionSettings:v.highlightSettings,O=s[f].data),x)for(var _=0;_<O.length;_++){a=O[_].shapeIndex,o=O[_].layerIndex,n=O[_].dataIndex;var M=document.getElementById(this.maps.element.id+"_LayerIndex_"+o+"_shapeIndex_"+a+"_dataIndex_"+n);if(null!==M){var C=!0;if(null!==this.maps.legendSelectionCollection)for(var L=0;L<this.maps.legendSelectionCollection.length;L++)if(this.maps.legendSelectionCollection[L].legendElement===e){C=!1;break}if("highlight"===i&&C){0===_&&(this.legendHighlightCollection=[],this.pushCollection(e,this.legendHighlightCollection,s[f],v.shapeSettings)),r=this.legendHighlightCollection.length;var P=this.legendHighlightCollection[r-1].legendOldFill;this.legendHighlightCollection[r-1].MapShapeCollection.Elements.push(M);var w=this.legendHighlightCollection[r-1].MapShapeCollection.Elements.length-1,T=M.getAttribute("fill");this.legendHighlightCollection[r-1].shapeOldFillColor.push(T);var I=this.legendHighlightCollection[r-1].shapeOldFillColor[w];this.shapePreviousColor=this.legendHighlightCollection[r-1].shapeOldFillColor,this.setColor(M,t.isNullOrUndefined(S.fill)?I:S.fill,S.opacity.toString(),S.border.color,S.border.width.toString(),"highlight"),this.setColor(e,t.isNullOrUndefined(S.fill)?P:S.fill,S.opacity.toString(),S.border.color,S.border.width.toString(),"highlight")}else if("selection"===i){this.legendHighlightCollection=[],this.maps.legendSelectionClass=S,0===_&&(this.pushCollection(e,this.maps.legendSelectionCollection,s[f],v.shapeSettings),d?this.maps.selectedLegendElementId.push(f):0===this.maps.selectedLegendElementId.length?this.maps.selectedLegendElementId.push(f):(this.maps.selectedLegendElementId=[],this.maps.selectedLegendElementId.push(f))),p=this.maps.legendSelectionCollection.length;var N=void 0;N=this.maps.legendSelectionCollection[p-1].legendOldFill,this.maps.legendSelectionCollection[p-1].MapShapeCollection.Elements.push(M),this.maps.legendSelectionCollection[p-1].shapeOldFillColor=this.shapePreviousColor,this.setColor(e,t.isNullOrUndefined(S.fill)?N:S.fill,S.opacity.toString(),S.border.color,S.border.width.toString(),"selection"),this.setColor(M,t.isNullOrUndefined(S.fill)?N:S.fill,S.opacity.toString(),S.border.color,S.border.width.toString(),"selection"),-1===this.maps.selectedElementId.indexOf(M.getAttribute("id"))&&this.maps.selectedElementId.push(M.getAttribute("id")),_===O.length-1&&(this.maps.legendSelection=!1,this.removeLegend(this.maps.legendSelectionCollection))}}}}}},e.prototype.setColor=function(e,t,i,a,o,n){"selection"===n?(A("ShapeselectionMap","ShapeselectionMapStyle",t,i,a,o,this.maps),e.setAttribute("class","ShapeselectionMapStyle")):(e.setAttribute("fill",t),e.setAttribute("opacity",i),e.setAttribute("stroke",a),e.setAttribute("stroke-width",(Number(o)/this.maps.scale).toString()))},e.prototype.pushCollection=function(e,t,i,a){t.push({legendElement:e,legendOldFill:i.fill,legendOldOpacity:i.opacity,legendOldBorderColor:i.borderColor,legendOldBorderWidth:i.borderWidth,shapeOpacity:a.opacity,shapeOldBorderColor:a.border.color,shapeOldBorderWidth:a.border.width}),length=t.length,t[length-1].MapShapeCollection={Elements:[]},t[length-1].shapeOldFillColor=[]},e.prototype.removeLegend=function(e){for(var t=0;t<e.length;t++){var i=e[t];this.setColor(i.legendElement,i.legendOldFill,i.legendOldOpacity,i.legendOldBorderColor,i.legendOldBorderWidth,"highlight");for(var a=i.MapShapeCollection.Elements.length,o=0;o<a;o++){var n=-1!==i.legendOldFill.indexOf("url")?i.shapeOldFillColor[o]:i.legendOldFill;this.setColor(i.MapShapeCollection.Elements[o],n,i.shapeOpacity,i.shapeOldBorderColor,i.shapeOldBorderWidth,"highlight")}}},e.prototype.removeLegendHighlightCollection=function(){this.legendHighlightCollection.length>0&&(this.removeLegend(this.legendHighlightCollection),this.legendHighlightCollection=[])},e.prototype.removeLegendSelectionCollection=function(e){if(this.maps.legendSelectionCollection.length>0){Ce(e);for(var t=this.shapesOfLegend(e),i=t.length,a=0;a<i;a++){var o=ye(t[a]);if("ShapeselectionMapStyle"===o.getAttribute("class")){Ce(o);var n=void 0;-1!==(n=this.maps.selectedElementId.indexOf(o.id))&&this.maps.selectedElementId.splice(n,1)}}}},e.prototype.removeShapeHighlightCollection=function(){if(this.shapeHighlightCollection.length>0)for(var e=0;e<this.shapeHighlightCollection.length;e++){for(var t=this.shapeHighlightCollection[e],i=!0,a=0;a<this.maps.legendSelectionCollection.length;a++)this.maps.legendSelectionCollection[a].legendElement===t.legendElement&&(i=!1);i&&this.setColor(t.legendElement,t.legendOldFill,t.legendOldOpacity,t.legendOldBorderColor,t.legendOldBorderWidth,"highlight")}},e.prototype.shapeHighLightAndSelection=function(e,i,a,o,n){if(void 0!==i){this.updateLegendElement(),this.shapeToggled=!0;var l=this.maps.legendModule.legendCollection,r=this.legendIndexOnShape(i,n),s=this.shapeDataOnLegend(e),d=this.maps.toggledLegendId.indexOf(r.actualIndex);if(this.maps.legendSettings.toggleLegendSettings.enable&&-1!==d){this.shapeToggled=!1,this.legendHighlightCollection=[];var p=this.getIndexofLegend(this.shapeHighlightCollection,s.LegendEle);return-1!==p&&this.shapeHighlightCollection.splice(p,1),this.removeShapeHighlightCollection(),null}if(void 0===r.currentIndex&&void 0===r.actualIndex)return this.removeShapeHighlightCollection(),null;if(void 0!==r.currentIndex||"selection"!==o||this.maps.layers[n].selectionSettings.enableMultiSelect||"ShapeselectionMapStyle"===e.getAttribute("class")||(this.maps.legendSelection=!1),"selection"!==o||this.maps.layers[n].selectionSettings.enableMultiSelect||this.maps.legendSelection||(this.removeAllSelections(),this.maps.legendSelection=!0),void 0===r.currentIndex){if("selection"===o&&void 0!==r.actualIndex){for(var h=0,c=0;c<s.Elements.length;c++)"ShapeselectionMapStyle"===s.Elements[c].getAttribute("class")&&h++;var m=this.maps.selectedLegendElementId.indexOf(r.actualIndex);-1===m?(this.maps.selectedLegendElementId.push(r.actualIndex),this.maps.legendSelectionClass=a):h<=1&&"ShapeselectionMapStyle"===e.getAttribute("class")&&(this.maps.layers[n].selectionSettings.enableMultiSelect?h<=1&&"ShapeselectionMapStyle"===e.getAttribute("class")&&this.maps.selectedLegendElementId.splice(m,1):this.maps.selectedLegendElementId.splice(m,1))}return this.removeShapeHighlightCollection(),null}var u=l[r.actualIndex].text,g=void 0,y=void 0;"Default"===this.maps.legendSettings.mode?void 0!==r.currentIndex&&(g=document.getElementById(this.maps.element.id+"_Legend_Text_Index_"+r.actualIndex).textContent,y=document.getElementById(this.maps.element.id+"_Legend_Shape_Index_"+r.actualIndex)):(g=document.getElementById(this.maps.element.id+"_Legend_Index_"+r.actualIndex+"_Text").textContent,y=document.getElementById(this.maps.element.id+"_Legend_Index_"+r.actualIndex)),this.oldShapeElement=s.LegendEle;var f=this.maps.legendSelectionCollection.length;if(u===g){var b=!0;if(this.maps.legendSelectionCollection)for(c=0;c<this.maps.legendSelectionCollection.length;c++)if(this.maps.legendSelectionCollection[c].legendElement===s.LegendEle){b=!1;break}if("highlight"===o&&b){(void 0===(v=this.isTargetSelected(s,this.shapeHighlightCollection))||v&&!v.IsSelected)&&this.pushCollection(y,this.shapeHighlightCollection,l[r.actualIndex],this.maps.layers[n].shapeSettings);for(x=0;x<this.shapeHighlightCollection.length;x++)s.LegendEle.id===this.shapeHighlightCollection[x].legendElement.id&&(this.shapeHighlightCollection[x].legendElement=s.LegendEle);if(f>0)for(x=0;x<f;x++){if(s.LegendEle===this.maps.legendSelectionCollection[x].legendElement){this.maps.legendSelectionCollection[x].legendElement=s.LegendEle,this.removeShapeHighlightCollection();break}x===f-1&&(this.removeShapeHighlightCollection(),this.setColor(y,t.isNullOrUndefined(a.fill)?y.getAttribute("fill"):a.fill,a.opacity.toString(),a.border.color,a.border.width.toString(),"highlight"))}else this.removeShapeHighlightCollection(),this.setColor(y,t.isNullOrUndefined(a.fill)?y.getAttribute("fill"):a.fill,a.opacity.toString(),a.border.color,a.border.width.toString(),"highlight")}else if("selection"===o){var v=this.isTargetSelected(s,this.maps.legendSelectionCollection);if(f>0)for(var x=0;x<this.maps.legendSelectionCollection.length;)if(s.LegendEle===this.maps.legendSelectionCollection[x].legendElement||a.enableMultiSelect)x++;else{var S=this.maps.legendSelectionCollection[x],O=this.maps.selectedLegendElementId.indexOf(r.actualIndex);this.maps.selectedLegendElementId.splice(O,1),this.maps.legendSelectionCollection.splice(x,1),Ce(S.legendElement),this.maps.shapeSelections=!0,x=0}if(v&&v.IsSelected&&"ShapeselectionMapStyle"===e.getAttribute("class")){var S=this.maps.legendSelectionCollection[v.SelectionIndex],_=0;if(a.enableMultiSelect)for(c=0;c<s.Elements.length;c++)e.getAttribute("class")===s.Elements[c].getAttribute("class")&&_++;_<=1&&(a.enableMultiSelect||this.maps.legendSelection)&&(this.maps.selectedLegendElementId.splice(this.maps.selectedLegendElementId.indexOf(r.actualIndex),1),t.isNullOrUndefined(s.LegendEle)||Ce(s.LegendEle),this.maps.legendSelectionCollection.splice(v.SelectionIndex,1),this.maps.shapeSelections=!0)}else{void 0!==v&&(!v||v.IsSelected)||t.isNullOrUndefined(y)||-1===(C=this.getIndexofLegend(this.maps.legendSelectionCollection,y))&&this.pushCollection(y,this.maps.legendSelectionCollection,l[r.actualIndex],this.maps.layers[n].shapeSettings);for(var M=!0,c=0;c<this.maps.selectedLegendElementId.length;c++)r.actualIndex===this.maps.selectedLegendElementId[c]&&(M=!1);if(M&&this.maps.selectedLegendElementId.push(r.actualIndex),this.maps.legendSelectionClass=a,this.removeLegend(this.shapeHighlightCollection),!t.isNullOrUndefined(y)){this.setColor(y,t.isNullOrUndefined(a.fill)?y.getAttribute("fill"):a.fill,a.opacity.toString(),a.border.color,a.border.width.toString(),"selection");var C=this.getIndexofLegend(this.maps.legendSelectionCollection,y);this.maps.legendSelectionCollection[C].MapShapeCollection.Elements.push(e)}this.maps.shapeSelections=!1}}else document.getElementsByClassName("highlightMapStyle").length>0&&(this.removeShapeHighlightCollection(),Ce(document.getElementsByClassName("highlightMapStyle")[0]))}}else this.removeShapeHighlightCollection()},e.prototype.isTargetSelected=function(e,i){for(var a,o=0;o<i.length;o++)t.isNullOrUndefined(e.LegendEle.getAttribute("id"))||e.LegendEle.getAttribute("id")!==i[o].legendElement.getAttribute("id")||(a={IsSelected:!0,SelectionIndex:o});return a},e.prototype.updateLegendElement=function(){for(var e=0;e<this.maps.legendSelectionCollection.length;e++)document.getElementById(this.maps.legendSelectionCollection[e].legendElement.id)&&(this.maps.legendSelectionCollection[e].legendElement=document.getElementById(this.maps.legendSelectionCollection[e].legendElement.id))},e.prototype.getIndexofLegend=function(e,t){return e.map(function(e){return e.legendElement}).indexOf(t)},e.prototype.removeAllSelections=function(){for(var e=0;e<this.maps.selectedElementId.length;e++)Ce(a=document.getElementById(this.maps.selectedElementId[e]));for(var i=0;i<this.maps.selectedLegendElementId.length;i++){var a=("Interactive"===this.maps.legendSettings.mode?"container_Legend_Index_":"container_Legend_Shape_Index_")+this.maps.selectedLegendElementId[i],o=document.getElementById(a);t.isNullOrUndefined(o)||Ce(document.getElementById(a))}this.maps.legendSelectionCollection=[],this.maps.selectedLegendElementId=[],this.maps.selectedElementId=[]},e.prototype.legendIndexOnShape=function(e,i){var a,o,n,l=e[this.maps.layers[i].shapeDataPath],r=this.maps.legendSettings.mode,s=this.maps.legendModule.legendCollection;"Default"!==r||t.isNullOrUndefined(this.maps.legendModule.totalPages)||(n=this.maps.legendModule.totalPages[this.maps.legendModule.currentPage].Collection);for(var d="Default"===r?n.length:1,p=0;p<s.length;p++){for(var h=s[p].data,c=0;c<d;c++)if("Default"!==r||s[p].text===n[c].DisplayText)for(m=0;m<h.length;m++)l===h[m].name&&(a=c);for(var m=0;m<h.length;m++)l===h[m].name&&(o=p)}return{currentIndex:a,actualIndex:o}},e.prototype.shapeDataOnLegend=function(e){for(var i,a,o,n=this.maps.legendModule.legendCollection,l=this.maps.legendSettings,r=0;r<n.length;r++){for(var s=n[r].data,d=!1,p=[],h={Elements:[]},c=0;c<s.length;c++){i=s[c].shapeIndex,a=s[c].layerIndex,o=s[c].dataIndex;var m=document.getElementById(this.maps.element.id+"_LayerIndex_"+a+"_shapeIndex_"+i+"_dataIndex_"+o);e===m&&(d=!0),p.push(m)}if(d)return t.isNullOrUndefined(h.LegendEle)&&(h.LegendEle="Default"===l.mode?document.getElementById(this.maps.element.id+"_Legend_Shape_Index_"+r):document.getElementById(this.maps.element.id+"_Legend_Index_"+r)),h.Elements=p,h}return null},e.prototype.shapesOfLegend=function(e){for(var i,a,o,n=parseFloat(e.id.charAt(e.id.length-1)),l=this.maps.legendModule.legendCollection[n].data,r=[],s=0;s<l.length;s++){i=l[s].shapeIndex,a=l[s].layerIndex,o=l[s].dataIndex;var d=document.getElementById(this.maps.element.id+"_LayerIndex_"+a+"_shapeIndex_"+i+"_dataIndex_"+o);t.isNullOrUndefined(d)||r.push(d.id)}return r},e.prototype.legendToggle=function(){var e=this.maps,i=e.legendSettings;if(this.maps.selectedLegendElementId)for(s=0;s<this.maps.selectedLegendElementId.length;s++){var a="Interactive"===i.mode?this.maps.element.id+"_Legend_Index_":this.maps.element.id+"_Legend_Shape_Index_",o=e.svgObject.querySelector("#"+a+this.maps.selectedLegendElementId[s]);if(!t.isNullOrUndefined(o)){var n=t.isNullOrUndefined(this.maps.legendSelectionClass.fill)?o.getAttribute("fill"):this.maps.legendSelectionClass.fill;this.setColor(o,n,this.maps.legendSelectionClass.opacity.toString(),this.maps.legendSelectionClass.border.color,this.maps.legendSelectionClass.border.width.toString(),"selection");for(var l=0;l<this.maps.legendSelectionCollection.length;l++)this.maps.legendSelectionCollection[l].legendElement.id===o.id&&(this.maps.legendSelectionCollection[l].legendElement=o);if(-1===this.getIndexofLegend(this.maps.legendSelectionCollection,o)){var r=this.maps.legendModule.legendCollection[this.maps.selectedLegendElementId[s]].data[s].layerIndex;this.pushCollection(o,this.maps.legendSelectionCollection,this.maps.legendModule.legendCollection[this.maps.selectedLegendElementId[s]],this.maps.layers[r].shapeSettings)}}}if(this.maps.toggledLegendId)for(var s=0;s<this.maps.toggledLegendId.length;s++){var d="Interactive"===i.mode?"#"+this.maps.element.id+"_Legend_Index_"+this.maps.toggledLegendId[s]+"_Text":"#"+this.maps.element.id+"_Legend_Text_Index_"+this.maps.toggledLegendId[s],p=e.svgObject.querySelector(d);t.isNullOrUndefined(p)||p.setAttribute("fill","#E5E5E5");var h="Interactive"===i.mode?"#"+this.maps.element.id+"_Legend_Index_"+this.maps.toggledLegendId[s]:"#"+this.maps.element.id+"_Legend_Shape_Index_"+this.maps.toggledLegendId[s],c=e.svgObject.querySelector(h);t.isNullOrUndefined(c)||c.setAttribute("fill","#E5E5E5")}},e.prototype.renderLegendBorder=function(){var e=this.maps,t=e.legendSettings,i=t.title.text,a=t.titleStyle,o=le(this.legendItemRect.width+20,i,a),n=x(o,a);this.legendBorderRect=new ht(this.legendItemRect.x-10,this.legendItemRect.y-10-n.height,this.legendItemRect.width+20,this.legendItemRect.height+20+n.height+("Interactive"===t.mode?0:0!==this.page?10:0));var l=new ot(e.element.id+"_Legend_Border",t.background,t.border,1,this.legendBorderRect,null,null,"","");this.legendGroup.appendChild(e.renderer.drawRectangle(l)),this.getLegendAlignment(e,this.legendBorderRect.width,this.legendBorderRect.height,t),this.legendGroup.setAttribute("transform","translate( "+(this.translate.x+-this.legendBorderRect.x)+" "+(this.translate.y+-this.legendBorderRect.y)+" )"),e.svgObject.appendChild(this.legendGroup),i&&(a.color=null!==a.color?a.color:this.maps.themeStyle.legendTextColor,S(new tt(e.element.id+"_LegendTitle",this.legendItemRect.x+this.legendItemRect.width/2,this.legendItemRect.y-n.height/2-5,"middle",o,""),a,a.color,this.legendGroup))},e.prototype.changeNextPage=function(e){this.currentPage=e.target.id.indexOf("_Left_Page_")>-1?this.currentPage-1:this.currentPage+1,this.legendGroup=this.maps.renderer.createGroup({id:this.maps.element.id+"_Legend_Group"}),this.drawLegendItem(this.currentPage),xe(this.maps.element.id+"_Legend_Border",this.maps.element.id)&&(xe(this.maps.element.id+"_Legend_Border",this.maps.element.id).style.pointerEvents="none")},e.prototype.getLegendAlignment=function(e,i,a,o){var n,l,r,s=(r=t.extend({},e.mapAreaRect,r,!0)).x,d=r.y,p=r.height,h=r.width,c=e.availableSize.width,m=e.availableSize.height;if("Float"===o.position)this.translate=o.location;else{switch(o.position){case"Top":case"Bottom":r.height=p-a,n=c/2-i/2,l="Top"===o.position?d:d+r.height,r.y="Top"===o.position?d+a+10:d;break;case"Left":case"Right":r.width=h-i,n="Left"===o.position?s:s+r.width-10,l=m/2-a/2,r.x="Left"===o.position?s+i:s}switch(o.alignment){case"Near":"Top"===o.position||"Bottom"===o.position?n=r.x:l=r.y;break;case"Far":"Top"===o.position||"Bottom"===o.position?n=c-i-10:l=m-a}(o.height||o.width)&&"Interactive"!==o.mode?e.mapAreaRect=e.totalRect=r:e.mapAreaRect=r,this.translate=new Qe(n,l)}},e.prototype.getMarkersLegendCollections=function(e,i){var a=this;Array.prototype.forEach.call(i,function(i,o){var n,l,r=i.dataSource,s=i.legendText;Array.prototype.forEach.call(r,function(r,d){var p=null,h=!!t.isNullOrUndefined(r[a.maps.legendSettings.showLegendPath])||r[a.maps.legendSettings.showLegendPath];if(i.visible&&h&&!t.isNullOrUndefined(r.latitude)&&!t.isNullOrUndefined(r.longitude)){if(i.template){var c=(n=ge(i.template))(a.maps);p=(t.isNullOrUndefined(c.childElementCount)?c[0]:c).querySelector("img").src}var m=t.isNullOrUndefined(r[s])?"":r[s];(l=!!a.maps.legendSettings.removeDuplicateLegend&&a.removeDuplicates(a.legendCollection,m))||a.legendCollection.push({layerIndex:e,markerIndex:o,dataIndex:d,fill:i.fill,text:m,imageSrc:p})}})})},e.prototype.getRangeLegendCollection=function(e,i,a,o,n,l,r){for(var s,d=this,p=0,h=this.maps.legendSettings.fill,c=[],m=this,u=0,g=a;u<g.length;u++)!function(a){if(!t.isNullOrUndefined(a.from)&&!t.isNullOrUndefined(a.to)){s=t.isNullOrUndefined(a.label)?a.from+" - "+a.to:a.label,c=[];var u=!1;Array.prototype.forEach.call(o,function(t,o){var s=l.indexOf(".")>-1?Number(P(t,l)):parseFloat(t[l]);s>=a.from&&s<=a.to&&(u=!0,c.push(d.getLegendData(e,o,t,n,i,r,s)))}),u||c.push({layerIndex:e,shapeIndex:null,dataIndex:null,name:null,value:null});var g=t.isNullOrUndefined(h)?"[object Array]"===Object.prototype.toString.call(a.color)?t.isNullOrUndefined(a.value)?m.legendGradientColor(a,p):a.color[0]:a.color:h;p++,m.getOverallLegendItemsCollection(s,g,c,a.showLegend)}}(g[u])},e.prototype.getOverallLegendItemsCollection=function(e,t,i,a){var o=[],n=this.maps.legendSettings;if(i.length>0&&a){for(var l=0;l<i.length;l++){var r=i[l];if(r.length>0)for(var s=0;s<r.length;s++)o.push(r[s]);else o.push(i[l]);o._isVisible=!0}!!this.maps.legendSettings.removeDuplicateLegend&&this.removeDuplicates(this.legendCollection,e)||this.legendCollection.push({text:e,fill:t,data:o,opacity:n.opacity,borderColor:n.shapeBorder.color,borderWidth:n.shapeBorder.width})}},e.prototype.removeDuplicates=function(e,t){for(var i=!1,a=0;a<e.length;a++)if(e[a].text===t){i=!0;break}return i},e.prototype.getEqualLegendCollection=function(e,i,a,o,n,l,r){for(var s,d=this,p=this.maps.legendSettings.fill,h=[],c=[],m=[],u=[],g=this,y=0,f=a;y<f.length;y++)!function(y){if(t.isNullOrUndefined(y.value)){if(t.isNullOrUndefined(y.minOpacity)&&t.isNullOrUndefined(y.maxOpacity)&&t.isNullOrUndefined(y.value)&&t.isNullOrUndefined(y.from)&&t.isNullOrUndefined(y.to)&&!t.isNullOrUndefined(y.color)){if(Array.prototype.forEach.call(o,function(t,a){for(var o=l.indexOf(".")>-1?P(t,l):t[l],s=0;s<m.length;s++)o===m[s]&&u.push(d.getLegendData(e,a,t,n,i,r,o))}),0===m.length){var f=!1;Array.prototype.forEach.call(o,function(o,s){f=!1;for(var p=o[l],h=0;h<a.length;h++)t.isNullOrUndefined(p)||isNaN(p)?f||(f=!1):p>=a[h].from&&p<=a[h].to&&(f=!0);f||u.push(d.getLegendData(e,s,o,n,i,r,p))})}s=t.isNullOrUndefined(y.label)?"Others":y.label;var b="[object Array]"===Object.prototype.toString.call(y.color)?y.color[0]:y.color;g.getOverallLegendItemsCollection(s,b,u,y.showLegend)}}else{s=t.isNullOrUndefined(y.label)?y.value:y.label,c=[];var v=!1;Array.prototype.forEach.call(o,function(t,a){var o=l.indexOf(".")>-1?P(t,l):t[l];o===y.value?(v=!0,-1===h.indexOf(o)&&h.push(o),c.push(d.getLegendData(e,a,t,n,i,r,o))):-1===m.indexOf(o)&&m.push(o)});for(var x=0;x<h.length;x++)for(var S=0;S<m.length;S++)if(h[x]===m[S]){var O=m.indexOf(h[x]);m.splice(O,1)}v||c.push({layerIndex:e,shapeIndex:null,dataIndex:null,name:null,value:null});var _=t.isNullOrUndefined(p)?"[object Array]"===Object.prototype.toString.call(y.color)?y.color[0]:y.color:p;g.getOverallLegendItemsCollection(s,_,c,y.showLegend)}}(f[y])},e.prototype.getDataLegendCollection=function(e,i,a,o,n,l,r){var s,d=this,p=this.maps.legendSettings.fill,h=this.maps.legendSettings.valuePath;t.isNullOrUndefined(l)||t.isNullOrUndefined(o)||Array.prototype.forEach.call(o,function(o,c){var m=!!t.isNullOrUndefined(d.maps.legendSettings.showLegendPath)||!t.isNullOrUndefined(o[d.maps.legendSettings.showLegendPath])&&o[d.maps.legendSettings.showLegendPath],u=l.indexOf(".")>-1?P(o,l):o[l],g=[],y=t.isNullOrUndefined(p)?u:p;t.isNullOrUndefined(u)||0!==a.length||(s=t.isNullOrUndefined(o[h])?n.indexOf(".")>-1?P(o,n):o[n]:h.indexOf(".")>-1?P(o,h):o[h],g.push(d.getLegendData(e,c,o,n,i,r,u))),d.getOverallLegendItemsCollection(s,y,g,m)})},e.prototype.interactiveHandler=function(e){var i=e.target,a=this.maps.legendSettings,o=this.maps.element.id+"_Interactive_Legend",n="Layers"===a.type?"_shapeIndex_":"Markers"===a.type?"_MarkerIndex_":"_BubbleIndex_";if(i.id.indexOf(n)>1){var l=parseFloat(i.id.split("_LayerIndex_")[1].split("_")[0]),r=parseFloat(i.id.split(/_dataIndex_/i)[1].split("_")[0]),s=void 0,d=void 0,p=void 0;t.isNullOrUndefined(xe(o,this.maps.element.id))||t.remove(xe(o,this.maps.element.id));var h=this.maps.layersCollection[l],c="Layers"===a.type?h.visible:"Markers"===a.type?h.markerSettings[parseFloat(i.id.split("_MarkerIndex_")[1].split("_")[0])].visible:this.maps.getBubbleVisible(this.maps.layersCollection[l]);if(a.visible&&this.legendRenderingCollections.length>0&&"Interactive"===a.mode&&c)for(var m=this.maps.svgObject.getBoundingClientRect(),u=0;u<this.legendCollection.length;u++){var g=this.legendCollection[u],y=xe(this.maps.element.id+"_Legend_Index_"+u,this.maps.element.id),f=y.getBoundingClientRect(),b=new ht(Math.abs(f.left-m.left),Math.abs(f.top-m.top),f.width,f.height);if(s=y.getAttribute("fill"),d=a.shapeBorder.color,p=a.shapeBorder.width,!t.isNullOrUndefined(g.data))for(var v=g.data,x=0;x<v.length;x++)if(r===v[x].dataIndex&&l===v[x].layerIndex){this.renderInteractivePointer(a,s,d,o,p,b);break}}}else t.isNullOrUndefined(xe(o,this.maps.element.id))||t.remove(xe(o,this.maps.element.id))},e.prototype.renderInteractivePointer=function(e,t,i,a,o,n){var l,r,s,d;l="Horizontal"===("None"===e.orientation?"Top"===e.position||"Bottom"===e.position?"Horizontal":"Vertical":e.orientation)?e.invertedPointer?" M "+(s=n.x+n.width/2)+" "+(d=n.y+n.height)+" L "+(s-10)+" "+(d+10)+" L "+(s+10)+" "+(d+10)+" Z ":" M "+(s=n.x+n.width/2)+" "+(d=n.y)+" L "+(s-10)+" "+(d-10)+" L "+(s+10)+" "+(d-10)+" Z ":e.invertedPointer?" M "+(s=n.x)+" "+(d=n.y+n.height/2)+" L "+(s-10)+" "+(d-10)+" L "+(s-10)+" "+(d+10)+" z ":" M "+(s=n.x+n.width)+" "+(d=n.y+n.height/2)+" L "+(s+10)+" "+(d-10)+" L "+(s+10)+" "+(d+10)+" z ",r=new it(a,t,o,i,1,"",l),this.maps.svgObject.appendChild(this.maps.renderer.drawPath(r))},e.prototype.wireEvents=function(e){t.EventHandler.add(e,t.Browser.touchStartEvent,this.changeNextPage,this)},e.prototype.addEventListener=function(){this.maps.isDestroyed||(this.maps.on(t.Browser.touchMoveEvent,this.interactiveHandler,this),this.maps.on(t.Browser.touchEndEvent,this.interactiveHandler,this),this.maps.on("click",this.legendClick,this))},e.prototype.legendClick=function(e){var i=this.maps.legendSettings.toggleLegendSettings.fill,a=this.maps.legendSettings.toggleLegendSettings.opacity,o=this.maps.legendSettings.toggleLegendSettings.border.color,n=this.maps.legendSettings.toggleLegendSettings.border.width;if(e.parentNode.id.indexOf(this.maps.element.id+"_Legend_Index_")>-1){var l=void 0,r=parseFloat(e.parentElement.id.substr((this.maps.element.id+"_Legend_Index_").length)),s=(u=this.legendCollection[r].data)._isVisible,d=void 0;if(this.maps.legendSettings.toggleLegendSettings.enable&&"Bubbles"===this.maps.legendSettings.type)for(b=0;b<this.maps.layers.length;b++)for(g=0;g<this.maps.layers[b].bubbleSettings.length;g++){for(v=0;v<u.length;v++)d=this.legendCollection[r].data[v],l=xe(this.maps.element.id+"_LayerIndex_"+d.layerIndex+"_BubbleIndex_"+g+"_dataIndex_"+d.dataIndex,this.maps.element.id),s&&null!==l?(this.maps.legendSettings.toggleLegendSettings.applyShapeSettings?(l.setAttribute("fill",this.maps.layers[b].shapeSettings.fill),l.setAttribute("stroke",this.maps.layers[b].shapeSettings.border.color),l.setAttribute("opacity",this.maps.layers[b].shapeSettings.opacity.toString()),l.setAttribute("stroke-width",this.maps.layers[b].shapeSettings.border.width.toString())):(l.setAttribute("fill",i),l.setAttribute("opacity",a.toString()),l.setAttribute("stroke",o),l.setAttribute("stroke-width",n.toString())),null!==e&&(xe(this.maps.element.id+"_Legend_Shape_Index_"+r,this.maps.element.id).setAttribute("fill","#E5E5E5"),xe(this.maps.element.id+"_Legend_Text_Index_"+r,this.maps.element.id).setAttribute("fill","#E5E5E5"))):(l.setAttribute("fill",this.legendCollection[r].fill),l.setAttribute("stroke",this.maps.layers[b].bubbleSettings[g].border.color),l.setAttribute("opacity",this.maps.layers[b].bubbleSettings[g].opacity.toString()),l.setAttribute("stroke-width",this.maps.layers[b].bubbleSettings[g].border.width.toString()),null!==e&&(xe(this.maps.element.id+"_Legend_Shape_Index_"+r,this.maps.element.id).setAttribute("fill",this.legendCollection[r].fill),xe(this.maps.element.id+"_Legend_Text_Index_"+r,this.maps.element.id).setAttribute("fill","#757575")));u._isVisible=!s}if("Layers"===this.maps.legendSettings.type&&this.maps.legendSettings.toggleLegendSettings.enable){var p=void 0;this.removeCollections(e,r);var h=this.maps.toggledLegendId.indexOf(r);-1!==h&&(s=!1);for(g=0;g<this.maps.layers.length;g++)for(v=0;v<u.length;v++)if(d=this.legendCollection[r].data[v],null!==(p=xe(this.maps.element.id+"_LayerIndex_"+d.layerIndex+"_shapeIndex_"+d.shapeIndex+"_dataIndex_"+d.dataIndex,this.maps.element.id))){x=this.maps.toggledShapeElementId.indexOf(p.id);s?(0===v&&this.maps.toggledLegendId.push(r),-1===x&&this.maps.toggledShapeElementId.push(p.id),this.maps.legendSettings.toggleLegendSettings.applyShapeSettings?(p.setAttribute("fill",this.maps.layers[g].shapeSettings.fill),p.setAttribute("opacity",this.maps.layers[g].shapeSettings.opacity.toString()),p.setAttribute("stroke",this.maps.layers[g].shapeSettings.border.color),p.setAttribute("stroke-width",this.maps.layers[g].shapeSettings.border.width.toString())):(p.setAttribute("fill",i),p.setAttribute("opacity",a.toString()),p.setAttribute("stroke",o),p.setAttribute("stroke-width",n.toString())),null!==e&&(xe(this.maps.element.id+"_Legend_Text_Index_"+r,this.maps.element.id).setAttribute("fill","#E5E5E5"),xe(this.maps.element.id+"_Legend_Shape_Index_"+r,this.maps.element.id).setAttribute("fill","#E5E5E5"))):(-1!==h&&0===v&&this.maps.toggledLegendId.splice(h,1),-1!==x&&this.maps.toggledShapeElementId.splice(x,1),p.setAttribute("fill",this.legendCollection[r].fill),p.setAttribute("opacity",this.maps.layers[g].shapeSettings.opacity.toString()),p.setAttribute("stroke",this.maps.layers[g].shapeSettings.border.color),p.setAttribute("stroke-width",this.maps.layers[g].shapeSettings.border.width.toString()),null!==e&&(xe(this.maps.element.id+"_Legend_Text_Index_"+r,this.maps.element.id).setAttribute("fill","#757575"),xe(this.maps.element.id+"_Legend_Shape_Index_"+r,this.maps.element.id).setAttribute("fill",this.legendCollection[r].fill)))}u._isVisible=!s}}else if(!t.isNullOrUndefined(e.id)&&(e.id.indexOf(this.maps.element.id+"_Legend_Shape_Index")>-1||-1!==e.id.indexOf(this.maps.element.id+"_Legend_Index"))&&this.maps.legendSettings.visible&&-1===e.id.indexOf("_Text")){var c=void 0,r=parseFloat(e.id.substr((this.maps.element.id+"_Legend_Index_").length)),m=void 0,u=this.legendCollection[r].data,s=u._isVisible;if("Bubbles"===this.maps.legendSettings.type&&this.maps.legendSettings.toggleLegendSettings.enable)for(b=0;b<this.maps.layers.length;b++)for(var g=0;g<this.maps.layers[b].bubbleSettings.length;g++){for(v=0;v<u.length;v++)m=this.legendCollection[r].data[v],c=xe(this.maps.element.id+"_LayerIndex_"+m.layerIndex+"_BubbleIndex_"+g+"_dataIndex_"+m.dataIndex,this.maps.element.id),s&&null!==c?(this.maps.legendSettings.toggleLegendSettings.applyShapeSettings?(c.setAttribute("fill",this.maps.layers[b].shapeSettings.fill),c.setAttribute("stroke",this.maps.layers[b].shapeSettings.border.color),c.setAttribute("stroke-width",this.maps.layers[b].shapeSettings.border.width.toString()),c.setAttribute("opacity",this.maps.layers[b].shapeSettings.opacity.toString())):(c.setAttribute("fill",i),c.setAttribute("opacity",a.toString()),c.setAttribute("stroke",o),c.setAttribute("stroke-width",n.toString())),null!==e&&(xe(this.maps.element.id+"_Legend_Index_"+r+"_Text",this.maps.element.id).setAttribute("fill","#E5E5E5"),xe(this.maps.element.id+"_Legend_Index_"+r,this.maps.element.id).setAttribute("fill","#E5E5E5"))):(c.setAttribute("fill",this.legendCollection[r].fill),c.setAttribute("stroke",this.maps.layers[b].bubbleSettings[g].border.color),c.setAttribute("stroke-width",this.maps.layers[b].bubbleSettings[g].border.width.toString()),c.setAttribute("opacity",this.maps.layers[b].bubbleSettings[g].opacity.toString()),null!==e&&(xe(this.maps.element.id+"_Legend_Index_"+r,this.maps.element.id).setAttribute("fill",this.legendCollection[r].fill),xe(this.maps.element.id+"_Legend_Index_"+r+"_Text",this.maps.element.id).setAttribute("fill","#757575")));u._isVisible=!s}if("Layers"===this.maps.legendSettings.type&&this.maps.legendSettings.toggleLegendSettings.enable){var y=void 0;this.removeCollections(e,r);var f=this.maps.toggledLegendId.indexOf(r);-1!==f&&(s=!1);for(var b=0;b<this.maps.layers.length;b++)for(var v=0;v<u.length;v++)if(m=this.legendCollection[r].data[v],null!==(y=xe(this.maps.element.id+"_LayerIndex_"+m.layerIndex+"_shapeIndex_"+m.shapeIndex+"_dataIndex_"+m.dataIndex,this.maps.element.id))){var x=this.maps.toggledShapeElementId.indexOf(y.id);s?(0===v&&this.maps.toggledLegendId.push(r),-1===x&&this.maps.toggledShapeElementId.push(y.id),this.maps.legendSettings.toggleLegendSettings.applyShapeSettings?(y.setAttribute("fill",this.maps.layers[0].shapeSettings.fill),y.setAttribute("stroke",this.maps.layers[0].shapeSettings.border.color),y.setAttribute("opacity",this.maps.layers[b].shapeSettings.opacity.toString()),y.setAttribute("stroke-width",this.maps.layers[b].shapeSettings.border.width.toString())):(y.setAttribute("fill",i),y.setAttribute("opacity",a.toString()),y.setAttribute("stroke",o),y.setAttribute("stroke-width",n.toString())),null!==e&&(xe(this.maps.element.id+"_Legend_Index_"+r,this.maps.element.id).setAttribute("fill","#E5E5E5"),xe(this.maps.element.id+"_Legend_Index_"+r+"_Text",this.maps.element.id).setAttribute("fill","#E5E5E5"))):(-1!==f&&0===v&&this.maps.toggledLegendId.splice(f,1),-1!==x&&this.maps.toggledShapeElementId.splice(x,1),y.setAttribute("fill",this.legendCollection[r].fill),y.setAttribute("stroke",this.maps.layers[0].shapeSettings.border.color),y.setAttribute("opacity",this.maps.layers[b].shapeSettings.opacity.toString()),y.setAttribute("stroke-width",this.maps.layers[b].shapeSettings.border.width.toString()),null!==e&&(xe(this.maps.element.id+"_Legend_Index_"+r+"_Text",this.maps.element.id).setAttribute("fill","#757575"),xe(this.maps.element.id+"_Legend_Index_"+r,this.maps.element.id).setAttribute("fill",this.legendCollection[r].fill)))}u._isVisible=!s}}},e.prototype.removeCollections=function(e,t){this.removeLegendSelectionCollection(e);var i=this.getIndexofLegend(this.maps.legendSelectionCollection,e);-1!==i&&this.maps.legendSelectionCollection.splice(i,1),-1!==this.getIndexofLegend(this.legendHighlightCollection,e)&&this.legendHighlightCollection.splice(i,1);var a=this.getIndexofLegend(this.shapeHighlightCollection,e);-1!==a&&this.shapeHighlightCollection.splice(a,1);var o=this.maps.selectedLegendElementId.indexOf(t);-1!==o&&this.maps.selectedLegendElementId.splice(o,1)},e.prototype.removeEventListener=function(){this.maps.isDestroyed||(this.maps.off(t.Browser.touchMoveEvent,this.interactiveHandler),this.maps.off(t.Browser.touchEndEvent,this.interactiveHandler),this.maps.off("click",this.legendClick))},e.prototype.getLegendData=function(e,i,a,o,n,l,r){var s=[];if("[object Array]"===Object.prototype.toString.call(n))for(var d=0;d<n.length;d++){var p=n[d],h=o.indexOf(".")>-1?P(a,o):a[o],c=te(a[o],l,p.properties),m=t.isNullOrUndefined(h)?h:h.toLowerCase();(!t.isNullOrUndefined(p.properties[c])&&isNaN(p.properties[c])?p.properties[c].toLowerCase():p.properties[c])===m&&s.push({layerIndex:e,shapeIndex:d,dataIndex:i,name:a[o],value:r})}return s},e.prototype.legendGradientColor=function(e,i){var a,o="http://www.w3.org/2000/svg";if(!t.isNullOrUndefined(e.color)&&"object"==typeof e.color){var n=document.createElementNS(o,"linearGradient"),l=this.maps.legendSettings.position,r=void 0,s=void 0;r="Top"===l||"Bottom"===l?"100":"0",s="Top"===l||"Bottom"===l?"0":"100",n.setAttribute("id","linear_"+i+"_"+this.maps.element.id),n.setAttribute("x1","0%"),n.setAttribute("y1","0%"),n.setAttribute("x2",r+"%"),n.setAttribute("y2",s+"%");for(var d=0;d<e.color.length;d++){var p=100/(e.color.length-1),h=document.createElementNS(o,"stop");h.setAttribute("offset",d*p+"%"),h.setAttribute("stop-color",e.color[d]),h.setAttribute("stop-opacity",1..toString()),n.appendChild(h)}this.legendLinearGradient=n;var c="url(#linear_"+i+"_"+this.maps.element.id+")";this.defsElement.appendChild(n),a=c}return a},e.prototype.getModuleName=function(){return"Legend"},e.prototype.destroy=function(e){this.removeEventListener()},e}(),xi=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(i[a[o]]=e[a[o]]);return i},Si=function(){function e(e){this.maps=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.maps.isDestroyed||(this.maps.on(t.Browser.touchMoveEvent,this.mouseMove,this),this.maps.on(t.Browser.touchStartEvent,this.mouseMove,this))},e.prototype.removeEventListener=function(){this.maps.isDestroyed||(this.maps.off(t.Browser.touchMoveEvent,this.mouseMove),this.maps.off(t.Browser.touchStartEvent,this.mouseMove))},e.prototype.addHighlight=function(e,t,i){var a=Se(e,t,i,this.maps);i?this.mapHighlight(a,null,null):Ce(a)},e.prototype.mouseMove=function(e){var i,a=e.target,o="touch"===e.pointerType||"2"===e.pointerType||e.type.indexOf("touch")>-1;if((-1!==a.id.indexOf("LayerIndex")||a.id.indexOf("NavigationIndex")>-1)&&"ShapeselectionMapStyle"!==a.getAttribute("class")&&!o&&"MarkerselectionMapStyle"!==a.getAttribute("class")&&"BubbleselectionMapStyle"!==a.getAttribute("class")&&"navigationlineselectionMapStyle"!==a.getAttribute("class")){i=parseInt(a.id.split("_LayerIndex_")[1].split("_")[0],10);var n=void 0,l=void 0,r=void 0,s=void 0;if(a.id.indexOf("shapeIndex")>-1)r=parseInt(a.id.split("_shapeIndex_")[1].split("_")[0],10),n=this.maps.layers[i].shapeData.features?this.maps.layers[i].shapeData.features[r].properties:null,s=parseInt(a.id.split("_dataIndex_")[1].split("_")[0],10),l=t.isNullOrUndefined(s)?null:this.maps.layers[i].dataSource[s],this.highlightSettings=this.maps.layers[i].highlightSettings;else if(a.id.indexOf("BubbleIndex")>-1){var d=parseInt(a.id.split("_BubbleIndex_")[1].split("_")[0],10);s=parseInt(a.id.split("_dataIndex_")[1].split("_")[0],10),l=this.maps.layers[i].bubbleSettings[d].dataSource[s],this.highlightSettings=this.maps.layers[i].bubbleSettings[d].highlightSettings}else if(a.id.indexOf("MarkerIndex")>-1){var p=parseInt(a.id.split("_MarkerIndex_")[1].split("_")[0],10);s=parseInt(a.id.split("_dataIndex_")[1].split("_")[0],10),l=this.maps.layers[i].markerSettings[p].dataSource[s],this.highlightSettings=this.maps.layers[i].markerSettings[p].highlightSettings}else{c=parseInt(a.id.split("_NavigationIndex_")[1].split("_")[0],10);i=parseInt(a.id.split("_LayerIndex_")[1].split("_")[0],10),n=null,l={latitude:this.maps.layers[i].navigationLineSettings[c].latitude,longitude:this.maps.layers[i].navigationLineSettings[c].longitude},this.highlightSettings=this.maps.layers[i].navigationLineSettings[c].highlightSettings}if(this.highlightSettings.enable)this.maps.legendSettings.visible&&-1===a.id.indexOf("_MarkerIndex_")&&this.maps.legendModule.shapeHighLightAndSelection(a,l,this.highlightSettings,"highlight",i),(!(a.id.indexOf("shapeIndex")>-1&&this.maps.legendSettings.visible)||this.maps.legendModule.shapeToggled)&&this.mapHighlight(a,n,l);else{var h=document.getElementsByClassName("highlightMapStyle")[0];if(!t.isNullOrUndefined(h)&&(Ce(h),h.id.indexOf("NavigationIndex")>-1)){var c=parseInt(h.id.split("_NavigationIndex_")[1].split("_")[0],10),m=parseInt(h.parentElement.id.split("_LayerIndex_")[1].split("_")[0],10);h.setAttribute("stroke-width",this.maps.layers[m].navigationLineSettings[c].width.toString()),h.setAttribute("stroke",this.maps.layers[m].navigationLineSettings[c].color)}}}else if(ve("highlightMapStyle").length>0){if((a=ve("highlightMapStyle")[0]).id.indexOf("NavigationIndex")>-1){c=parseInt(a.id.split("_NavigationIndex_")[1].split("_")[0],10);i=parseInt(a.parentElement.id.split("_LayerIndex_")[1].split("_")[0],10),a.setAttribute("stroke-width",this.maps.layers[i].navigationLineSettings[c].width.toString()),a.setAttribute("stroke",this.maps.layers[i].navigationLineSettings[c].color)}Ce(a),this.maps.legendSettings.visible&&this.maps.legendModule.removeShapeHighlightCollection()}else-1===a.id.indexOf(this.maps.element.id+"_Legend_Shape_Index")&&-1===a.id.indexOf(this.maps.element.id+"_Legend_Index")||!this.maps.legendSettings.visible||-1!==a.id.indexOf("_Text")?this.maps.legendSettings.visible&&this.maps.legendModule.removeLegendHighlightCollection():this.maps.legendModule.legendHighLightAndSelection(a,"highlight")},e.prototype.mapHighlight=function(e,i,a){var o=this,n=parseInt(e.id.split("_LayerIndex_")[1].split("_")[0],10),l=!1;if(e.id.indexOf("MarkerIndex")>-1){var r=parseInt(e.id.split("_MarkerIndex_")[1].split("_")[0],10);l=this.maps.layers[n].markerSettings[r].highlightSettings.enable}var s={color:this.highlightSettings.border.color,width:this.highlightSettings.border.width/(l?1:this.maps.scale)},d={opacity:this.highlightSettings.opacity,fill:-1===e.id.indexOf("NavigationIndex")?t.isNullOrUndefined(this.highlightSettings.fill)?e.getAttribute("fill"):this.highlightSettings.fill:"none",border:s,name:"itemHighlight",target:e.id,cancel:!1,shapeData:i,data:a,maps:this.maps};if(this.maps.isBlazor){d.shapeData,d.maps;var p=xi(d,["shapeData","maps"]);d=p}this.maps.trigger("itemHighlight",d,function(){o.highlightMap(e,d)})},e.prototype.highlightMap=function(e,t){if("highlightMapStyle"!==e.getAttribute("class")){if(ve("highlightMapStyle").length>0){var i=ve("highlightMapStyle")[0];if(Ce(i),i.id.indexOf("NavigationIndex")>-1){var a=parseInt(i.id.split("_NavigationIndex_")[1].split("_")[0],10),o=parseInt(i.parentElement.id.split("_LayerIndex_")[1].split("_")[0],10);i.setAttribute("stroke-width",this.maps.layers[o].navigationLineSettings[a].width.toString()),i.setAttribute("stroke",this.maps.layers[o].navigationLineSettings[a].color)}}ye("highlightMap")?_e("highlightMap","highlightMapStyle",t):document.body.appendChild(Oe("highlightMap","highlightMapStyle",t)),e.setAttribute("class","highlightMapStyle")}},e.prototype.getModuleName=function(){return"Highlight"},e.prototype.destroy=function(e){this.removeEventListener()},e}(),Oi=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(i[a[o]]=e[a[o]]);return i},_i=function(){function e(e){this.maps=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.maps.isDestroyed||(this.maps.on("click",this.mouseClick,this),this.maps.on(t.Browser.touchEndEvent,this.mouseClick,this))},e.prototype.removeEventListener=function(){this.maps.isDestroyed||(this.maps.off("click",this.mouseClick),this.maps.off(t.Browser.touchEndEvent,this.mouseClick))},e.prototype.mouseClick=function(e){if(!t.isNullOrUndefined(e.type)&&-1!==e.type.indexOf("touch")&&t.isNullOrUndefined(e.id)&&(e=e.target),!t.isNullOrUndefined(e.id)&&(e.id.indexOf("LayerIndex")>-1||e.id.indexOf("NavigationIndex")>-1)){var i=void 0,a=void 0,o=void 0,n=void 0,l=void 0;if(i=parseInt(e.id.split("_LayerIndex_")[1].split("_")[0],10),e.id.indexOf("shapeIndex")>-1)n=parseInt(e.id.split("_shapeIndex_")[1].split("_")[0],10),a=this.maps.layers[i].shapeData.features.length>n?this.maps.layers[i].shapeData.features[n].properties:null,l=parseInt(e.id.split("_dataIndex_")[1].split("_")[0],10),o=t.isNullOrUndefined(l)?null:this.maps.layers[i].dataSource[l],this.selectionsettings=this.maps.layers[i].selectionSettings,this.selectionType="Shape";else if(e.id.indexOf("BubbleIndex")>-1){var r=parseInt(e.id.split("_BubbleIndex_")[1].split("_")[0],10);l=parseInt(e.id.split("_dataIndex_")[1].split("_")[0],10),o=this.maps.layers[i].bubbleSettings[r].dataSource[l],this.selectionsettings=this.maps.layers[i].bubbleSettings[r].selectionSettings,this.selectionType="Bubble"}else if(e.id.indexOf("MarkerIndex")>-1){var s=parseInt(e.id.split("_MarkerIndex_")[1].split("_")[0],10);l=parseInt(e.id.split("_dataIndex_")[1].split("_")[0],10),o=this.maps.layers[i].markerSettings[s].dataSource[l],this.selectionsettings=this.maps.layers[i].markerSettings[s].selectionSettings,this.selectionType="Marker"}else{var d=parseInt(e.id.split("_NavigationIndex_")[1].split("_")[0],10);a=null,o={latitude:this.maps.layers[i].navigationLineSettings[d].latitude,longitude:this.maps.layers[i].navigationLineSettings[d].longitude},this.selectionsettings=this.maps.layers[i].navigationLineSettings[d].selectionSettings,this.selectionType="navigationline"}this.selectionsettings.enable&&(this.maps.mapSelect=!!e,this.maps.legendSettings.visible&&-1===e.id.indexOf("_MarkerIndex_")&&this.maps.legendModule.shapeHighLightAndSelection(e,o,this.selectionsettings,"selection",i),(!(e.id.indexOf("shapeIndex")>-1&&this.maps.legendSettings.visible)||this.maps.legendModule.shapeToggled)&&this.selectMap(e,a,o))}else this.maps.legendSettings.visible&&!this.maps.legendSettings.toggleLegendSettings.enable&&!t.isNullOrUndefined(e.id)&&-1===e.id.indexOf("_Text")&&(e.id.indexOf(this.maps.element.id+"_Legend_Shape_Index")>-1||-1!==e.id.indexOf(this.maps.element.id+"_Legend_Index"))&&this.maps.legendModule.legendHighLightAndSelection(e,"selection")},e.prototype.addSelection=function(e,t,i){var a=Se(e,t,i,this.maps);i?this.selectMap(a,null,null):Ce(a)},e.prototype.selectMap=function(e,t,i){var a=this,o=(this.selectionsettings,{color:this.selectionsettings.border.color,width:this.selectionsettings.border.width/("Marker"===this.selectionType?1:this.maps.scale)}),n={opacity:this.selectionsettings.opacity,fill:"navigationline"!==this.selectionType?this.selectionsettings.fill:"none",border:o,name:oi,target:e.id,cancel:!1,shapeData:t,data:i,maps:this.maps};if(this.maps.isBlazor){n.shapeData,n.maps;var l=Oi(n,["shapeData","maps"]);n=l}this.maps.trigger("itemSelection",n,function(t){if(!n.cancel)if(e.getAttribute("class")===a.selectionType+"selectionMapStyle"){if(Ce(e),a.removedSelectionList(e),e.id.indexOf("NavigationIndex")>-1){var i=parseInt(e.id.split("_NavigationIndex_")[1].split("_")[0],10),o=parseInt(e.parentElement.id.split("_LayerIndex_")[1].split("_")[0],10);e.setAttribute("stroke-width",a.maps.layers[o].navigationLineSettings[i].width.toString()),e.setAttribute("stroke",a.maps.layers[o].navigationLineSettings[i].color)}}else{var l=me(a.maps.element.id+"_Layer_Collections");if(!a.selectionsettings.enableMultiSelect&&l.getElementsByClassName(a.selectionType+"selectionMapStyle").length>0){var r=l.getElementsByClassName(a.selectionType+"selectionMapStyle")[0];if(Ce(r),a.removedSelectionList(r),"Shape"===a.selectionType)for(var s=a.maps.selectedElementId.length,d=0;d<s;d++){Ce(r=l.getElementsByClassName(a.selectionType+"selectionMapStyle")[0]);var p=a.maps.selectedElementId.indexOf(r.getAttribute("id"));a.maps.selectedElementId.splice(p,1)}if(r.id.indexOf("NavigationIndex")>-1){var i=parseInt(e.id.split("_NavigationIndex_")[1].split("_")[0],10),o=parseInt(e.parentElement.id.split("_LayerIndex_")[1].split("_")[0],10);r.setAttribute("stroke-width",a.maps.layers[o].navigationLineSettings[i].width.toString()),r.setAttribute("stroke",a.maps.layers[o].navigationLineSettings[i].color)}}ye(a.selectionType+"selectionMap")?_e(a.selectionType+"selectionMap",a.selectionType+"selectionMapStyle",n):document.body.appendChild(Oe(a.selectionType+"selectionMap",a.selectionType+"selectionMapStyle",n)),e.setAttribute("class",a.selectionType+"selectionMapStyle"),"ShapeselectionMapStyle"===e.getAttribute("class")&&(a.maps.shapeSelectionClass=ye(a.selectionType+"selectionMap"),a.maps.selectedElementId.push(e.getAttribute("id"))),"MarkerselectionMapStyle"===e.getAttribute("class")&&(a.maps.markerSelectionClass=ye(a.selectionType+"selectionMap"),a.maps.selectedMarkerElementId.push(e.getAttribute("id"))),"BubbleselectionMapStyle"===e.getAttribute("class")&&(a.maps.bubbleSelectionClass=ye(a.selectionType+"selectionMap"),a.maps.selectedBubbleElementId.push(e.getAttribute("id"))),"navigationlineselectionMapStyle"===e.getAttribute("class")&&(a.maps.navigationSelectionClass=ye(a.selectionType+"selectionMap"),a.maps.selectedNavigationElementId.push(e.getAttribute("id")))}})},e.prototype.removedSelectionList=function(e){"Shape"===this.selectionType&&this.maps.selectedElementId.splice(this.maps.selectedElementId.indexOf(e.getAttribute("id")),1),"Bubble"===this.selectionType&&this.maps.selectedBubbleElementId.splice(this.maps.selectedBubbleElementId.indexOf(e.getAttribute("id")),1),"Marker"===this.selectionType&&this.maps.selectedMarkerElementId.splice(this.maps.selectedMarkerElementId.indexOf(e.getAttribute("id")),1),"navigationline"===this.selectionType&&this.maps.selectedBubbleElementId.splice(this.maps.selectedBubbleElementId.indexOf(e.getAttribute("id")),1)},e.prototype.getModuleName=function(){return"Selection"},e.prototype.destroy=function(e){this.removeEventListener()},e}(),Mi=function(){function e(e){this.maps=e,this.tooltipId=this.maps.element.id+"_mapsTooltip",this.addEventListener()}return e.prototype.renderTooltip=function(e){var a,o,n,l,r,d=this;-1!==e.type.indexOf("touch")?(this.isTouch=!0,a=(l=e).changedTouches[0].pageX,o=l.changedTouches[0].pageY,n=l.target):(this.isTouch="touch"===e.pointerType,a=e.pageX,o=e.pageY,n=e.target);var p,h,c,m="",u=n.id,g=[],y=u.indexOf("_LayerIndex_")>-1&&parseFloat(u.split("_LayerIndex_")[1].split("_")[0]),f=this.maps.layersCollection[y],b=[];if(c=s(a,o,this.maps.svgObject),this.tooltipTargetID=u,u.indexOf("_shapeIndex_")>-1||u.indexOf("_MarkerIndex_")>-1||u.indexOf("_BubbleIndex_")>-1){if(u.indexOf("_shapeIndex_")>-1){(p=f.tooltipSettings).textStyle.fontFamily=this.maps.themeStyle.fontFamily||p.textStyle.fontFamily,p.textStyle.opacity=this.maps.themeStyle.tooltipTextOpacity||p.textStyle.opacity;var v=parseInt(u.split("_shapeIndex_")[1].split("_")[0],10);if(t.isNullOrUndefined(f.layerData)||t.isNullOrUndefined(f.layerData[v]))return;var x=f.layerData[v].property,S=!1,O="[object Array]"===Object.prototype.toString.call(f.shapePropertyPath)?f.shapePropertyPath:[f.shapePropertyPath];if(!t.isNullOrUndefined(O)){for(var M=0;M<O.length;M++)for(var C=0;C<f.dataSource.length;C++){var L=f.dataSource[C],w=f.shapeDataPath.indexOf(".")>-1?P(L,f.shapeDataPath):L[f.shapeDataPath];if((!t.isNullOrUndefined(w)&&isNaN(L[f.shapeDataPath])?w.toLowerCase():w)===(!t.isNullOrUndefined(x[O[M]])&&isNaN(x[O[M]])?x[O[M]].toLowerCase():x[O[M]])){S=!0,y=C,M=O.length;break}}y=S?y:null,g=f.dataSource[y]}if(p.visible&&(!t.isNullOrUndefined(y)&&!isNaN(y)||!t.isNullOrUndefined(x)))if(f.tooltipSettings.format)m=this.formatter(f.tooltipSettings.format,f.dataSource[y]);else{var T=te(f.shapeDataPath,f.shapePropertyPath,x);m=t.isNullOrUndefined(f.dataSource)||t.isNullOrUndefined(y)?x[T]:_(p.valuePath.indexOf(".")>-1?P(f.dataSource[y],p.valuePath):f.dataSource[y][p.valuePath],this.maps),t.isNullOrUndefined(m)&&(m=p.valuePath.indexOf(".")>-1?P(x,p.valuePath):x[p.valuePath])}}else if(u.indexOf("_MarkerIndex_")>-1){var I=parseInt(u.split("_MarkerIndex_")[1].split("_")[0],10),N=parseInt(u.split("_MarkerIndex_")[1].split("_")[2],10),k=f.markerSettings[I];p=k.tooltipSettings,g=k.dataSource[N],p.visible&&!isNaN(I)&&(m=k.tooltipSettings.format?this.formatter(k.tooltipSettings.format,k.dataSource[N]):k.template&&!k.tooltipSettings.valuePath?k.template.split(">")[1].split("<")[0]:_(k.tooltipSettings.valuePath.indexOf(".")>-1?P(k.dataSource[N],k.tooltipSettings.valuePath):k.dataSource[N][k.tooltipSettings.valuePath],this.maps))}else if(u.indexOf("_BubbleIndex_")>-1){var E=parseInt(u.split("_BubbleIndex_")[1].split("_")[0],10),N=parseInt(u.split("_BubbleIndex_")[1].split("_")[2],10),z=f.bubbleSettings[E];p=z.tooltipSettings,g=z.dataSource[N],p.visible&&!isNaN(N)&&(m=z.tooltipSettings.format?this.formatter(z.tooltipSettings.format,z.dataSource[N]):_(z.tooltipSettings.valuePath.indexOf(".")>-1?P(z.dataSource[N],z.tooltipSettings.valuePath):z.dataSource[N][z.tooltipSettings.valuePath],this.maps))}document.getElementById(this.tooltipId)?h=document.getElementById(this.tooltipId):(h=t.createElement("div",{id:this.maps.element.id+"_mapsTooltip",className:"EJ2-maps-Tooltip",styles:"position: absolute;pointer-events:none;"}),document.getElementById(this.maps.element.id+"_Secondary_Element").appendChild(h)),null!==p.template&&1===Object.keys("object"==typeof p.template?p.template:{}).length&&(p.template=p.template[Object.keys(p.template)[0]]);var j={location:c,text:b,data:g=this.setTooltipContent(p,g),textStyle:p.textStyle,template:p.template};if(r={cancel:!1,name:"tooltipRender",options:j,fill:p.fill,maps:this.maps,element:n,eventArgs:e},this.maps.isBlazor){var A={location:c},B={name:"tooltipRender",cancel:!1,options:A,data:g,textStyle:r.options.textStyle,fill:r.fill,element:n,eventArgs:e};this.maps.trigger("tooltipRender",B,function(e){B.cancel||!p.visible||t.isNullOrUndefined(m)||-1!==u.indexOf("_cluster_")||-1!==u.indexOf("_dataLabel_")?d.removeTooltip():(u.indexOf("MarkerIndex")>0||u.indexOf("BubbleIndex"),d.maps.isProtectedOnChange=!0,d.svgTooltip=B.cancel?new i.Tooltip({enable:!0,header:"",content:[m.toString()],shapes:[],location:A.location,palette:[void 0],areaBounds:d.maps.mapAreaRect,textStyle:r.options.textStyle,availableSize:d.maps.availableSize,fill:r.fill}):new i.Tooltip({enable:!0,header:"",content:[m.toString()],shapes:[],location:A.location,palette:[void 0],areaBounds:d.maps.mapAreaRect,textStyle:B.textStyle,availableSize:d.maps.availableSize,fill:B.fill}),d.svgTooltip.opacity=d.maps.themeStyle.tooltipFillOpacity||d.svgTooltip.opacity,d.svgTooltip.appendTo(h))})}else this.maps.trigger("tooltipRender",r,function(e){r.cancel||!p.visible||t.isNullOrUndefined(m)||-1!==u.indexOf("_cluster_")||-1!==u.indexOf("_dataLabel_")?d.removeTooltip():(d.maps.isProtectedOnChange=!0,r.options.textStyle.color=d.maps.themeStyle.tooltipFontColor||r.options.textStyle.color,r.cancel?d.svgTooltip=new i.Tooltip({enable:!0,header:"",data:p.data,template:p.template,content:[m.toString()],shapes:[],location:p.location,palette:[void 0],areaBounds:d.maps.mapAreaRect,textStyle:p.textStyle,availableSize:d.maps.availableSize,fill:p.fill||d.maps.themeStyle.tooltipFillColor}):d.svgTooltip=new i.Tooltip({enable:!0,header:"",data:r.options.data,template:r.options.template,content:[m.toString()],shapes:[],location:r.options.location,palette:[void 0],areaBounds:d.maps.mapAreaRect,textStyle:r.options.textStyle,availableSize:d.maps.availableSize,fill:r.fill||d.maps.themeStyle.tooltipFillColor}),d.svgTooltip.opacity=d.maps.themeStyle.tooltipFillOpacity||d.svgTooltip.opacity,d.svgTooltip.appendTo(h))});this.svgTooltip&&this.maps.trigger("tooltipRenderComplete",{cancel:!1,name:"tooltipRenderComplete",maps:this.maps,options:j,element:this.svgTooltip.element}),this.svgTooltip?this.maps.trigger("tooltipRenderComplete",{cancel:!1,name:"tooltipRenderComplete",maps:this.maps,options:j,element:this.svgTooltip.element}):this.removeTooltip()}else this.removeTooltip()},e.prototype.setTooltipContent=function(e,i){var a=t.extend({},i,null,!0);return this.maps.format&&!isNaN(Number(a[e.valuePath]))?a[e.valuePath]=ue(this.maps,Number(a[e.valuePath])):a=Object.keys(a).length?a:void 0,a},e.prototype.formatter=function(e,t){void 0===t&&(t={});for(var i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];e="object"==typeof t[o]?M("",e,t,this.maps):e.split("${"+o+"}").join(_(t[o],this.maps))}return e},e.prototype.mouseUpHandler=function(e){this.renderTooltip(e),"MouseMove"===this.maps.tooltipDisplayMode&&(clearTimeout(this.clearTimeout),this.clearTimeout=setTimeout(this.removeTooltip.bind(this),2e3))},e.prototype.removeTooltip=function(){document.getElementsByClassName("EJ2-maps-Tooltip").length>0&&t.remove(document.getElementsByClassName("EJ2-maps-Tooltip")[0])},e.prototype.addEventListener=function(){this.maps.isDestroyed||("DoubleClick"===this.maps.tooltipDisplayMode?this.maps.on("dblclick",this.renderTooltip,this):"Click"===this.maps.tooltipDisplayMode?this.maps.on(t.Browser.touchEndEvent,this.mouseUpHandler,this):this.maps.on(t.Browser.touchMoveEvent,this.renderTooltip,this),this.maps.on(t.Browser.touchCancelEvent,this.removeTooltip,this))},e.prototype.removeEventListener=function(){this.maps.isDestroyed||("DoubleClick"===this.maps.tooltipDisplayMode?this.maps.off("dblclick",this.removeTooltip):"Click"===this.maps.tooltipDisplayMode?this.maps.off(t.Browser.touchEndEvent,this.mouseUpHandler):this.maps.off(t.Browser.touchMoveEvent,this.renderTooltip),this.maps.off(t.Browser.touchCancelEvent,this.removeTooltip))},e.prototype.getModuleName=function(){return"MapsTooltip"},e.prototype.destroy=function(e){this.removeEventListener()},e}(),Ci=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(i[a[o]]=e[a[o]]);return i},Li=function(){function e(e){this.isPanning=!1,this.mouseEnter=!1,this.isTouch=!1,this.rectZoomingStart=!1,this.pinchRect=new ht(0,0,0,0),this.browserName=t.Browser.info.name,this.isPointer=t.Browser.isPointer,this.handled=!1,this.pinchFactor=1,this.startTouches=[],this.shapeZoomLocation=[],this.intersect=[],this.mouseDownLatLong={x:0,y:0},this.mouseMoveLatLong={x:0,y:0},this.isSingleClick=!1,this.maps=e,this.wheelEvent="mozilla"===this.browserName?this.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel",this.cancelEvent=this.isPointer?"pointerleave":"mouseleave",this.selectionColor=this.maps.zoomSettings.selectionColor,this.fillColor=this.maps.zoomSettings.color,this.addEventListener(),this.groupElements=[]}return e.prototype.performZooming=function(e,t,i){var a=this,o=this.maps;o.previousProjection=o.projectionType,o.defaultState=!1,o.initialCheck=!1,o.markerZoomedState=!1,o.zoomPersistence=o.enablePersistence;var n=o.tileZoomLevel,l=o.previousScale=o.scale,r=o.zoomSettings.maxZoom,s=o.zoomSettings.minZoom;t=s>t&&"ZoomIn"===i?s+1:t;var d=o.tileTranslatePoint;if(!o.isTileMap&&("ZoomIn"===i?t>=s&&t<=r:t>=s)){var p=o.mapAreaRect,h=o.baseMapRectBounds.min,c=o.baseMapRectBounds.max,m=Math.abs(h.x-c.x),u=Math.abs(h.y-c.y),g=o.translatePoint,y=g.x-(p.width/l-p.width/t)/(p.width/e.x),f=g.y-(p.height/l-p.height/t)/(p.height/e.y),b=Math.abs(o.baseMapRectBounds.max.y-o.baseMapRectBounds.min.y)*t;y=b<o.mapAreaRect.height?p.x+(-h.x+(p.width/2-m/2)):y,f=b<o.mapAreaRect.height?p.y+(-h.y+(p.height/2-u/2)):f,o.translatePoint=new Qe(y,f),o.scale=t,this.triggerZoomEvent(d,n,i),this.applyTransform()}else if(o.isTileMap&&t>=s&&t<=r){this.getTileTranslatePosition(n,t,e,i),o.tileZoomLevel=t,o.scale=Math.pow(2,t-1),"ZoomOut"===i&&o.zoomSettings.resetToInitial&&o.applyZoomReset&&t<=o.initialZoomLevel&&(o.initialCheck=!0,o.zoomPersistence=!1,o.tileTranslatePoint.x=o.initialTileTranslate.x,o.tileTranslatePoint.y=o.initialTileTranslate.y,t=o.tileZoomLevel=o.mapScaleValue=o.initialZoomLevel,o.scale=Math.pow(2,t-1)),o.translatePoint.y=(o.tileTranslatePoint.y-.01*o.scale)/o.scale,o.translatePoint.x=(o.tileTranslatePoint.x-.01*o.scale)/o.scale,this.triggerZoomEvent(d,n,i),document.querySelector(".GroupElement")&&(document.querySelector(".GroupElement").style.display="none"),document.getElementById(this.maps.element.id+"_LayerIndex_1")&&(document.getElementById(this.maps.element.id+"_LayerIndex_1").style.display="none"),o.mapLayerPanel.generateTiles(t,o.tileTranslatePoint,i+"wheel",null,e);document.getElementById(this.maps.element.id+"_tiles");setTimeout(function(){a.applyTransform(),document.getElementById(a.maps.element.id+"_LayerIndex_1")&&(document.getElementById(a.maps.element.id+"_LayerIndex_1").style.display="block")},250)}this.maps.zoomNotApplied=!1},e.prototype.triggerZoomEvent=function(e,t,i){var a,o=this.maps;a=o.isTileMap?{cancel:!1,name:"zoom",type:i,maps:o.isBlazor?null:o,tileTranslatePoint:{previous:e,current:o.tileTranslatePoint},translatePoint:{previous:o.previousPoint,current:o.translatePoint},tileZoomLevel:{previous:t,current:o.tileZoomLevel},scale:{previous:o.previousScale,current:o.scale}}:{cancel:!1,name:"zoom",type:i,maps:o.isBlazor?null:o,tileTranslatePoint:{},translatePoint:{previous:o.previousPoint,current:o.translatePoint},tileZoomLevel:{},scale:{previous:o.previousScale,current:o.scale}},o.trigger("zoom",a)},e.prototype.getTileTranslatePosition=function(e,t,i,a){var o=this.maps,n="ZoomOut"===a?10:"Reset"===a&&t>1?0:10,l=o.availableSize,r=256*Math.pow(2,e),s=256*Math.pow(2,t),d=(i.x-o.tileTranslatePoint.x)/r*100,p=(i.y-o.tileTranslatePoint.y)/r*100;o.tileTranslatePoint.x=1===t?l.width/2-256:i.x-d*s/100,o.tileTranslatePoint.y=1===t?l.height/2-256+2*n:i.y-p*s/100},e.prototype.performRectZooming=function(){this.isDragZoom=!0;var e=this.maps,t=e.availableSize;e.previousProjection=e.projectionType;var i=e.tileZoomLevel,a=e.tileTranslatePoint,o=this.zoomingRect,n=e.zoomSettings.maxZoom,l=e.zoomSettings.minZoom;if(o.height>0&&o.width>0){var r=this.zoomingRect.x+this.zoomingRect.width/2,s=this.zoomingRect.y+this.zoomingRect.height/2,d=void 0;if(e.isTileMap)d=(d=i+Math.round(i+(t.width/o.width+t.height/o.height)/2))>=l&&d<=n?d:n,this.getTileTranslatePosition(i,d,{x:r,y:s}),e.tileZoomLevel=d,e.translatePoint.x=(e.tileTranslatePoint.x-.5*Math.pow(2,d))/Math.pow(2,d),e.translatePoint.y=(e.tileTranslatePoint.y-.5*Math.pow(2,d))/Math.pow(2,d),e.scale=Math.pow(2,d),this.triggerZoomEvent(a,i,""),e.mapLayerPanel.generateTiles(d,e.tileTranslatePoint);else{var p=e.previousScale=e.scale;d=p+Math.round((t.width/o.width+t.height/o.height)/2);var h=e.previousPoint=e.translatePoint,c=h.x-(t.width/p-t.width/d)/(t.width/r),m=h.y-(t.height/p-t.height/d)/(t.height/s);e.translatePoint=new Qe(c,m),e.scale=d,this.triggerZoomEvent(a,i,"")}e.mapScaleValue=d,this.applyTransform(!0),this.maps.zoomNotApplied=!1,this.zoomingRect=null}},e.prototype.setInteraction=function(e){this.lastScale=1,this.interaction=e},e.prototype.updateInteraction=function(){2===this.fingers?this.setInteraction("zoom"):this.setInteraction(null)},e.prototype.performPinchZooming=function(e){var t=this.maps,i=t.tileZoomLevel,a=t.mapAreaRect;t.previousScale=t.scale,t.previousPoint=t.translatePoint;var o=t.tileTranslatePoint,n=Be(this.touchStartList,this.touchMoveList),l=Ue(Re(this.touchMoveList,this.maps)),r=n/this.lastScale;this.lastScale=n,this.pinchFactor*=r,this.pinchFactor=Math.min(this.maps.zoomSettings.maxZoom,Math.max(this.pinchFactor,this.maps.zoomSettings.minZoom));var s=this.pinchFactor;if(t.isTileMap){var d=s;this.getTileTranslatePosition(i,d,{x:l.x,y:l.y}),t.tileZoomLevel=d,t.translatePoint.x=(t.tileTranslatePoint.x-.5*Math.pow(2,d))/Math.pow(2,d),t.translatePoint.y=(t.tileTranslatePoint.y-.5*Math.pow(2,d))/Math.pow(2,d),t.scale=Math.pow(2,d),this.triggerZoomEvent(o,i,""),t.mapLayerPanel.generateTiles(d,t.tileTranslatePoint)}else{var p=t.baseMapRectBounds.min,h=t.baseMapRectBounds.max,c=Math.abs(p.x-h.x),m=Math.abs(p.y-h.y),u=t.translatePoint,g=Math.abs(t.baseMapRectBounds.max.y-t.baseMapRectBounds.min.y)*s,y=u.x-(a.width/t.scale-a.width/s)/(a.width/l.x),f=u.y-(a.height/t.scale-a.height/s)/(a.height/l.y);y=g<t.mapAreaRect.height?a.x+(-p.x+(a.width/2-c/2)):y,f=g<t.mapAreaRect.height?a.y+(-p.y+(a.height/2-m/2)):f,t.translatePoint=new Qe(y,f),t.scale=s,this.triggerZoomEvent(o,i,"")}this.applyTransform()},e.prototype.drawZoomRectangle=function(){var e,t,i,a,o=this.maps,n=this.mouseDownPoints,l=this.mouseMovePoints,r={width:1,color:"#009900"};i=Math.abs(l.x-n.x),a=Math.abs(l.y-n.y),e=l.x>n.x?n.x:n.x-i,t=l.y>n.y?n.y:n.y-a;me(o.element.id).getBoundingClientRect();if(e>o.mapAreaRect.x&&e<o.mapAreaRect.x+o.mapAreaRect.width&&t>o.mapAreaRect.y&&t<o.mapAreaRect.y+o.mapAreaRect.height){this.zoomingRect=new ht(e,t,i,a);var s=o.renderer.createSvg({id:o.element.id+"_Selection_Rect_Zooming",width:o.availableSize.width,height:o.availableSize.height}),d=new ot(o.element.id+"_ZoomRect","#d3d3d3",r,.5,this.zoomingRect,0,0,"","3");s.appendChild(o.renderer.drawRectangle(d)),me(o.element.id+"_Secondary_Element").appendChild(s)}},e.prototype.animateTransform=function(e,t,i,a,o){var n=this.currentLayer.animationDuration;if(!t||0===n)return void e.setAttribute("transform","scale("+o+") translate( "+i+" "+a+" )");De(e,0,n,new pt(i,a),o,this.maps.mapAreaRect,this.maps)},e.prototype.applyTransform=function(e){var i;this.templateCount=0;var a,o=this.maps.scale,n=this.maps.translatePoint.x,l=this.maps.translatePoint.y;if(this.maps.zoomShapeCollection=[],document.getElementById(this.maps.element.id+"_mapsTooltip")&&se(this.maps.element.id+"_mapsTooltip"),this.layerCollectionEle){for(var r=0;r<this.layerCollectionEle.childElementCount;r++){var s=this.layerCollectionEle.childNodes[r];if("g"===s.tagName){this.templateCount++,this.index=s.id.indexOf("_LayerIndex_")>-1&&parseFloat(s.id.split("_LayerIndex_")[1].split("_")[0]),this.currentLayer=this.maps.layersCollection[this.index];for(var d=this.maps.mapLayerPanel.calculateFactor(this.currentLayer),p=0;p<s.childElementCount;p++){var h=s.childNodes[p];if(h.id.indexOf("_Markers_Group")>-1||h.id.indexOf("_bubble_Group")>-1||h.id.indexOf("_dataLableIndex_Group")>-1){if(h.id.indexOf("_Markers_Group")>-1){if(this.isPanning||this.markerTranslates(h.childNodes[0],d,n,l,o,"Marker",s,e),h=s.childNodes[p],!t.isNullOrUndefined(h)){for(f=0;f<h.childElementCount;f++)this.markerTranslate(h.childNodes[f],d,n,l,o,"Marker",e),!this.maps.isTileMap&&this.currentLayer.animationDuration>0&&(a="visibility:hidden",h.setAttribute("style",a));if(this.isPanning&&this.maps.markerModule.sameMarkerData.length>0?k(this.maps.markerModule.sameMarkerData,this.maps,h,!0):this.maps.markerModule.sameMarkerData.length>0&&(this.maps.markerModule.sameMarkerData=[],document.getElementById(this.maps.element.id+"_mapsTooltip")&&se(this.maps.element.id+"_mapsTooltip")),document.getElementById(this.maps.element.id+"_mapsTooltip")&&this.maps.mapsTooltipModule.tooltipTargetID.indexOf("_MarkerIndex_")&&!this.isPanning){var c=this.maps.mapsTooltipModule,m=h.querySelector("#"+c.tooltipTargetID);if(!t.isNullOrUndefined(m))if("hidden"===m.style.visibility)se(this.maps.element.id+"_mapsTooltip");else{var u=parseFloat(m.getAttribute("transform").split("(")[1].split(")")[0].split(" ")[1]),g=parseFloat(m.getAttribute("transform").split("(")[1].split(")")[0].split(" ")[2]);this.maps.isTileMap&&(u+=+ye(this.maps.element.id+"_tile_parent").style.left.split("px")[0],g+=+ye(this.maps.element.id+"_tile_parent").style.top.split("px")[0]),c.svgTooltip.location.x=u,c.svgTooltip.location.y=g,c.svgTooltip.enableAnimation=!1}}}}else if(h.id.indexOf("_bubble_Group")>-1)for(var y=void 0,f=0;f<h.childElementCount;f++){(y=h.childNodes[f]).getAttribute("transform");i=parseFloat(y.id.split("_LayerIndex_")[1].split("_")[0]);for(var b=parseFloat(y.id.split("_BubbleIndex_")[1].split("_")[0]),v=parseFloat(y.id.split("_BubbleIndex_")[1].split("_")[2]),S=0;S<this.maps.bubbleModule.bubbleCollection.length;S++){var O=this.maps.bubbleModule.bubbleCollection[S];if(O.LayerIndex===i&&O.BubbleIndex===b&&O.DataIndex===v){var _=(O.center.x+n)*o,M=(O.center.y+l)*o,C=this.currentLayer.animationDuration;e&&0!==C?Ve(y,0,C,new pt(_,M)):y.setAttribute("transform","translate( "+_+" "+M+" )");break}}}else if(h.id.indexOf("_dataLableIndex_Group")>-1){this.intersect=[],this.maps.zoomLabelPositions=[],this.maps.zoomLabelPositions=this.maps.dataLabelModule.dataLabelCollections;for(f=0;f<h.childElementCount;f++)if(h.childNodes[f].id.indexOf("_LabelIndex_")>-1){var L=parseFloat(h.childNodes[f].id.split("_LabelIndex_")[1].split("_")[0]);this.zoomshapewidth=this.shapeZoomLocation[L].getBoundingClientRect(),this.maps.zoomShapeCollection.push(this.zoomshapewidth),this.dataLabelTranslate(h.childNodes[f],d,n,l,o,"DataLabel",e);var P=this.maps.layers[this.index].dataLabelSettings.border;if(f>0&&P.width>1&&h.childNodes[f-1].id.indexOf("_rectIndex_")>-1){var w=(this.maps.zoomLabelPositions[L].location.x+n)*o,T=(this.maps.zoomLabelPositions[L].location.y+l)*o,I=x(h.childNodes[f].innerHTML,this.maps.layers[this.index].dataLabelSettings.textStyle),N=h.childNodes[f-1],E=w-I.width/2,z=T-I.height/2-5;N.setAttribute("x",E),N.setAttribute("y",z)}}}}else this.maps.isTileMap&&h.id.indexOf("_line_Group")>-1?(h.remove(),s.children.length>0&&s.children[0]?s.insertBefore(this.maps.navigationLineModule.renderNavigation(this.currentLayer,this.maps.tileZoomLevel,this.index),s.children[0]):s.appendChild(this.maps.navigationLineModule.renderNavigation(this.currentLayer,this.maps.tileZoomLevel,this.index))):(ze(h,this.index,o,this.maps),this.maps.zoomTranslatePoint=this.maps.translatePoint,this.animateTransform(h,e,n,l,o),this.shapeZoomLocation=h.childNodes)}}this.maps.arrangeTemplate();this.maps.isBlazor&&this.maps.blazorTemplates()}t.isNullOrUndefined(this.currentLayer)||e&&0!==this.currentLayer.animationDuration||this.processTemplate(n,l,o,this.maps)}},e.prototype.markerTranslates=function(e,i,a,o,n,l,r,s){var d=this;void 0===s&&(s=!1);var p,m=0,u=0,g=0,y=parseInt((e||r).id.split("_LayerIndex_")[1].split("_")[0],10);p=this.maps.renderer.createGroup({id:this.maps.element.id+"_Markers_Group",class:"GroupElement",style:"pointer-events: auto;"}),document.getElementById(p.id)&&se(p.id);var f=this.maps.mapAreaRect,b=t.createElement("div",{id:this.maps.element.id+"_LayerIndex_"+y+"_Markers_Template_Group",className:"template",styles:"overflow: hidden; position: absolute;pointer-events: none;top:"+f.y+"px;left:"+f.x+"px;height:"+f.height+"px;width:"+f.width+"px;"});document.getElementById(b.id)&&se(b.id);var v=this.maps.layersCollection[y];v.markerSettings.map(function(e,s){var f=e.dataSource;Array.prototype.forEach.call(f,function(x,S){d.maps.markerNullCount=s>=0&&0===S?0:d.maps.markerNullCount;var O={template:e.template,data:x,maps:d.maps,marker:e,cancel:!1,name:Kt,fill:e.fill,colorValuePath:e.colorValuePath,shapeValuePath:e.shapeValuePath,height:e.height,width:e.width,imageUrl:e.imageUrl,shape:e.shape,border:e.border};if(O=T(O,x),O=w(O,x),d.maps.isBlazor){O.maps,O.marker;var _=Ci(O,["maps","marker"]);O=_}d.maps.trigger("markerRendering",O,function(_){e.shapeValuePath!==O.shapeValuePath&&(O=T(O,x)),e.colorValuePath!==O.colorValuePath&&(O=w(O,x));var M=t.isNullOrUndefined(e.latitudeValuePath)?parseFloat(x.latitude):Number(P(x,e.latitudeValuePath)),C=t.isNullOrUndefined(e.longitudeValuePath)?parseFloat(x.longitude):Number(P(x,e.longitudeValuePath));if(d.maps.isBlazor){for(var L={},N=0,k=[],j=0;j<Object.keys(x).length;j++)"text"!==Object.keys(x)[j].toLowerCase()&&"latitude"!==Object.keys(x)[j].toLowerCase()&&"blazortemplateid"!==Object.keys(x)[j].toLowerCase()&&"longitude"!==Object.keys(x)[j].toLowerCase()&&"name"!==Object.keys(x)[j].toLowerCase()&&(L.text=k,k[N]=x[Object.keys(x)[j].toLowerCase()],N++);x.text=L.text,(x=={}||t.isNullOrUndefined(x.latitude)||t.isNullOrUndefined(x.longitude))&&(M=x.latitude&&!t.isNullOrUndefined(x.latitude)?x.latitude:0,C=x.longitude&&!t.isNullOrUndefined(x.longitude)?x.longitude:0)}var A=e.offset;if(!O.cancel&&e.visible&&!t.isNullOrUndefined(C)&&!t.isNullOrUndefined(M)){var B=d.maps.element.id+"_LayerIndex_"+y+"_MarkerIndex_"+s+"_dataIndex_"+S,F=d.maps.isTileMap?c(new pt(C,M),d.maps.tileZoomLevel,d.maps.tileTranslatePoint,!0):h(M,C,i,v,d.maps),R=(0!==v.animationDuration||t.isNullOrUndefined(d.maps.zoomModule),{x:a,y:o});!O.template||isNaN(F.x)||isNaN(F.y)?O.template||isNaN(F.x)||isNaN(F.y)||(u++,E(O,e,f,S,F,R,B,A,n,d.maps,p)):(g++,z(O,void 0,B,x,s,b,F,n,A,d.maps))}m+=isNaN(M)||isNaN(C)?1:0,g+=O.cancel?1:0,u+=O.cancel?1:0,d.maps.markerNullCount=t.isNullOrUndefined(M)&&t.isNullOrUndefined(C)?d.maps.markerNullCount+1:d.maps.markerNullCount;f.length,d.maps.markerNullCount;p.childElementCount===f.length-g-m&&"Template"!==l&&(r.appendChild(p),v.markerClusterSettings.allowClustering&&(d.maps.svgObject.appendChild(p),d.maps.element.appendChild(d.maps.svgObject),I(v,p,d.maps,y,p,r,!0,!0))),b.childElementCount===f.length-u-m&&me(d.maps.element.id+"_Secondary_Element")&&(me(d.maps.element.id+"_Secondary_Element").appendChild(b),v.markerClusterSettings.allowClustering&&I(v,b,d.maps,y,p,r,!1,!0))})})})},e.prototype.processTemplate=function(e,i,a,o){for(var n=0;n<this.templateCount;n++){this.currentLayer=o.layersCollection[n];var l=o.mapLayerPanel.calculateFactor(this.currentLayer),r=me(o.element.id+"_LayerIndex_"+n+"_Markers_Template_Group"),s=me(o.element.id+"_LayerIndex_"+n+"_Label_Template_Group");if(!t.isNullOrUndefined(r)&&r.childElementCount>0)for(d=0;d<r.childElementCount;d++)this.markerTranslate(r.childNodes[d],l,e,i,a,"Template");if(!t.isNullOrUndefined(s)&&s.childElementCount>0)for(var d=0;d<s.childElementCount;d++)this.dataLabelTranslate(s.childNodes[d],l,e,i,a,"Template")}},e.prototype.dataLabelTranslate=function(e,i,a,o,n,l,r){void 0===r&&(r=!1);var s,d,p,h,c,m=this.maps.dataLabelModule.dataLabelCollections,u=(e.getBoundingClientRect(),this.maps.layers[this.index].dataLabelSettings.textStyle),g=(this.maps.layers[this.index].dataLabelSettings.labelPath,parseFloat(e.id.split("_LayerIndex_")[1].split("_")[0])),y=parseFloat(e.id.split("_shapeIndex_")[1].split("_")[0]);e.id.indexOf("_LabelIndex_")>-1&&(c=parseFloat(e.id.split("_LabelIndex_")[1].split("_")[0]));for(var f=this.currentLayer.animationDuration,b=0;b<m.length;b++){var v=m[b];if(v.layerIndex===g&&v.shapeIndex===y&&v.labelIndex===c){var S=v.location.x,O=v.location.y;if("Template"===l){var _=me(this.maps.element.id+"_Layer_Collections");S=Math.abs(this.maps.baseMapRectBounds.min.x-S)*n,O=Math.abs(this.maps.baseMapRectBounds.min.y-O)*n;var M=e.getBoundingClientRect(),C=_.getBoundingClientRect(),L=e.parentElement.getBoundingClientRect(),P=S+(C.left-L.left)-M.width/2,w=O+(C.top-L.top)-M.height/2;e.style.left=P+"px",e.style.top=w+"px"}else{S=(S+a)*n;var T=(O=(O+o)*n)-(h=x(p=v.dataLabelText,u)).height/4,I=O+h.height/4,N={rightWidth:S+h.width/2,leftWidth:S-h.width/2,heightTop:T,heightBottom:I};if(r&&0!==f||e.setAttribute("transform","translate( "+S+" "+O+" )"),"Hide"===this.maps.layers[this.index].dataLabelSettings.smartLabelMode&&(n>1?(s=this.zoomshapewidth.width>=h.width?p:"",e.innerHTML=s):(s=this.maps.dataLabelShape[b]>=h.width?p:"",e.innerHTML=s)),"Trim"===this.maps.layers[this.index].dataLabelSettings.smartLabelMode&&(n>1?(s=le(this.zoomshapewidth.width,p,u),e.innerHTML=s):(s=le(this.maps.dataLabelShape[b],p,u),e.innerHTML=s)),"Hide"===this.maps.layers[this.index].dataLabelSettings.intersectionAction){for(var k=0;k<this.intersect.length;k++)if(!t.isNullOrUndefined(this.intersect[k])){if(!(N.leftWidth>this.intersect[k].rightWidth||N.rightWidth<this.intersect[k].leftWidth||N.heightTop>this.intersect[k].heightBottom||N.heightBottom<this.intersect[k].heightTop)){s="",e.innerHTML=s;break}s=t.isNullOrUndefined(s)?p:s,e.innerHTML=s}this.intersect.push(N)}if("Trim"===this.maps.layers[this.index].dataLabelSettings.intersectionAction){for(var E=0;E<this.intersect.length;E++)if(!t.isNullOrUndefined(this.intersect[E]))if(N.rightWidth<this.intersect[E].leftWidth||N.leftWidth>this.intersect[E].rightWidth||N.heightBottom<this.intersect[E].heightTop||N.heightTop>this.intersect[E].heightBottom)d=t.isNullOrUndefined(s)?p:s,n>1&&(d=le(this.zoomshapewidth.width,d,u)),e.innerHTML=d;else{if(N.leftWidth>this.intersect[E].leftWidth){d=le(j=(z=this.intersect[E].rightWidth-N.leftWidth)-(N.rightWidth-N.leftWidth),s=t.isNullOrUndefined(s)?p:s,u),e.innerHTML=d;break}if(N.leftWidth<this.intersect[E].leftWidth){var z=N.rightWidth-this.intersect[E].leftWidth,j=Math.abs(z-(N.rightWidth-N.leftWidth));d=le(j,s=t.isNullOrUndefined(s)?p:s,u),e.innerHTML=d;break}}this.intersect.push(N),t.isNullOrUndefined(d)&&(d=le(this.zoomshapewidth.width,p,u),e.innerHTML=d)}else Ve(e,0,f,new pt(S,O))}}}},e.prototype.markerTranslate=function(e,i,a,o,n,l,r){void 0===r&&(r=!1);var s=parseInt(e.id.split("_LayerIndex_")[1].split("_")[0],10),d=parseInt(e.id.split("_MarkerIndex_")[1].split("_")[0],10),p=parseInt(e.id.split("_dataIndex_")[1].split("_")[0],10),m=this.maps.layersCollection[s],u=m.markerSettings[d];if(!t.isNullOrUndefined(u)&&!t.isNullOrUndefined(u.dataSource)&&!t.isNullOrUndefined(u.dataSource[p])){var g=t.isNullOrUndefined(u.longitudeValuePath)?parseFloat(u.dataSource[p].longitude):Number(P(u.dataSource[p],u.longitudeValuePath)),y=t.isNullOrUndefined(u.latitudeValuePath)?parseFloat(u.dataSource[p].latitude):Number(P(u.dataSource[p],u.latitudeValuePath));if(this.maps.isBlazor){var f={},b=0,v=[];(t.isNullOrUndefined(u.dataSource[p].latitude)||t.isNullOrUndefined(u.dataSource[p].longitude))&&(y=u.dataSource[p].latitude&&!t.isNullOrUndefined(u.dataSource[p].latitude)?u.dataSource[p].latitude:0,g=u.dataSource[p].longitude&&!t.isNullOrUndefined(u.dataSource[p].longitude)?u.dataSource[p].longitude:0);for(var x=0;x<Object.keys(u.dataSource[p]).length;x++)"text"!==Object.keys(u.dataSource[p])[x].toLowerCase()&&"longitude"!==Object.keys(u.dataSource[p])[x].toLowerCase()&&"latitude"!==Object.keys(u.dataSource[p])[x].toLowerCase()&&"blazortemplateid"!==Object.keys(u.dataSource[p])[x].toLowerCase()&&"name"!==Object.keys(u.dataSource[p])[x].toLowerCase()&&(f.text=v,v[b]=u.dataSource[p][Object.keys(u.dataSource[p])[x].toLowerCase()],b++);u.dataSource[p].text=f.text}var S=this.currentLayer.animationDuration,O=this.maps.isTileMap?c(new Qe(g,y),this.maps.tileZoomLevel,this.maps.tileTranslatePoint,!0):h(y,g,i,m,this.maps);if(this.maps.isTileMap)if("Template"===l){var _=e.getBoundingClientRect();if(e.style.left=O.x-_.width/2+u.offset.x+"px",e.style.top=O.y-_.height/2+u.offset.y+"px","GoogleStaticMap"===this.maps.layers[this.maps.baseLayerIndex].layerType){var M=me(this.maps.element.id+"_StaticGoogleMap").getBoundingClientRect();"none"!==e.style.display&&((M.x>_.x||M.x+640<_.x+_.width)&&(M.y>_.y||M.y+M.height<_.y+_.height)?e.style.display="none":(M.x>_.x||M.x+640<_.x+_.width)&&(e.style.display="none"))}}else O.x+=u.offset.x,O.y+=u.offset.y,e.setAttribute("transform","translate( "+O.x+" "+O.y+" )");else if("Template"===l){O.x=Math.abs(this.maps.baseMapRectBounds.min.x-O.x)*n,O.y=Math.abs(this.maps.baseMapRectBounds.min.y-O.y)*n;var C=me(this.maps.element.id+"_Layer_Collections").getBoundingClientRect(),L=e.parentElement.getBoundingClientRect();e.style.left=O.x+(C.left-L.left)+u.offset.x+"px",e.style.top=O.y+(C.top-L.top)+u.offset.y+"px",e.style.transform="translate(-50%, -50%)"}else O.x=(O.x+a)*n+u.offset.x,O.y=(O.y+o)*n+u.offset.y,r&&0!==S?Ve(e,0,S,O):e.setAttribute("transform","translate( "+O.x+" "+O.y+" )")}},e.prototype.panning=function(e,i,a,o){var n,l=this.maps,r=this.mouseDownPoints,s=this.mouseMovePoints,d=l.scale;l.markerZoomedState=!1,l.zoomPersistence=l.enablePersistence,l.defaultState=!1,l.initialCheck=!1;var p,h,c=l.translatePoint,m=l.tileTranslatePoint;if(i=t.isNullOrUndefined(i)?r.x-s.x:i,a=t.isNullOrUndefined(a)?r.y-s.y:a,l.isTileMap){if(this.maps.tileZoomLevel>1){p=l.tileTranslatePoint.x-i,h=l.tileTranslatePoint.y-a,this.distanceX=p-l.tileTranslatePoint.x,this.distanceY=h-l.tileTranslatePoint.y,l.tileTranslatePoint.x=p,l.tileTranslatePoint.y=h,(l.tileTranslatePoint.y>-10&&a<0||l.tileTranslatePoint.y<-256*(Math.pow(2,this.maps.tileZoomLevel)-2)&&a>0)&&(l.tileTranslatePoint.x=p+i,l.tileTranslatePoint.y=h+a),l.translatePoint.x=(l.tileTranslatePoint.x-i)/l.scale,l.translatePoint.y=(l.tileTranslatePoint.y-a)/l.scale;var u=this.maps.getTileGeoLocation(o);n={cancel:!1,name:"pan",maps:l.isBlazor?null:l,tileTranslatePoint:{previous:m,current:l.tileTranslatePoint},translatePoint:{previous:c,current:l.translatePoint},scale:l.scale,tileZoomLevel:l.tileZoomLevel,latitude:u.latitude,longitude:u.longitude},l.trigger("pan",n),l.mapLayerPanel.generateTiles(l.tileZoomLevel,l.tileTranslatePoint,"Pan"),this.applyTransform()}}else{p=c.x-i/d,h=c.y-a/d;var g=me(l.element.id+"_Layer_Collections").getBoundingClientRect(),y=me(l.element.id+"_svg").getBoundingClientRect(),f=i<0?g.left<=y.left+l.mapAreaRect.x:g.left+g.width>=y.left+y.width+l.mapAreaRect.x+l.margin.left,b=a<0?g.top<=y.top+l.mapAreaRect.y:g.top+g.height+l.margin.top>=y.top+y.height,v=this.maps.getGeoLocation(this.maps.layersCollection.length-1,o);n={cancel:!1,name:"pan",maps:l.isBlazor?null:l,tileTranslatePoint:{},translatePoint:{previous:c,current:new Qe(p,h)},scale:l.scale,tileZoomLevel:l.tileZoomLevel,latitude:v.latitude,longitude:v.longitude},l.trigger("pan",n),f&&b?(l.translatePoint=new Qe(p,h),this.applyTransform()):f?(l.translatePoint=new Qe(p,l.translatePoint.y),this.applyTransform()):b&&(l.translatePoint=new Qe(l.translatePoint.x,h),this.applyTransform()),this.maps.zoomNotApplied=!1}l.zoomTranslatePoint=l.translatePoint,this.mouseDownPoints=this.mouseMovePoints,this.maps.zoomNotApplied=!1,this.isSingleClick=!1},e.prototype.toAlignSublayer=function(){this.maps.translatePoint.x=t.isNullOrUndefined(this.distanceX)?this.maps.translatePoint.x:this.maps.translatePoint.x-this.distanceX/this.maps.scale,this.maps.translatePoint.y=t.isNullOrUndefined(this.distanceY)?this.maps.translatePoint.y:this.maps.translatePoint.y-this.distanceY/this.maps.scale,this.applyTransform(!1)},e.prototype.toolBarZooming=function(e,t){var i=this,a=this.maps;a.initialCheck=!1,a.defaultState="Reset"===t&&1===e&&!(a.zoomSettings.resetToInitial&&a.applyZoomReset)||"ZoomOut"===t&&1===e;var o=a.tileZoomLevel,n=a.previousScale=a.scale;a.markerZoomedState=!1,a.zoomPersistence=a.enablePersistence,a.mapScaleValue=e;var l=a.zoomSettings.maxZoom,r=a.zoomSettings.minZoom,s=a.mapAreaRect,d=a.previousPoint=a.translatePoint,p=a.tileTranslatePoint;if(a.previousProjection=a.projectionType,e="ZoomOut"===t&&1===Math.round(e)?1:e,e="Reset"===t?1:0===Math.round(e)?1:e,e=r>e&&"ZoomIn"===t?r+1:e,!a.isTileMap&&("ZoomIn"===t?e>=r&&e<=l:e>=r)){var h=a.baseMapRectBounds.min,c=a.baseMapRectBounds.max,m=Math.abs(c.x-h.x),u=Math.abs(h.y-c.y),g=d.x-(s.width/n-s.width/e)/2,y=d.y-(s.height/n-s.height/e)/2,f=Math.abs(a.baseMapRectBounds.max.y-a.baseMapRectBounds.min.y)*e;g=f<a.mapAreaRect.height?s.x+(-h.x+(s.width/2-m/2)):g,y=f<a.mapAreaRect.height?s.y+(-h.y+(s.height/2-u/2)):y,a.translatePoint=new Qe(g,y),a.zoomTranslatePoint=a.translatePoint,a.scale=e,this.triggerZoomEvent(p,o,t),this.applyTransform(!0)}else if(a.isTileMap&&e>=r&&e<=l){var b=e;a.scale=Math.pow(2,b-1),a.tileZoomLevel=b;var v={x:a.availableSize.width/2,y:a.availableSize.height/2};this.getTileTranslatePosition(o,b,v,t),(a.zoomSettings.resetToInitial&&a.applyZoomReset&&"Reset"===t||"ZoomOut"===t&&a.zoomSettings.resetToInitial&&a.applyZoomReset&&b<=a.initialZoomLevel)&&(a.initialCheck=!0,a.zoomPersistence=!1,a.tileTranslatePoint.x=a.initialTileTranslate.x,a.tileTranslatePoint.y=a.initialTileTranslate.y,b=a.tileZoomLevel=a.mapScaleValue=a.initialZoomLevel),this.triggerZoomEvent(p,o,t),a.translatePoint.y=(a.tileTranslatePoint.y-.01*a.scale)/a.scale,a.translatePoint.x=(a.tileTranslatePoint.x-.01*a.scale)/a.scale,document.getElementById(this.maps.element.id+"_LayerIndex_1")&&(document.getElementById(this.maps.element.id+"_LayerIndex_1").style.display="none"),document.querySelector(".GroupElement")&&(document.querySelector(".GroupElement").style.display="none"),a.mapLayerPanel.generateTiles(b,a.tileTranslatePoint,t);document.getElementById(this.maps.element.id+"_tiles");setTimeout(function(){i.applyTransform(!0),document.getElementById(i.maps.element.id+"_LayerIndex_1")&&(document.getElementById(i.maps.element.id+"_LayerIndex_1").style.display="block")},250)}this.maps.zoomNotApplied=!1},e.prototype.createZoomingToolbars=function(){var e=this.maps;this.toolBarGroup=e.renderer.createGroup({id:e.element.id+"_Zooming_KitCollection",opacity:.3});var t=15,i=15,a=e.zoomSettings.toolBarOrientation,o=e.zoomSettings.toolbars,n='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/>';n+='<feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/>',n+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var l=e.zoomSettings.toolbars.length,r="Horizontal"===e.zoomSettings.toolBarOrientation?16*l+20*l:32,s="Horizontal"===e.zoomSettings.toolBarOrientation?32:16*l+20*l;this.toolBarGroup.appendChild(e.renderer.drawRectangle(new ot(e.element.id+"_Zooming_Rect","transparent",{color:"transparent",width:1},1,new ht(0,0,r,s),0,0)));var d=e.renderer.createDefs();d.innerHTML=n,this.toolBarGroup.appendChild(d);var p=e.renderer.drawRectangle(new ot(e.element.id+"_Zooming_Rect","transparent",{color:"transparent",width:1},.1,new ht(0,0,r,s),0,0));p.setAttribute("filter","url(#chart_shadow)"),this.toolBarGroup.appendChild(p);for(var h=0;h<o.length;h++){var c=o[h];this.currentToolbarEle=e.renderer.createGroup({id:e.element.id+"_Zooming_ToolBar_"+c+"_Group",transform:"translate( "+t+" "+i+" ) "}),this.currentToolbarEle.setAttribute("class","e-maps-toolbar");var m="transparent",u="";switch(c.toLowerCase()){case"zoom":var g=void 0,y=void 0;u="M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,",u+="5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571",u+="L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,",this.maps.zoomSettings.enablePanning&&!this.maps.zoomSettings.enableSelectionZooming?(g=m,y=this.maps.themeStyle.zoomFillColor):this.maps.zoomSettings.enablePanning&&this.maps.zoomSettings.enableSelectionZooming?(g=m,y=this.maps.themeStyle.zoomFillColor):this.maps.zoomSettings.enablePanning||this.maps.zoomSettings.enableSelectionZooming?(g=this.selectionColor,y=this.selectionColor):(g=m,y=this.maps.themeStyle.zoomFillColor),this.currentToolbarEle.appendChild(e.renderer.drawPath(new it(e.element.id+"_Zooming_ToolBar_"+c,g,1,y,1,null,u+"4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z"))),this.zoomElements=this.currentToolbarEle,this.wireEvents(this.currentToolbarEle,this.performToolBarAction);break;case"zoomin":u="M 8, 0 L 8, 16 M 0, 8 L 16, 8",this.currentToolbarEle.appendChild(e.renderer.drawPath(new it(e.element.id+"_Zooming_ToolBar_"+c+"_Path",m,3,this.maps.themeStyle.zoomFillColor,1,null,u))),this.zoomInElements=this.currentToolbarEle,this.wireEvents(this.currentToolbarEle,this.performToolBarAction);break;case"zoomout":u="M 0, 8 L 16, 8",this.currentToolbarEle.appendChild(e.renderer.drawPath(new it(e.element.id+"_Zooming_ToolBar_"+c,m,3,this.maps.themeStyle.zoomFillColor,1,null,u))),this.zoomOutElements=this.currentToolbarEle,this.wireEvents(this.currentToolbarEle,this.performToolBarAction);break;case"pan":var f=void 0;u="M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,",u+="11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z",this.maps.zoomSettings.enablePanning&&this.maps.zoomModule.isDragZoom?f="#737373":this.maps.zoomSettings.enablePanning?f=this.selectionColor:(f="#737373",this.currentToolbarEle.setAttribute("class","")),this.currentToolbarEle.appendChild(e.renderer.drawPath(new it(e.element.id+"_Zooming_ToolBar_"+c,f,1,f,1,null,u))),this.panColor=f,this.panElements=this.currentToolbarEle,this.wireEvents(this.currentToolbarEle,this.performToolBarAction);break;case"reset":u="M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,",u+="1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,",u+="13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,",this.currentToolbarEle.appendChild(e.renderer.drawPath(new it(e.element.id+"_Zooming_ToolBar_"+c,this.fillColor,null,this.maps.themeStyle.zoomFillColor,1,null,u+"3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z"))),this.wireEvents(this.currentToolbarEle,this.performToolBarAction)}this.currentToolbarEle.appendChild(e.renderer.drawCircle(new nt(e.element.id+"_Zooming_ToolBar_"+c+"_Rect",m,{color:this.maps.themeStyle.zoomFillColor,width:1},1,8,8,16,""))),t="Horizontal"===a?t+36:t,i="Horizontal"===a?i:i+36,this.toolBarGroup.appendChild(this.currentToolbarEle)}},e.prototype.performToolBarAction=function(e){var t=e.target;e.stopImmediatePropagation();var i="touch"===e.pointerType||"2"===e.pointerType||e.type.indexOf("touch")>-1,a=t.id.split("_Zooming_ToolBar_")[1].split("_")[0];i?(this.handled=!0,this.performZoomingByToolBar(a)):"mousedown"!==e.type&&"pointerdown"!==e.type||this.handled?this.handled=!1:(this.handled=!1,this.performZoomingByToolBar(a))},e.prototype.performZoomingByToolBar=function(e){var t=this.maps;switch(e.toLowerCase()){case"zoom":this.panColor=this.fillColor,this.zoomColor=this.selectionColor,this.applySelection(this.zoomElements,this.selectionColor),this.applySelection(this.panElements,this.fillColor);break;case"pan":this.maps.zoomSettings.enablePanning?this.panColor=this.selectionColor:this.panColor="#737373",this.zoomColor=this.fillColor,this.maps.zoomSettings.enablePanning?(this.applySelection(this.zoomElements,this.fillColor),this.applySelection(this.panElements,this.panColor)):(this.applySelection(this.zoomElements,this.selectionColor),this.applySelection(this.panElements,this.panColor));break;case"zoomin":t.staticMapZoom=t.tileZoomLevel,t.staticMapZoom>0&&t.staticMapZoom<22&&(t.staticMapZoom+=1),this.toolBarZooming((t.isTileMap?t.tileZoomLevel:t.scale)+1,"ZoomIn");break;case"zoomout":t.staticMapZoom=t.tileZoomLevel,t.markerCenterLatitude=null,t.markerCenterLongitude=null,this.toolBarZooming((t.isTileMap?t.tileZoomLevel:t.scale)-1,"ZoomOut");break;case"reset":t.staticMapZoom=t.zoomSettings.enable?t.zoomSettings.zoomFactor:0,t.markerCenterLatitude=null,t.markerCenterLongitude=null,this.toolBarZooming(1,"Reset"),this.maps.zoomSettings.enablePanning?(this.applySelection(this.zoomElements,this.fillColor),this.applySelection(this.panElements,this.selectionColor)):(this.applySelection(this.zoomElements,this.selectionColor),this.applySelection(this.panElements,"#737373"))}this.panningStyle(e.toLowerCase())},e.prototype.panningStyle=function(e){var t=me(this.maps.element.id+"_svg");"pan"===e||this.isPanning?t.setAttribute("class","e-maps-panning"):t.setAttribute("class","")},e.prototype.applySelection=function(e,t){if(e)for(var i,a=0;a<e.childElementCount;a++)"circle"!==(i=e.childNodes[a]).tagName&&(i.setAttribute("fill",t),i.setAttribute("stroke",t))},e.prototype.showTooltip=function(e){var t=e.target.id.split("_Zooming_ToolBar_")[1].split("_")[0];this.isTouch||Ie("EJ2_Map_Toolbar_Tip",this.maps.getLocalizedLabel(t),e.pageY+10,e.pageX+10,"10px")},e.prototype.removeTooltip=function(){me("EJ2_Map_Toolbar_Tip")&&t.remove(me("EJ2_Map_Toolbar_Tip"))},e.prototype.alignToolBar=function(){var e=this.maps,i=t.createElement("div",{id:e.element.id+"_ToolBar",styles:"position:absolute;z-index:2"}),a=e.renderer.createSvg({id:e.element.id+"_Zooming_ToolBar",width:10,height:10});a.appendChild(this.toolBarGroup),i.appendChild(a),me(e.element.id+"_Secondary_Element")&&me(e.element.id+"_Secondary_Element").appendChild(i);var o=this.toolBarGroup.getBoundingClientRect();a.setAttribute("height",(o.height+5).toString()),a.setAttribute("width",(o.width+5).toString());var n=e.mapAreaRect,l=0,r=0;switch(e.zoomSettings.verticalAlignment){case"Near":r=n.y;break;case"Center":r=n.height/2-o.height/2;break;case"Far":r=n.height-o.height-10}switch(e.zoomSettings.horizontalAlignment){case"Near":l=n.x;break;case"Center":l=n.width/2-o.width/2;break;case"Far":l=n.width-o.width-10}i.style.left=l+"px",i.style.top=r+"px";var s=this.maps.zoomSettings.highlightColor,d=" .e-maps-toolbar:hover > circle { stroke:"+s+"; } .e-maps-toolbar:hover > path { fill: "+s+" ;  stroke: "+s+"; }.e-maps-toolbar:hover { cursor: pointer; } .e-maps-cursor-disable:hover { cursor: not-allowed; } .e-maps-panning:hover { cursor: pointer; } .e-maps-popup-close { display: block; opacity: 0; }",p=document.createElement("style");p.appendChild(document.createTextNode(d)),i.appendChild(p)},e.prototype.wireEvents=function(e,i){t.EventHandler.add(e,t.Browser.touchStartEvent,i,this),t.EventHandler.add(e,"mouseover",this.showTooltip,this),t.EventHandler.add(e,"mouseout",this.removeTooltip,this)},e.prototype.mapMouseWheel=function(e){if(this.maps.zoomSettings.enable&&this.maps.zoomSettings.mouseWheelZoom){var t=this.maps;t.availableSize;t.markerZoomedState=!1,t.zoomPersistence=t.enablePersistence;var i=this.getMousePosition(e.pageX,e.pageY),a=t.tileZoomLevel,o=t.scale,n=t.isTileMap?a:o;if(i.x>t.mapAreaRect.x&&i.x<t.mapAreaRect.x+t.mapAreaRect.width&&i.y>t.mapAreaRect.y&&i.y<t.mapAreaRect.y+t.mapAreaRect.height){e.preventDefault();var l="mozilla"!==this.browserName||this.isPointer?e.wheelDelta/120>0?"ZoomIn":"ZoomOut":-e.detail/3>0?"ZoomIn":"ZoomOut";"ZoomIn"===l?(t.mapScaleValue=n+1,t.staticMapZoom=t.tileZoomLevel,t.staticMapZoom>0&&t.staticMapZoom<22&&(t.staticMapZoom+=1),this.performZooming(i,n+1,l)):(t.mapScaleValue=n-1,t.staticMapZoom=t.tileZoomLevel,1===t.mapScaleValue&&(t.markerCenterLatitude=null,t.markerCenterLongitude=null),t.staticMapZoom>1&&t.staticMapZoom<22&&(t.staticMapZoom-=1),this.performZooming(i,n-1,l))}}},e.prototype.doubleClick=function(e){var t=e.pageX,i=e.pageY;e.target;if(this.maps.zoomSettings.enable&&this.maps.zoomSettings.doubleClickZoom&&!(e.target.id.indexOf("_Zooming_")>-1)){var a=this.getMousePosition(t,i),o=this.maps,n=(o.availableSize,o.tileZoomLevel),l=o.scale;o.mapScaleValue=o.mapScaleValue+1;var r=o.isTileMap?n:l;a.x>o.mapAreaRect.x&&a.x<o.mapAreaRect.x+o.mapAreaRect.width&&a.y>o.mapAreaRect.y&&a.y<o.mapAreaRect.y+o.mapAreaRect.height&&this.performZooming(a,r+1,"ZoomIn")}},e.prototype.mouseDownHandler=function(e){var t,i,a=null;e.target;"touchstart"===e.type?(this.isTouch=!0,a=e.touches,e.target,t=a[0].clientX,i=a[0].clientY):(t=e.pageX,i=e.pageY,e.target),this.maps.zoomSettings.enablePanning?this.isPanning=this.panColor===this.selectionColor?this.maps.zoomSettings.enablePanning:this.zoomColor!==this.selectionColor:this.isPanning=this.panColor!==this.selectionColor?this.maps.zoomSettings.enablePanning:this.zoomColor===this.selectionColor,this.mouseDownLatLong={x:t,y:i},this.rectZoomingStart=!this.isPanning&&this.maps.zoomSettings.enable,this.mouseDownPoints=this.getMousePosition(t,i),this.isTouch&&(this.firstMove=!0,this.pinchFactor=this.maps.scale,this.fingers=a.length),this.isSingleClick=!0},e.prototype.mouseMoveHandler=function(e){var i,a,o,n=this.maps,l=null,r=this.maps.zoomSettings;"touchmove"===e.type?(this.isTouch=!0,o=e.target,i=(l=e.touches)[0].clientX,a=l[0].clientY):(i=e.pageX,a=e.pageY,o=e.target),me(n.element.id+"_Zooming_KitCollection")&&(o.id.indexOf("_Zooming_")>-1?(me(n.element.id+"_Zooming_KitCollection").setAttribute("opacity","1"),document.getElementById(n.element.id+"_Zooming_ToolBar_Pan_Group")&&(this.maps.zoomSettings.enablePanning||(o.id.indexOf("_Zooming_ToolBar")>-1||o.id.indexOf("_Zooming_Rect")>-1)&&(me(n.element.id+"_Zooming_ToolBar_Pan_Rect").setAttribute("opacity","0.3"),me(n.element.id+"_Zooming_ToolBar_Pan").setAttribute("opacity","0.3")))):(me(n.element.id+"_Zooming_KitCollection").setAttribute("opacity","0.3"),!this.maps.zoomSettings.enablePanning&&document.getElementById(n.element.id+"_Zooming_ToolBar_Pan_Group")&&(me(n.element.id+"_Zooming_ToolBar_Pan_Rect").setAttribute("opacity","1"),me(n.element.id+"_Zooming_ToolBar_Pan").setAttribute("opacity","1")))),this.isTouch&&this.maps.zoomSettings.pinchZooming&&(this.firstMove&&2===l.length?(this.rectZoomingStart=!1,this.updateInteraction(),this.touchStartList=Ae(e)):2===this.touchStartList.length&&2===l.length&&(this.touchMoveList=Ae(e),e.preventDefault(),this.rectZoomingStart=!1,this.performPinchZooming(e)),this.firstMove=!1),this.mouseMovePoints=this.getMousePosition(i,a);e.target.id,e.target;r.enable&&this.isPanning&&(t.Browser.isDevice&&l.length>1||!t.Browser.isDevice)&&(e.preventDefault(),this.maps.element.style.cursor="pointer",this.mouseMoveLatLong={x:i,y:a},this.mouseDownLatLong.x!==this.mouseMoveLatLong.x&&this.mouseDownLatLong.y!==this.mouseMoveLatLong.y&&(this.maps.zoomSettings.enablePanning&&this.panning("None",null,null,e),this.mouseDownLatLong.x=i,this.mouseDownLatLong.y=a)),(this.isTouch?1===l.length&&this.rectZoomingStart:this.rectZoomingStart)&&(e.preventDefault(),this.maps.zoomSettings.enableSelectionZooming&&this.drawZoomRectangle())},e.prototype.mouseUpHandler=function(e){this.maps;this.rectZoomingStart=!1,this.isPanning=!1,this.isSingleClick=!!this.isSingleClick,this.isTouch=!1,this.touchStartList=[],this.touchMoveList=[],this.lastScale=1,this.maps.element.style.cursor="auto",t.isNullOrUndefined(this.distanceX)&&t.isNullOrUndefined(this.distanceY)||t.isNullOrUndefined(this.currentLayer)||"SubLayer"!==this.currentLayer.type||(this.toAlignSublayer(),this.distanceX=this.distanceY=null);var i=me(this.maps.element.id+"_Selection_Rect_Zooming");i&&this.maps.zoomSettings.enable&&this.maps.zoomSettings.enableSelectionZooming&&(t.remove(i),this.performRectZooming()),this.mouseMoveLatLong={x:0,y:0},this.mouseDownLatLong={x:0,y:0}},e.prototype.mouseCancelHandler=function(e){this.isPanning=!1,this.isTouch=!1,this.rectZoomingStart=!1;var i=me(this.maps.element.id+"_Selection_Rect_Zooming");i&&this.maps.zoomSettings.enable&&(t.remove(i),this.performRectZooming())},e.prototype.click=function(e){var t=this.maps;if(t.markerModule&&t.markerModule.sameMarkerData.length>0||e.target.id.indexOf("MarkerIndex")>-1&&-1==e.target.id.indexOf("cluster"))return null;if(this.isSingleClick&&t.zoomSettings.zoomOnClick&&!(e.target.id.indexOf("_Zooming_")>-1)&&!t.zoomSettings.doubleClickZoom&&this.zoomColor!==this.selectionColor){var i=e.pageX,a=e.pageY,o=this.getMousePosition(i,a),n=t.tileZoomLevel,l=t.scale;t.mapScaleValue=t.mapScaleValue+1;var r=t.isTileMap?n:l;o.x>t.mapAreaRect.x&&o.x<t.mapAreaRect.x+t.mapAreaRect.width&&o.y>t.mapAreaRect.y&&o.y<t.mapAreaRect.y+t.mapAreaRect.height&&this.performZooming(o,r+1,"ZoomIn")}},e.prototype.getMousePosition=function(e,t){var i=this.maps,a=i.element.getBoundingClientRect(),o=i.element.ownerDocument.defaultView.pageXOffset,n=i.element.ownerDocument.defaultView.pageYOffset,l=i.element.ownerDocument.documentElement.clientTop,r=i.element.ownerDocument.documentElement.clientLeft,s=a.left+o-r,d=a.top+n-l;return new Qe(Math.abs(e-s),Math.abs(t-d))},e.prototype.addEventListener=function(){this.maps.isDestroyed||(t.EventHandler.add(this.maps.element,this.wheelEvent,this.mapMouseWheel,this),t.EventHandler.add(this.maps.element,"click",this.click,this),t.EventHandler.add(this.maps.element,"dblclick",this.doubleClick,this),this.maps.on(t.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.maps.on(t.Browser.touchStartEvent,this.mouseDownHandler,this),this.maps.on(t.Browser.touchEndEvent,this.mouseUpHandler,this),t.EventHandler.add(this.maps.element,this.cancelEvent,this.mouseCancelHandler,this))},e.prototype.removeEventListener=function(){this.maps.isDestroyed||(t.EventHandler.remove(this.maps.element,this.wheelEvent,this.mapMouseWheel),t.EventHandler.remove(this.maps.element,"click",this.click),t.EventHandler.remove(this.maps.element,"dblclick",this.doubleClick),this.maps.off(t.Browser.touchMoveEvent,this.mouseMoveHandler),this.maps.off(t.Browser.touchStartEvent,this.mouseDownHandler),this.maps.off(t.Browser.touchEndEvent,this.mouseUpHandler),this.maps.off(this.cancelEvent,this.mouseCancelHandler))},e.prototype.getModuleName=function(){return"Zoom"},e.prototype.destroy=function(e){this.removeEventListener()},e}();return mi.Inject(gi,vi,Jt,Si,_i,Mi,Li,fi,bi,di),e.Maps=mi,e.load="load",e.loaded="loaded",e.click="click",e.rightClick="rightClick",e.doubleClick="doubleClick",e.resize="resize",e.tooltipRender="tooltipRender",e.shapeSelected="shapeSelected",e.shapeHighlight="shapeHighlight",e.mousemove="mousemove",e.mouseup="mouseup",e.mousedown="mousedown",e.layerRendering="layerRendering",e.shapeRendering="shapeRendering",e.markerRendering=Kt,e.markerClusterRendering=Qt,e.markerClick=$t,e.markerClusterClick=ei,e.markerMouseMove=ti,e.markerClusterMouseMove=ii,e.dataLabelRendering="dataLabelRendering",e.bubbleRendering="bubbleRendering",e.bubbleClick="bubbleClick",e.bubbleMouseMove="bubbleMouseMove",e.animationComplete=ai,e.legendRendering="legendRendering",e.annotationRendering="annotationRendering",e.itemSelection=oi,e.itemHighlight="itemHighlight",e.beforePrint="beforePrint",e.zoomIn="zoomIn",e.zoomOut="zoomOut",e.pan="pan",e.Annotation=xt,e.Arrow=St,e.Font=Ot,e.Border=_t,e.CenterPosition=Mt,e.TooltipSettings=Ct,e.Margin=Lt,e.ConnectorLineSettings=Pt,e.MarkerClusterSettings=wt,e.MarkerClusterData=Tt,e.ColorMappingSettings=It,e.InitialShapeSelectionSettings=Nt,e.SelectionSettings=kt,e.HighlightSettings=Et,e.NavigationLineSettings=zt,e.BubbleSettings=jt,e.CommonTitleSettings=At,e.SubTitleSettings=Bt,e.TitleSettings=Ft,e.ZoomSettings=Rt,e.ToggleLegendSettings=Ut,e.LegendSettings=Zt,e.DataLabelSettings=Dt,e.ShapeSettings=Ht,e.MarkerBase=Vt,e.MarkerSettings=Gt,e.LayerSettings=Wt,e.Tile=qt,e.MapsAreaSettings=Xt,e.Size=Ke,e.stringToNumber=n,e.calculateSize=l,e.createSvg=r,e.getMousePosition=s,e.degreesToRadians=d,e.radiansToDegrees=p,e.convertGeoToPoint=h,e.convertTileLatLongToPoint=c,e.xToCoordinate=m,e.yToCoordinate=u,e.aitoff=g,e.roundTo=y,e.sinci=f,e.acos=b,e.calculateBound=v,e.Point=Qe,e.MinMax=$e,e.GeoLocation=et,e.measureText=x,e.TextOption=tt,e.PathOption=it,e.ColorValue=at,e.RectOption=ot,e.CircleOption=nt,e.PolygonOption=lt,e.PolylineOption=rt,e.LineOption=st,e.Line=dt,e.MapLocation=pt,e.Rect=ht,e.PatternOptions=ct,e.renderTextElement=S,e.convertElement=O,e.formatValue=_,e.convertStringToValue=M,e.convertElementFromLabel=C,e.drawSymbols=L,e.getValueFromObject=P,e.markerColorChoose=w,e.markerShapeChoose=T,e.clusterTemplate=I,e.mergeSeparateCluster=N,e.clusterSeparate=k,e.marker=E,e.markerTemplate=z,e.maintainSelection=j,e.maintainStyleClass=A,e.appendShape=B,e.drawCircle=F,e.drawRectangle=R,e.drawPath=U,e.drawPolygon=Z,e.drawPolyline=D,e.drawLine=H,e.calculateShapes=V,e.drawDiamond=G,e.drawTriangle=W,e.drawCross=q,e.drawHorizontalLine=X,e.drawVerticalLine=Y,e.drawStar=J,e.drawBalloon=K,e.drawPattern=Q,e.getFieldData=$,e.checkShapeDataFields=ee,e.checkPropertyPath=te,e.filter=ie,e.getRatioOfBubble=ae,e.findMidPointOfPolygon=oe,e.isCustomPath=ne,e.textTrim=le,e.findPosition=re,e.removeElement=se,e.calculateCenterFromPixel=de,e.getTranslate=pe,e.getZoomTranslate=he,e.fixInitialScaleForTile=ce,e.getElementByID=me,e.Internalize=ue,e.getTemplateFunction=ge,e.getElement=ye,e.getShapeData=fe,e.triggerShapeEvent=be,e.getElementsByClassName=ve,e.querySelector=xe,e.getTargetElement=Se,e.createStyle=Oe,e.customizeStyle=_e,e.triggerItemSelectionEvent=Me,e.removeClass=Ce,e.elementAnimate=Le,e.timeout=Pe,e.showTooltip=we,e.wordWrap=Te,e.createTooltip=Ie,e.drawSymbol=Ne,e.renderLegendShape=ke,e.getElementOffset=Ee,e.changeBorderWidth=ze,e.changeNavaigationLineWidth=je,e.targetTouches=Ae,e.calculateScale=Be,e.getDistance=Fe,e.getTouches=Re,e.getTouchCenter=Ue,e.sum=Ze,e.zoomAnimate=De,e.animate=He,e.MapAjax=mt,e.smoothTranslate=Ve,e.compareZoomFactor=Ge,e.calculateZoomLevel=We,e.LayerPanel=si,e.Bubble=gi,e.BingMap=ni,e.Marker=Jt,e.ColorMapping=li,e.DataLabel=fi,e.NavigationLine=bi,e.Legend=vi,e.Highlight=Si,e.Selection=_i,e.MapsTooltip=Mi,e.Zoom=Li,e.Annotations=di,e}({},ej.base,ej.svgbase,ej.data,ej.pdfexport),this.ejs=ej;
